(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n,r=null!==(e=null==t?void 0:t.identifier)&&void 0!==e?e:o,i=null!==(n=null==t?void 0:t.optional)&&void 0!==n&&n,s=this.normalizeInstanceIdentifier(r);if(!this.isInitialized(s)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(i)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),c=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:u});c.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,s=t.options,a=void 0===s?{}:s,c=this.normalizeInstanceIdentifier(void 0===i?o:i);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:c,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=Object(r.e)(h.value,2),f=d[1];c===this.normalizeInstanceIdentifier(d[0])&&f.resolve(u)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(u,c),u},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var s=Object(r.g)(this.onInitCallbacks),o=s.next();!o.done;o=s.next()){var a=o.value;try{a(t,e)}catch(c){}}}catch(u){n={error:u}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var c=n("3N8a");class u extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(u),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new u(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class u extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a});var i="8.6.5";r.a.registerVersion("firebase",i,"app"),r.a.SDK_VERSION=i},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("EY2u"),i=n("LRne"),s=n("z6cu");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return dn}),n.d(e,"b",function(){return cl}),n.d(e,"c",function(){return rl}),n.d(e,"d",function(){return el}),n.d(e,"e",function(){return nl}),n.d(e,"f",function(){return rh}),n.d(e,"g",function(){return Wl}),n.d(e,"h",function(){return $c}),n.d(e,"i",function(){return vl}),n.d(e,"j",function(){return yc}),n.d(e,"k",function(){return hl}),n.d(e,"l",function(){return wc}),n.d(e,"m",function(){return Jl}),n.d(e,"n",function(){return Tr}),n.d(e,"o",function(){return Pu}),n.d(e,"p",function(){return Ts}),n.d(e,"q",function(){return jn}),n.d(e,"r",function(){return A}),n.d(e,"s",function(){return hn}),n.d(e,"t",function(){return Hs}),n.d(e,"u",function(){return Uc}),n.d(e,"v",function(){return qc}),n.d(e,"w",function(){return ll}),n.d(e,"x",function(){return iu}),n.d(e,"y",function(){return $l}),n.d(e,"z",function(){return ru}),n.d(e,"A",function(){return Ul}),n.d(e,"B",function(){return El}),n.d(e,"C",function(){return Pn}),n.d(e,"D",function(){return al}),n.d(e,"E",function(){return ol}),n.d(e,"F",function(){return Lu}),n.d(e,"G",function(){return Cc}),n.d(e,"H",function(){return Sc}),n.d(e,"I",function(){return Pr}),n.d(e,"J",function(){return xc}),n.d(e,"K",function(){return Sr}),n.d(e,"L",function(){return Nn}),n.d(e,"M",function(){return Ql}),n.d(e,"N",function(){return Jc}),n.d(e,"O",function(){return Il}),n.d(e,"P",function(){return fn}),n.d(e,"Q",function(){return Tc}),n.d(e,"R",function(){return kc}),n.d(e,"S",function(){return ou}),n.d(e,"T",function(){return L}),n.d(e,"U",function(){return Bl}),n.d(e,"V",function(){return Ml}),n.d(e,"W",function(){return f}),n.d(e,"X",function(){return An}),n.d(e,"Y",function(){return Fl}),n.d(e,"Z",function(){return eh}),n.d(e,"ab",function(){return Dl}),n.d(e,"bb",function(){return ul}),n.d(e,"cb",function(){return As}),n.d(e,"db",function(){return fa}),n.d(e,"eb",function(){return g}),n.d(e,"fb",function(){return wr}),n.d(e,"gb",function(){return rr}),n.d(e,"hb",function(){return Wn}),n.d(e,"ib",function(){return $n}),n.d(e,"jb",function(){return Yn}),n.d(e,"kb",function(){return Xn}),n.d(e,"lb",function(){return Kn}),n.d(e,"mb",function(){return Qn}),n.d(e,"nb",function(){return ua}),n.d(e,"ob",function(){return th}),n.d(e,"pb",function(){return la}),n.d(e,"qb",function(){return ha}),n.d(e,"rb",function(){return Gn}),n.d(e,"sb",function(){return B}),n.d(e,"tb",function(){return to}),n.d(e,"ub",function(){return Eo}),n.d(e,"vb",function(){return _o}),n.d(e,"wb",function(){return wo}),n.d(e,"xb",function(){return ca}),n.d(e,"yb",function(){return kt}),n.d(e,"zb",function(){return l}),n.d(e,"Ab",function(){return Hn}),n.d(e,"Bb",function(){return Gs}),n.d(e,"Cb",function(){return _t}),n.d(e,"Db",function(){return pc}),n.d(e,"Eb",function(){return Ai}),n.d(e,"Fb",function(){return so}),n.d(e,"Gb",function(){return Uo}),n.d(e,"Hb",function(){return na}),n.d(e,"Ib",function(){return ra}),n.d(e,"Jb",function(){return Vo}),n.d(e,"Kb",function(){return Ku}),n.d(e,"Lb",function(){return J}),n.d(e,"Mb",function(){return ot}),n.d(e,"Nb",function(){return w}),n.d(e,"Ob",function(){return E}),n.d(e,"Pb",function(){return rt}),n.d(e,"Qb",function(){return at}),n.d(e,"Rb",function(){return uo}),n.d(e,"Sb",function(){return mo}),n.d(e,"Tb",function(){return bo}),n.d(e,"Ub",function(){return yo}),n.d(e,"Vb",function(){return go}),n.d(e,"Wb",function(){return po}),n.d(e,"Xb",function(){return fo}),n.d(e,"Yb",function(){return vo}),n.d(e,"Zb",function(){return on}),n.d(e,"ac",function(){return ia}),n.d(e,"bc",function(){return ic}),n.d(e,"cc",function(){return oc}),n.d(e,"dc",function(){return sc}),n.d(e,"ec",function(){return In}),n.d(e,"fc",function(){return cn}),n.d(e,"gc",function(){return tl}),n.d(e,"hc",function(){return So}),n.d(e,"ic",function(){return Xu}),n.d(e,"jc",function(){return Se}),n.d(e,"kc",function(){return Ee}),n.d(e,"lc",function(){return xo}),n.d(e,"mc",function(){return Tu}),n.d(e,"nc",function(){return Iu}),n.d(e,"oc",function(){return Au}),n.d(e,"pc",function(){return Io}),n.d(e,"qc",function(){return To}),n.d(e,"rc",function(){return lo}),n.d(e,"sc",function(){return Ao}),n.d(e,"tc",function(){return Ro}),n.d(e,"uc",function(){return wu}),n.d(e,"vc",function(){return Eu}),n.d(e,"wc",function(){return Su}),n.d(e,"xc",function(){return Cu}),n.d(e,"yc",function(){return Gu}),n.d(e,"zc",function(){return co}),n.d(e,"Ac",function(){return $t}),n.d(e,"Bc",function(){return Cr}),n.d(e,"Cc",function(){return it}),n.d(e,"Dc",function(){return Mo}),n.d(e,"Ec",function(){return ao}),n.d(e,"Fc",function(){return Ju}),n.d(e,"Gc",function(){return Zo}),n.d(e,"Hc",function(){return Jo}),n.d(e,"Ic",function(){return ta}),n.d(e,"Jc",function(){return ea}),n.d(e,"Kc",function(){return $u});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function c(t){for(let e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function u(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=c({__forward_ref__:c});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function v(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${b(t)} found${n}`)}function _(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){return{providers:t.providers||[],imports:t.imports||[]}}function S(t){return C(t,x)||C(t,T)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function O(t){return t&&(t.hasOwnProperty(k)||t.hasOwnProperty(I))?t[k]:null}const x=c({"\u0275prov":c}),k=c({"\u0275inj":c}),T=c({ngInjectableDef:c}),I=c({ngInjectorDef:c});var A=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let R;function D(t){const e=R;return R=t,e}function j(t,e,n){const r=S(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&A.Optional?null:void 0!==e?e:void v(l(t),"Injector")}function P(t){return{toString:t}.toString()}var N=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,B=F||U||M||V,q={},z=[],H=[],W=c({"\u0275cmp":c}),G=c({"\u0275dir":c}),$=c({"\u0275pipe":c}),K=c({"\u0275mod":c}),X=c({"\u0275loc":c}),Q=c({"\u0275fac":c}),Y=c({__NG_ELEMENT_ID__:c});let Z=0;function J(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||H,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||H,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Z++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(et):null,n})}function tt(t){return ct(t)||function(t){return t[G]||null}(t)}function et(t){return function(t){return t[$]||null}(t)}const nt={};function rt(t){const e={type:t.type,bootstrap:t.bootstrap||H,declarations:t.declarations||H,imports:t.imports||H,exports:t.exports||H,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{nt[t.id]=t.type}),e}function it(t,e){return P(()=>{const n=ut(t,!0);n.declarations=e.declarations||H,n.imports=e.imports||H,n.exports=e.exports||H})}function st(t,e){if(null==t)return q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ot=J;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[W]||null}function ut(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const lt=20,ht=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function ft(t){return Array.isArray(t)&&!0===t[1]}function pt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function gt(t){return 1==(1&t.flags)}function yt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}class vt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return wt}function wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=St),Et}function Et(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function St(t,e,n,r){const i=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:q,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new vt(c&&c.currentValue,e,o===q),t[r]=e}function Ct(t){return t.__ngSimpleChanges__||null}_t.ngInherit=!0;const Ot="http://www.w3.org/2000/svg";let xt;function kt(t){xt=t}function Tt(){return void 0!==xt?xt:"undefined"!=typeof document?document:void 0}function It(t){return!!t.listen}const At={createRenderer:(t,e)=>Tt()};function Rt(t){for(;Array.isArray(t);)t=t[0];return t}function Dt(t,e){return Rt(e[t])}function jt(t,e){return Rt(e[t.index])}function Pt(t,e){return t.data[e]}function Nt(t,e){return t[e]}function Lt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ft(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Mt(t){return 4==(4&t[2])}function Vt(t){return 128==(128&t[2])}function Ut(t,e){return null==e?null:t[e]}function Bt(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const zt={lFrame:me(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ht(){return zt.bindingsEnabled}function Wt(){return zt.lFrame.lView}function Gt(){return zt.lFrame.tView}function $t(t){zt.lFrame.contextLView=t}function Kt(){let t=Xt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xt(){return zt.lFrame.currentTNode}function Qt(){const t=zt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Yt(t,e){const n=zt.lFrame;n.currentTNode=t,n.isParent=e}function Zt(){return zt.lFrame.isParent}function Jt(){zt.lFrame.isParent=!1}function te(){return zt.isInCheckNoChangesMode}function ee(t){zt.isInCheckNoChangesMode=t}function ne(){const t=zt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function re(){return zt.lFrame.bindingIndex}function ie(){return zt.lFrame.bindingIndex++}function se(t){const e=zt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function oe(t){zt.lFrame.inI18n=t}function ae(t,e){const n=zt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ce(e)}function ce(t){zt.lFrame.currentDirectiveIndex=t}function ue(){return zt.lFrame.currentQueryIndex}function le(t){zt.lFrame.currentQueryIndex=t}function he(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function de(t,e,n){if(n&A.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&A.Host||(r=he(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=zt.lFrame=pe();return r.currentTNode=e,r.lView=t,!0}function fe(t){const e=pe(),n=t[1];zt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function pe(){const t=zt.lFrame,e=null===t?null:t.child;return null===e?me(t):e}function me(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ge(){const t=zt.lFrame;return zt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ye=ge;function be(){const t=ge();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ve(){return zt.lFrame.selectedIndex}function _e(t){zt.lFrame.selectedIndex=t}function we(){const t=zt.lFrame;return Pt(t.tView,t.selectedIndex)}function Ee(){zt.lFrame.currentNamespace=Ot}function Se(){zt.lFrame.currentNamespace=null}function Ce(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Oe(t,e,n){Te(t,e,3,n)}function xe(t,e,n,r){(3&t[2])===n&&Te(t,e,n,r)}function ke(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Te(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ie(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ie(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Ae=-1;class Re{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function De(t,e,n){const r=It(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];Pe(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function je(t){return 3===t||4===t||6===t}function Pe(t){return 64===t.charCodeAt(0)}function Ne(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Le(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Le(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Fe(t){return t!==Ae}function Me(t){return 32767&t}function Ve(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ue=!0;function Be(t){const e=Ue;return Ue=t,e}let qe=0;function ze(t,e){const n=We(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,He(r.data,t),He(e,null),He(r.blueprint,null));const i=Ge(t,e),s=t.injectorIndex;if(Fe(i)){const t=Me(i),n=Ve(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function He(t,e){t.push(0,0,0,0,0,0,0,0,e)}function We(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ge(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ae;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ae}function $e(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=qe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ke(t,e,n){if(n&A.Optional)return t;v(e,"NodeInjector")}function Xe(t,e,n,r){if(n&A.Optional&&void 0===r&&(r=null),0==(n&(A.Self|A.Host))){const i=t[9],s=D(void 0);try{return i?i.get(e,r,n&A.Optional):j(e,r,n&A.Optional)}finally{D(s)}}return Ke(r,e,n)}function Qe(t,e,n,r=A.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:Ze:e}(n);if("function"==typeof s){if(!de(e,t,r))return r&A.Host?Ke(i,n,r):Xe(e,n,r,i);try{const t=s();if(null!=t||r&A.Optional)return t;v(n)}finally{ye()}}else if("number"==typeof s){let i=null,o=We(t,e),a=Ae,c=r&A.Host?e[16][6]:null;for((-1===o||r&A.SkipSelf)&&(a=-1===o?Ge(t,e):e[o+8],a!==Ae&&rn(r,!1)?(i=e[1],o=Me(a),e=Ve(a,e)):o=-1);-1!==o;){const t=e[1];if(nn(s,o,t.data)){const t=Je(o,e,n,i,r,c);if(t!==Ye)return t}a=e[o+8],a!==Ae&&rn(r,e[1].data[o+8]===c)&&nn(s,o,e)?(i=t,o=Me(a),e=Ve(a,e)):o=-1}}}return Xe(e,n,r,i)}const Ye={};function Ze(){return new sn(Kt(),Wt())}function Je(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=tn(a,o,n,null==r?mt(a)&&Ue:r!=o&&0!=(3&a.type),i&A.Host&&s===a);return null!==c?en(e,o,c,a):Ye}function tn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=o[c];if(t&&yt(t)&&t.type===n)return c}return null}function en(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Re){const o=i;o.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(b(s[n]));const a=Be(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?D(o.injectImpl):null;de(t,r,A.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&D(c),Be(a),o.resolving=!1,ye()}}return i}function nn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function rn(t,e){return!(t&A.Self||t&A.Host&&e)}class sn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Qe(this._tNode,this._lView,t,void 0,e)}}function on(t){return P(()=>{const e=t.prototype.constructor,n=e[Q]||an(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Q]||an(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function an(t){return m(t)?()=>{const e=an(p(t));return e&&e()}:bt(t)}function cn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(je(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Kt(),t)}const un="__parameters__";function ln(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(un)?t[un]:Object.defineProperty(t,un,{value:[]})[un];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class hn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const dn=new hn("AnalyzeForEntryComponents"),fn=Function;function pn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),pn(r,e)):e!==t&&e.push(r)}return e}function mn(t,e){t.forEach(t=>Array.isArray(t)?mn(t,e):e(t))}function gn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function vn(t,e,n){let r=wn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function _n(t,e){const n=wn(t,e);if(n>=0)return t[1|n]}function wn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const En={},Sn=/\n/gm,Cn="__source",On=c({provide:String,useValue:c});let xn;function kn(t){const e=xn;return xn=t,e}function Tn(t,e=A.Default){if(void 0===xn)throw new Error("inject() must be called from an injection context");return null===xn?j(t,void 0,e):xn.get(t,e&A.Optional?null:void 0,e)}function In(t,e=A.Default){return(R||Tn)(p(t),e)}const An=In;function Rn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=A.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(In(t,n))}else e.push(In(r))}return e}function Dn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const jn=Dn(ln("Inject",t=>({token:t})),-1),Pn=Dn(ln("Optional"),8),Nn=Dn(ln("SkipSelf"),4);let Ln;function Fn(t){var e;return(null===(e=function(){if(void 0===Ln&&(Ln=null,B.trustedTypes))try{Ln=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Ln}())||void 0===e?void 0:e.createHTML(t))||t}class Mn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Vn extends Mn{getTypeName(){return"HTML"}}class Un extends Mn{getTypeName(){return"Style"}}class Bn extends Mn{getTypeName(){return"Script"}}class qn extends Mn{getTypeName(){return"URL"}}class zn extends Mn{getTypeName(){return"ResourceURL"}}function Hn(t){return t instanceof Mn?t.changingThisBreaksApplicationSecurity:t}function Wn(t,e){const n=Gn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Gn(t){return t instanceof Mn&&t.getTypeName()||null}function $n(t){return new Vn(t)}function Kn(t){return new Un(t)}function Xn(t){return new Bn(t)}function Qn(t){return new qn(t)}function Yn(t){return new zn(t)}function Zn(t){const e=new tr(t);return function(){try{return!!(new window.DOMParser).parseFromString(Fn(""),"text/html")}catch(t){return!1}}()?new Jn(e):e}class Jn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Fn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class tr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Fn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Fn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const er=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,nr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function rr(t){return(t=String(t)).match(er)||t.match(nr)?t:"unsafe:"+t}function ir(t){return(t=String(t)).split(",").map(t=>rr(t.trim())).join(", ")}function sr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function or(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ar=sr("area,br,col,hr,img,wbr"),cr=sr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ur=sr("rp,rt"),lr=or(ur,cr),hr=or(ar,or(cr,sr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),or(ur,sr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lr),dr=sr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fr=sr("srcset"),pr=or(dr,fr,sr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mr=sr("script,style,template");class gr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!hr.hasOwnProperty(e))return this.sanitizedSomething=!0,!mr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!pr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=t.value;dr[i]&&(s=rr(s)),fr[i]&&(s=ir(s)),this.buf.push(" ",e,'="',vr(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();hr.hasOwnProperty(e)&&!ar.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(vr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const yr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,br=/([^\#-~ |!])/g;function vr(t){return t.replace(/&/g,"&amp;").replace(yr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(br,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _r;function wr(t,e){let n=null;try{_r=_r||Zn(t);let r=e?String(e):"";n=_r.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=_r.getInertBodyElement(r)}while(r!==s);return Fn((new gr).sanitizeChildren(Er(n)||n))}finally{if(n){const t=Er(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Er(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Sr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Cr(t){const e=function(){const t=Wt();return t&&t[12]}();return e?e.sanitize(Sr.URL,t)||"":Wn(t,"URL")?Hn(t):rr(y(t))}function Or(t){return t.ngDebugContext}function xr(t){return t.ngOriginalError}function kr(t,...e){t.error(...e)}class Tr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||kr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Or(t)?Or(t):this._findContext(xr(t)):null}_findOriginalError(t){let e=xr(t);for(;e&&xr(e);)e=xr(e);return e}}const Ir=/^>|^->|<!--|-->|--!>|<!-$/g,Ar=/(<|>)/;function Rr(t,e){t.__ngContext__=e}const Dr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function jr(t){return t instanceof Function?t():t}var Pr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Nr;function Lr(t,e){return Nr(t,e)}function Fr(t){const e=t[3];return ft(e)?e[3]:e}function Mr(t){return Ur(t[13])}function Vr(t){return Ur(t[4])}function Ur(t){for(;null!==t&&!ft(t);)t=t[4];return t}function Br(t,e,n,r,i){if(null!=r){let s,o=!1;ft(r)?s=r:dt(r)&&(o=!0,r=r[0]);const a=Rt(r);0===t&&null!==n?null==i?Jr(e,n,a):Zr(e,n,a,i||null,!0):1===t&&null!==n?Zr(e,n,a,i||null,!0):2===t?hi(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Rt(n)&&Br(e,t,r,s,i);for(let o=ht;o<n.length;o++){const i=n[o];fi(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function qr(t,e){return It(t)?t.createText(e):t.createTextNode(e)}function zr(t,e,n){It(t)?t.setValue(e,n):e.textContent=n}function Hr(t,e){return t.createComment(function(t){return t.replace(Ir,t=>t.replace(Ar,"\u200b$1\u200b"))}(e))}function Wr(t,e,n){return It(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Gr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qt(i,-1)),n.splice(r,1)}function $r(t,e){if(t.length<=ht)return;const n=ht+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Gr(s,r),e>0&&(t[n-1][4]=r[4]);const o=yn(t,ht+e);fi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Kr(t,e){if(!(256&e[2])){const n=e[11];It(n)&&n.destroyNode&&fi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Xr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Xr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Xr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Xr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Re)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Rt(e[t]),a=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&It(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ft(e[3])){n!==e[3]&&Gr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Qr(t,e,n){return Yr(t,e.parent,n)}function Yr(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return jt(r,n)}function Zr(t,e,n,r,i){It(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Jr(t,e,n){It(t)?t.appendChild(e,n):e.appendChild(n)}function ti(t,e,n,r,i){null!==r?Zr(t,e,n,r,i):Jr(t,e,n)}function ei(t,e){return It(t)?t.parentNode(e):e.parentNode}function ni(t,e,n){return si(t,e,n)}function ri(t,e,n){return 40&t.type?jt(t,n):null}let ii,si=ri;function oi(t,e){si=t,ii=e}function ai(t,e,n,r){const i=Qr(t,r,e),s=e[11],o=ni(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)ti(s,i,n[a],o,!1);else ti(s,i,n,o,!1);void 0!==ii&&ii(s,r,e,n,i)}function ci(t,e){if(null!==e){const n=e.type;if(3&n)return jt(e,t);if(4&n)return li(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return ci(t,n);{const n=t[e.index];return ft(n)?li(-1,n):Rt(n)}}if(32&n)return Lr(e,t)()||Rt(t[e.index]);{const n=ui(t,e);return null!==n?Array.isArray(n)?n[0]:ci(Fr(t[16]),n):ci(t,e.next)}}return null}function ui(t,e){return null!==e?t[16][6].projection[e.projection]:null}function li(t,e){const n=ht+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ci(t,r)}return e[7]}function hi(t,e,n){const r=ei(t,e);r&&function(t,e,n,r){It(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function di(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&Rr(Rt(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)di(t,e,n.child,r,i,s,!1),Br(e,t,i,a,s);else if(32&c){const o=Lr(n,r);let c;for(;c=o();)Br(e,t,i,c,s);Br(e,t,i,a,s)}else 16&c?pi(t,e,r,n,i,s):Br(e,t,i,a,s);n=o?n.projectionNext:n.next}}function fi(t,e,n,r,i,s){di(n,r,t.firstChild,e,i,s,!1)}function pi(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Br(e,t,i,a[c],s);else di(t,e,a,o[3],i,s,!0)}function mi(t,e,n){It(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function gi(t,e,n){It(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function yi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const bi="ng-template";function vi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==yi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function _i(t){return 4===t.type&&t.value!==bi}function wi(t,e,n){return e===(4!==t.type||n?t.value:bi)}function Ei(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(je(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!wi(t,c,n)||""===c&&1===e.length){if(Si(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!vi(t.attrs,u,n)){if(Si(r))return!1;o=!0}continue}const l=Ci(8&r?"class":c,i,_i(t),n);if(-1===l){if(Si(r))return!1;o=!0;continue}if(""!==u){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==yi(e,u,0)||2&r&&u!==t){if(Si(r))return!1;o=!0}}}}else{if(!o&&!Si(r)&&!Si(c))return!1;if(o&&Si(c))continue;o=!1,r=c|1&r}}return Si(r)||o}function Si(t){return 0==(1&t)}function Ci(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Oi(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ei(t,e[r],n))return!0;return!1}function xi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ki(t,e){return t?":not("+e.trim()+")":e}function Ti(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Si(o)||(e+=ki(s,i),i=""),r=o,s=s||!Si(r);n++}return""!==i&&(e+=ki(s,i)),e}const Ii={};function Ai(t){Ri(Gt(),Wt(),ve()+t,te())}function Ri(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Oe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&xe(e,r,0,n)}_e(n)}function Di(t,e){return t<<17|e<<2}function ji(t){return t>>17&32767}function Pi(t){return 2|t}function Ni(t){return(131068&t)>>2}function Li(t,e){return-131069&t|e<<2}function Fi(t){return 1|t}function Mi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];le(i),n.contentQueries(2,e[s],s)}}}function Vi(t,e,n,r,i,s,o,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Bt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Ui(t,e,n,r,i){let s=t.data[e];if(null===s)s=Bi(t,e,n,r,i),zt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=Qt();s.injectorIndex=null===t?-1:t.injectorIndex}return Yt(s,!0),s}function Bi(t,e,n,r,i){const s=Xt(),o=Zt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function qi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function zi(t,e,n){fe(e);try{const r=t.viewQuery;null!==r&&_s(1,r,n);const i=t.template;null!==i&&Gi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Mi(t,e),t.staticViewQueries&&_s(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)ms(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,be()}}function Hi(t,e,n,r){const i=e[2];if(256==(256&i))return;fe(e);const s=te();try{Bt(e),zt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Gi(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Oe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&xe(e,n,0,null),ke(e,0)}if(function(t){for(let e=Mr(t);null!==e;e=Vr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Mr(t);null!==e;e=Vr(e))for(let t=ht;t<e.length;t++){const n=e[t],r=n[1];Vt(n)&&Hi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Mi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Oe(e,n)}else{const n=t.contentHooks;null!==n&&xe(e,n,1),ke(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)_e(~r);else{const i=r,s=n[++t],o=n[++t];ae(s,i),o(2,e[i])}}}finally{_e(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)fs(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&_s(2,c,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Oe(e,n)}else{const n=t.viewHooks;null!==n&&xe(e,n,2),ke(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{be()}}function Wi(t,e,n,r){const i=e[10],s=!te(),o=Mt(e);try{s&&!o&&i.begin&&i.begin(),o&&zi(t,e,r),Hi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Gi(t,e,n,r,i){const s=ve(),o=2&r;try{_e(-1),o&&e.length>lt&&Ri(t,e,lt,te()),n(r,i)}finally{_e(s)}}function $i(t,e,n){if(pt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ki(t,e,n){Ht()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||ze(n,e),Rr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=yt(r);s&&cs(e,n,r);const c=en(e,t,a,n);Rr(c,e),null!==o&&ls(0,a-i,c,r,0,o),s&&(Lt(n.index,e)[8]=c)}}(t,e,n,jt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=zt.lFrame.currentDirectiveIndex;try{_e(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ce(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||rs(r,i)}}finally{_e(-1),ce(o)}}(t,e,n))}function Xi(t,e,n=jt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Qi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Yi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Yi(t,e,n,r,i,s,o,a,c,u){const l=lt+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ii);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Zi(t,e,n,r){const i=Es(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Ss(t).push(r,i.length-1))}function Ji(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ts(t,e,n,r,i,s,o,a){const c=jt(e,n);let u,l=e.inputs;var h;!a&&null!=l&&(u=l[r])?(Os(t,n,u,r,i),mt(e)&&function(t,e){const n=Lt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,It(s)?s.setProperty(c,r,i):Pe(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function es(t,e,n,r){let i=!1;if(Ht()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Oi(n,o.selectors,!1)&&(i||(i=[]),$e(ze(n,e),t,o.type),yt(o)?(is(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,os(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,c=qi(t,e,s.length,null);for(let i=0;i<s.length;i++){const u=s[i];n.mergedAttrs=Ne(n.mergedAttrs,u.hostAttrs),as(t,n,e,c,u),ss(c,u,o),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||_i(e)?null:hs(n,i);s.push(u),o=Ji(n,c,o),a=Ji(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new g("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ne(n.mergedAttrs,n.attrs),i}function ns(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function rs(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function is(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ss(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yt(e)&&(n[""]=t)}}function os(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function as(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=bt(i.type)),o=new Re(s,yt(i),null);t.blueprint[r]=o,n[r]=o,ns(t,e,0,r,qi(t,n,i.hostVars,Ii),i)}function cs(t,e,n){const r=jt(e,t),i=Qi(n),s=t[10],o=gs(t,Vi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function us(t,e,n,r,i,s,o){if(null==s)It(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);It(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function ls(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function hs(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ds(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function fs(t,e){const n=Lt(e,t);if(Vt(n)){const t=n[1];80&n[2]?Hi(t,n,t.template,n[8]):n[5]>0&&ps(n)}}function ps(t){for(let n=Mr(t);null!==n;n=Vr(n))for(let t=ht;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Hi(t,e,t.template,e[8])}else e[5]>0&&ps(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Lt(e[n],t);Vt(r)&&r[5]>0&&ps(r)}}function ms(t,e){const n=Lt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),zi(r,n,n[8])}function gs(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ys(t){for(;t;){t[2]|=64;const e=Fr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function bs(t,e,n){const r=e[10];r.begin&&r.begin();try{Hi(t,e,t.template,n)}catch(i){throw Cs(e,i),i}finally{r.end&&r.end()}}function vs(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ft(n),i=r[1];Wi(i,r,i.template,n)}}(t[8])}function _s(t,e,n){le(0),e(t,n)}const ws=(()=>Promise.resolve(null))();function Es(t){return t[7]||(t[7]=[])}function Ss(t){return t.cleanup||(t.cleanup=[])}function Cs(t,e){const n=t[9],r=n?n.get(Tr,null):null;r&&r.handleError(e)}function Os(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],u=t.data[o];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function xs(t,e,n){const r=Dt(e,t);zr(t[11],r,n)}function ks(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Ts=new hn("INJECTOR",-1);class Is{get(t,e=En){if(e===En){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const As=new hn("Set Injector scope."),Rs={},Ds={},js=[];let Ps;function Ns(){return void 0===Ps&&(Ps=new Is),Ps}function Ls(t,e=null,n=null,r){return new Fs(t,n,e||Ns(),r)}class Fs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&mn(e,n=>this.processProvider(n,t,e)),mn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Ts,Us(void 0,this));const s=this.records.get(As);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=En,n=A.Default){this.assertNotDestroyed();const r=kn(this);try{if(!(n&A.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof hn)&&S(t);e=n&&this.injectableDefInScope(n)?Us(Ms(t),Rs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&A.Self?Ns():this.parent).get(t,e=n&A.Optional&&e===En?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(l(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Cn]&&i.unshift(e[Cn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Sn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{kn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=O(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=O(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{mn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];mn(r,t=>this.processProvider(t,n,r||js))}}this.injectorDefTypes.add(s);const a=bt(s)||(()=>new s);this.records.set(s,Us(a,Rs));const c=r.providers;if(null!=c&&!o){const e=t;mn(c,t=>this.processProvider(t,e,c))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=qs(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Bs(t)?Us(void 0,t.useValue):Us(Vs(t),Rs)}(t);if(qs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Us(void 0,Rs,!0),e.factory=()=>Rn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Rs&&(e.value=Ds,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Ms(t){const e=S(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;if(t instanceof hn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=bn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[T]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Vs(t,e,n){let r;if(qs(t)){const e=p(t);return bt(e)||Ms(e)}if(Bs(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Rn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>In(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||Ms(e);r=()=>new e(...Rn(t.deps))}var i;return r}function Us(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Bs(t){return null!==t&&"object"==typeof t&&On in t}function qs(t){return"function"==typeof t}const zs=function(t,e,n){return function(t,e=null,n=null,r){const i=Ls(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Hs=(()=>{class t{static create(t,e){return Array.isArray(t)?zs(t,e,""):zs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=En,t.NULL=new Is,t.\u0275prov=w({token:t,providedIn:"any",factory:()=>In(Ts)}),t.__NG_ELEMENT_ID__=-1,t})();function Ws(t,e){Ce(Ft(t)[1],Kt())}function Gs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(yt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=$s(t.inputs),e.declaredInputs=$s(t.declaredInputs),e.outputs=$s(t.outputs);const n=i.hostBindings;n&&Qs(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Ks(t,s),o&&Xs(t,o),u(t.inputs,i.inputs),u(t.declaredInputs,i.declaredInputs),u(t.outputs,i.outputs),yt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Gs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ne(i.hostAttrs,n=Ne(n,i.hostAttrs))}}(r)}function $s(t){return t===q?{}:t===H?[]:t}function Ks(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Xs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Qs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ys=null;function Zs(){if(!Ys){const t=B.Symbol;if(t&&t.iterator)Ys=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ys=n)}}}return Ys}class Js{constructor(t){this.wrapped=t}static wrap(t){return new Js(t)}static unwrap(t){return Js.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Js}}function to(t){return!!eo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Zs()in t)}function eo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function no(t,e,n){return t[e]=n}function ro(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function io(t,e,n,r){const i=ro(t,e,n);return ro(t,e+1,r)||i}function so(t,e,n,r){const i=Wt();return ro(i,ie(),e)&&(Gt(),function(t,e,n,r,i,s){const o=jt(t,e);us(e[11],o,s,t.value,n,r,i)}(we(),i,t,e,n,r)),so}function oo(t,e,n,r){return ro(t,ie(),n)?e+y(n)+r:Ii}function ao(t,e,n,r,i,s,o,a){const c=Wt(),u=Gt(),l=t+lt,h=u.firstCreatePass?function(t,e,n,r,i,s,o,a,c){const u=e.consts,l=Ui(e,t,4,o||null,Ut(u,a));es(e,n,l,Ut(u,c)),Ce(e,l);const h=l.tViews=Yi(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,s,o):u.data[l];Yt(h,!1);const d=c[11].createComment("");ai(u,c,d,h),Rr(d,c),gs(c,c[l]=ds(d,c,d,h)),gt(h)&&Ki(u,c,h),null!=o&&Xi(c,h,a)}function co(t){return Nt(zt.lFrame.contextLView,lt+t)}function uo(t,e=A.Default){const n=Wt();return null===n?In(t,e):Qe(Kt(),n,p(t),e)}function lo(t,e,n){const r=Wt();return ro(r,ie(),e)&&ts(Gt(),we(),r,t,e,r[11],n,!1),lo}function ho(t,e,n,r,i){const s=i?"class":"style";Os(t,n,e.inputs[s],s,r)}function fo(t,e,n,r){const i=Wt(),s=Gt(),o=lt+t,a=i[11],c=i[o]=Wr(a,e,zt.lFrame.currentNamespace),u=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=Ui(e,t,2,i,Ut(a,s));return es(e,n,c,Ut(a,o)),null!==c.attrs&&ks(c,c.attrs,!1),null!==c.mergedAttrs&&ks(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Yt(u,!0);const l=u.mergedAttrs;null!==l&&De(a,c,l);const h=u.classes;null!==h&&gi(a,c,h);const d=u.styles;null!==d&&mi(a,c,d),64!=(64&u.flags)&&ai(s,i,c,u),0===zt.lFrame.elementDepthCount&&Rr(c,i),zt.lFrame.elementDepthCount++,gt(u)&&(Ki(s,i,u),$i(s,u,i)),null!==r&&Xi(i,u)}function po(){let t=Kt();Zt()?Jt():(t=t.parent,Yt(t,!1));const e=t;zt.lFrame.elementDepthCount--;const n=Gt();n.firstCreatePass&&(Ce(n,t),pt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ho(n,e,Wt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ho(n,e,Wt(),e.stylesWithoutHost,!1)}function mo(t,e,n,r){fo(t,e,n,r),po()}function go(t,e,n){const r=Wt(),i=Gt(),s=t+lt,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Ut(s,r),a=Ui(e,t,8,"ng-container",o);return null!==o&&ks(a,o,!0),es(e,n,a,Ut(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Yt(o,!0);const a=r[s]=r[11].createComment("");ai(i,r,a,o),Rr(a,r),gt(o)&&(Ki(i,r,o),$i(i,o,r)),null!=n&&Xi(r,o)}function yo(){let t=Kt();const e=Gt();Zt()?Jt():(t=t.parent,Yt(t,!1)),e.firstCreatePass&&(Ce(e,t),pt(t)&&e.queries.elementEnd(t))}function bo(t,e,n){go(t,e,n),yo()}function vo(){return Wt()}function _o(t){return!!t&&"function"==typeof t.then}function wo(t){return!!t&&"function"==typeof t.subscribe}const Eo=wo;function So(t,e,n=!1,r){const i=Wt(),s=Gt(),o=Kt();return function(t,e,n,r,i,s,o=!1,a){const c=gt(r),u=t.firstCreatePass&&Ss(t),l=Es(e);let h=!0;if(3&r.type){const d=jt(r,e),f=a?a(d):q,p=f.target||d,m=l.length,g=a?t=>a(Rt(t[r.index])).target:r.index;if(It(n)){let o=null;if(!a&&c&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Oo(r,e,0,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),u&&u.push(i,g,m,m+1)}}else s=Oo(r,e,0,s,!0),p.addEventListener(i,s,o),l.push(s),u&&u.push(i,g,m,o)}else s=Oo(r,e,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),u&&u.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),So}function Co(t,e,n,r){try{return!1!==n(r)}catch(i){return Cs(t,i),!1}}function Oo(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Lt(t.index,e):e;0==(32&e[2])&&ys(o);let a=Co(e,0,r,s),c=n.__ngNextListenerFn__;for(;c;)a=Co(e,0,c,s)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function xo(t=1){return function(t){return(zt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,zt.lFrame.contextLView))[8]}(t)}function ko(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Oi(t,s,!0):xi(r,s))return i}else n=i}return n}function To(t){const e=Wt()[16][6];if(!e.projection){const n=e.projection=bn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?ko(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Io(t,e=0,n){const r=Wt(),i=Gt(),s=Ui(i,lt+t,16,null,n||null);null===s.projection&&(s.projection=e),Jt(),64!=(64&s.flags)&&function(t,e,n){pi(e[11],0,e,n,Qr(t,n,e),ni(n.parent||e[6],n,e))}(i,r,s)}function Ao(t,e,n){return Ro(t,"",e,"",n),Ao}function Ro(t,e,n,r,i){const s=Wt(),o=oo(s,e,n,r);return o!==Ii&&ts(Gt(),we(),s,t,o,s[11],i,!1),Ro}function Do(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ji(s):Ni(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];jo(t[a],e)&&(c=!0,t[a+1]=r?Fi(n):Pi(n)),a=r?ji(n):Ni(n)}c&&(t[n+1]=r?Pi(s):Fi(s))}function jo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&wn(t,e)>=0}const Po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function No(t){return t.substring(Po.key,Po.keyEnd)}function Lo(t,e){const n=Po.textEnd;return n===e?-1:(e=Po.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Po.key=e,n),Fo(t,e,n))}function Fo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Mo(t,e,n){return qo(t,e,n,!1),Mo}function Vo(t,e){return qo(t,e,null,!0),Vo}function Uo(t){zo(vn,Bo,t,!0)}function Bo(t,e){for(let n=function(t){return function(t){Po.key=0,Po.keyEnd=0,Po.value=0,Po.valueEnd=0,Po.textEnd=t.length}(t),Lo(t,Fo(t,0,Po.textEnd))}(e);n>=0;n=Lo(e,n))vn(t,No(e),!0)}function qo(t,e,n,r){const i=Wt(),s=Gt(),o=se(2);s.firstUpdatePass&&Wo(s,t,o,r),e!==Ii&&ro(i,o,e)&&Ko(s,s.data[ve()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Hn(t)))),t}(e,n),r,o)}function zo(t,e,n,r){const i=Gt(),s=se(2);i.firstUpdatePass&&Wo(i,null,s,r);const o=Wt();if(n!==Ii&&ro(o,s,n)){const a=i.data[ve()];if(Yo(a,r)&&!Ho(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),ho(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===Ii&&(i=z);let c=0,u=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const d=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0;let p,m=null;l===h?(c+=2,u+=2,d!==f&&(m=h,p=f)):null===h||null!==l&&l<h?(c+=2,m=l):(u+=2,m=h,p=f),null!==m&&Ko(t,e,n,r,m,p,o,a),l=c<i.length?i[c]:null,h=u<s.length?s[u]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return z;const r=[],i=Hn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function Ho(t,e){return e>=t.expandoStartIndex}function Wo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[ve()],o=Ho(t,n);Yo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=zt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=$o(n=Go(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Go(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ni(r))return t[ji(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Go(null,t,e,n[1],r),n=$o(n,e.attrs,r),function(t,e,n,r){t[ji(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=$o(r,t[s].hostAttrs,n);return $o(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ji(o),c=Ni(o);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||wn(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=ji(t[a+1]);t[r+1]=Di(e,a),0!==e&&(t[e+1]=Li(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Di(a,0),0!==a&&(t[a+1]=Li(t[a+1],r)),a=r;else t[r+1]=Di(c,0),0===a?a=r:t[c+1]=Li(t[c+1],r),c=r;l&&(t[r+1]=Pi(t[r+1])),Do(t,u,r,!0),Do(t,u,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&wn(s,e)>=0&&(n[r+1]=Fi(n[r+1]))}(e,u,t,r,s),o=Di(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Go(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=$o(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function $o(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Ko(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,u=c[a+1];Qo(1==(1&u)?Xo(c,e,n,i,Ni(u),o):void 0)||(Qo(s)||2==(2&u)&&(s=Xo(c,null,n,i,a,o)),function(t,e,n,r,i){const s=It(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Pr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Pr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Dt(ve(),n),i,s))}function Xo(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),c=s?e[1]:e,u=null===c;let l=n[i+1];l===Ii&&(l=u?z:void 0);let h=u?_n(l,r):c===r?l:void 0;if(s&&!Qo(h)&&(h=_n(e,r)),Qo(h)&&(a=h,o))return a;const d=t[i+1];i=o?ji(d):Ni(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=_n(t,r))}return a}function Qo(t){return void 0!==t}function Yo(t,e){return 0!=(t.flags&(e?16:32))}function Zo(t,e=""){const n=Wt(),r=Gt(),i=t+lt,s=r.firstCreatePass?Ui(r,i,1,e,null):r.data[i],o=n[i]=qr(n[11],e);ai(r,n,o,s),Yt(s,!1)}function Jo(t){return ta("",t,""),Jo}function ta(t,e,n){const r=Wt(),i=oo(r,t,e,n);return i!==Ii&&xs(r,ve(),i),ta}function ea(t,e,n,r,i){const s=Wt(),o=function(t,e,n,r,i,s){const o=io(t,re(),n,i);return se(2),o?e+y(n)+r+y(i)+s:Ii}(s,t,e,n,r,i);return o!==Ii&&xs(s,ve(),o),ea}function na(t,e,n){zo(vn,Bo,oo(Wt(),t,e,n),!0)}function ra(t,e,n,r,i,s,o,a,c){zo(vn,Bo,function(t,e,n,r,i,s,o,a,c,u){const l=function(t,e,n,r,i,s){const o=io(t,e,n,r);return io(t,e+2,i,s)||o}(t,re(),n,i,o,c);return se(4),l?e+y(n)+r+y(i)+s+y(o)+a+y(c)+u:Ii}(Wt(),t,e,n,r,i,s,o,a,c),!0)}function ia(t,e,n){const r=Wt();return ro(r,ie(),e)&&ts(Gt(),we(),r,t,e,r[11],n,!0),ia}const sa=void 0;var oa=["en",[["a","p"],["AM","PM"],sa],[["AM","PM"],sa,sa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sa,"{1} 'at' {0}",sa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let aa={};function ca(t,e,n){"string"!=typeof e&&(n=e,e=t[fa.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),aa[e]=t,n&&(aa[e][fa.ExtraData]=n)}function ua(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=da(e);if(n)return n;const r=e.split("-")[0];if(n=da(r),n)return n;if("en"===r)return oa;throw new Error(`Missing locale data for the locale "${t}".`)}function la(t){return ua(t)[fa.CurrencyCode]||null}function ha(t){return ua(t)[fa.PluralCase]}function da(t){return t in aa||(aa[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),aa[t]}var fa=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const pa=["zero","one","two","few","many"],ma="en-US",ga={marker:"element"},ya={marker:"ICU"};var ba=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let va=ma;function _a(t){var e;null==(e=t)&&_("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(va=t.toLowerCase().replace(/_/g,"-"))}function wa(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?ri(t,0,n):Rt(n[i])}function Ea(t,e,n,r,i){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&e.type||(a=o,o=i),null!==o&&0==(2&e.flags))for(let e=1;e<s.length;e++)Zr(t,o,n[s[e]],a,!1)}}function Sa(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];Ca(r)||Oa(r,e)&&null===xa(r)&&ka(r,e.index)}}function Ca(t){return!(64&t.type)}function Oa(t,e){return Ca(e)||t.index>e.index}function xa(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function ka(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(oi(wa,Ea),t.insertBeforeIndex=e)}function Ta(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Ia(t,e,n){const r=Bi(t,n,64,null,null);return Sa(e,r),r}function Aa(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Ra=0,Da=0;function ja(t,e,n,r){const i=n[11];let s,o=null;for(let a=0;a<e.length;a++){const c=e[a];if("string"==typeof c){const t=e[++a];null===n[t]&&(n[t]=qr(i,c))}else if("number"==typeof c)switch(1&c){case 0:const u=c>>>17;let l,h;if(null===o&&(o=u,s=ei(i,r)),u===o?(l=r,h=s):(l=null,h=Rt(n[u])),null!==h){const e=(131070&c)>>>1;Zr(i,h,n[e],l,!1);const r=Ta(t,e);if(null!==r&&"object"==typeof r){const e=Aa(r,n);null!==e&&ja(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const d=e[++a],f=e[++a];us(i,Dt(c>>>1,n),null,null,d,f,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case ya:const t=e[++a],r=e[++a];null===n[r]&&Rr(n[r]=Hr(i,t),n);break;case ga:const s=e[++a],o=e[++a];null===n[o]&&Rr(n[o]=Wr(i,s,null),n)}}}function Pa(t,e,n,r,i){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&i){let i="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=y(e[r-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],c=n[++o],u=t.data[a];"string"==typeof u?us(e[11],e[a],null,u,s,i,c):ts(t,u,e,s,i,e[11],c,!1);break;case 0:const l=e[a];null!==l&&zr(e[11],l,i);break;case 2:La(t,Ta(t,a),e,i);break;case 3:Na(t,Ta(t,a),r,e)}}}}else{const i=n[s+1];if(i>0&&3==(3&i)){const n=Ta(t,i>>>2);e[n.currentCaseLViewIndex]<0&&Na(t,n,r,e)}}s+=a}}function Na(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let s=Ra;i<0&&(i=r[e.currentCaseLViewIndex]=~i,s=-1),Pa(t,r,e.update[i],n,s)}}function La(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=ha(e)(parseInt(t,10)),r=pa[n];return void 0!==r?r:"other"}(e,va);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Aa(e,n)!==i&&(Fa(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&ja(t,e.create[i],n,r)}}function Fa(t,e,n){let r=Aa(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=Dt(r,n);null!==t&&hi(n[11],t)}else Fa(t,Ta(t,~r),n)}}}const Ma=/\ufffd(\d+):?\d*\ufffd/gi,Va=/\ufffd(\d+)\ufffd/,Ua=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ba=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,qa=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,za=/\uE500/g;function Ha(t,e,n,r,i,s,o){const a=qi(t,r,1,null);let c=a<<ba.SHIFT,u=Qt();e===u&&(u=null),null===u&&(c|=ba.APPEND_EAGERLY),o&&(c|=ba.COMMENT,void 0===Nr&&(Nr=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=Aa(t,e);n=null!==i?t.remove[i]:H}function s(){if(r<n.length){const o=n[r++];return o>0?e[o]:(t.push(r,n),i(e[1].data[~o],e),s())}return 0===t.length?null:(n=t.pop(),r=t.pop(),s())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),s}}())),i.push(c,null===s?"":s);const l=Bi(t,a,o?32:1,null===s?"":s,null);Sa(n,l);const h=l.index;return Yt(l,!1),null!==u&&e!==u&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(oi(wa,Ea),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&_("Expecting array here",r,true,"=="),n.push(e))}(u,h),l}function Wa(t,e,n,r,i,s,o){const a=o.match(Ma),c=Ha(t,e,n,s,r,a?null:o,!1);a&&Ga(i,o,c.index,null,0,null)}function Ga(t,e,n,r,i,s){const o=t.length,a=o+1;t.push(null,null);const c=o+2,u=e.split(Ma);let l=0;for(let h=0;h<u.length;h++){const e=u[h];if(1&h){const n=i+parseInt(e,10);t.push(-1-n),l|=$a(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,s),t[o]=l,t[a]=t.length-c,l}function $a(t){return 1<<Math.min(t,31)}function Ka(t){let e,n,r="",i=0,s=!1;for(;null!==(e=Ba.exec(t));)s?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,s=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],s=!0);return r+=t.substr(i),r}function Xa(t,e,n,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:qi(t,e,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push($a(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,s),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,s,a);const c=i.values;for(let u=0;u<c.length;u++){const s=c[u],l=[];for(let t=0;t<s.length;t++){const e=s[t];if("string"!=typeof e){const n=l.push(e)-1;s[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=Za(t,a,e,n,r,i.cases[u],s.join(""),l)|o}o&&function(t,e,n){t.push(e,1,n<<2|3)}(n,o,s)}function Qa(t){const e=[],n=[];let r=1,i=0;const s=Ya(t=t.replace(Ua,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let o=0;o<s.length;){let t=s[o++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Ya(s[o++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function Ya(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(t);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Ua.test(n)?r.push(Qa(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const o=t.substring(e);return r.push(o),r}function Za(t,e,n,r,i,s,o,a){const c=[],u=[],l=[];e.cases.push(s),e.create.push(c),e.remove.push(u),e.update.push(l);const h=Zn(Tt()).getInertBodyElement(o),d=Er(h)||h;return d?Ja(t,e,n,r,c,u,l,d,i,a,0):0}function Ja(t,e,n,r,i,s,o,a,c,u,l){let h=0,d=a.firstChild;for(;d;){const a=qi(t,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const f=d,p=f.tagName.toLowerCase();if(hr.hasOwnProperty(p)){nc(i,ga,p,c,a),t.data[a]=p;const m=f.attributes;for(let t=0;t<m.length;t++){const e=m.item(t),n=e.name.toLowerCase();e.value.match(Ma)?pr.hasOwnProperty(n)&&Ga(o,e.value,a,e.name,0,dr[n]?rr:fr[n]?ir:null):rc(i,a,e)}h=Ja(t,e,n,r,i,s,o,d,a,u,l+1)|h,tc(s,a,l)}break;case Node.TEXT_NODE:const m=d.textContent||"",g=m.match(Ma);nc(i,null,g?"":m,c,a),tc(s,a,l),g&&(h=Ga(o,m,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=Va.exec(d.textContent||"");if(y){const e=u[parseInt(y[1],10)];nc(i,ya,"",c,a),Xa(t,n,r,c,e,a),ec(s,a,l)}}d=d.nextSibling}return h}function tc(t,e,n){0===n&&t.push(e)}function ec(t,e,n){0===n&&(t.push(~e),t.push(e))}function nc(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function rc(t,e,n){t.push(e<<1|1,n.name,n.value)}function ic(t,e,n){(function(t,e,n=-1){const r=Gt(),i=Wt(),s=lt+t,o=Ut(r.consts,e),a=Qt();r.firstCreatePass&&function(t,e,n,r,i,s){const o=Qt(),a=[],c=[],u=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return Ka(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Ka(t.substring(n,r))}}(i,s),h.replace(za," ")).split(qa);var h;for(let d=0;d<l.length;d++){let r=l[d];if(0==(1&d)){const s=Ya(r);for(let r=0;r<s.length;r++){let l=s[r];if(0==(1&r)){const e=l;""!==e&&Wa(t,o,u[0],a,c,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);Xa(t,n,c,e,r,Ha(t,o,u[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),lt+Number.parseInt(r.substring(e?2:1)));if(e)u.shift(),Yt(Qt(),!1);else{const e=Ia(t,u[0],n);u.unshift([]),Yt(e,!0)}}}t.data[r]={create:a,update:c}}(r,null===a?0:a.index,i,s,o,n);const c=r.data[s],u=Yr(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let s=0;s<e.length;s++){const o=e[s++],a=e[s],c=(o&ba.COMMENT)===ba.COMMENT,u=(o&ba.APPEND_EAGERLY)===ba.APPEND_EAGERLY,l=o>>>ba.SHIFT;let h=t[l];null===h&&(h=t[l]=c?i.createComment(a):qr(i,a)),u&&null!==n&&Zr(i,n,h,r,!1)}}(i,c.create,u,a&&8&a.type?i[a.index]:null),oe(!0)})(t,e,n),oe(!1)}function sc(t){return ro(Wt(),ie(),t)&&(Ra|=1<<Math.min(Da,31)),Da++,sc}function oc(t){!function(t,e,n){if(Da>0){const r=t.data[n];Pa(t,e,Array.isArray(r)?r:r.update,re()-Da-1,Ra)}Ra=0,Da=0}(Gt(),Wt(),t+lt)}function ac(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)ac(t[s],e,n,r,i);else{const s=Gt(),o=Wt();let a=qs(t)?t:p(t.provide),c=Vs(t);const u=Kt(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(qs(t)||!t.multi){const r=new Re(c,i,uo),f=lc(a,e,i?l:l+d,h);-1===f?($e(ze(u,o),s,a),cc(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=lc(a,e,l+d,h),p=lc(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){$e(ze(u,o),s,a);const l=function(t,e,n,r,i){const s=new Re(t,n,uo);return s.multi=[],s.index=e,s.componentProviders=0,uc(s,i,r&&!n),s}(i?dc:hc,n.length,i,r,c);!i&&g&&(n[p].providerFactory=l),cc(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),o.push(l)}else cc(s,t,f>-1?f:p,uc(n[i?p:f],c,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function cc(t,e,n,r){const i=qs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function uc(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function lc(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function hc(t,e,n,r){return fc(this.multi,[])}function dc(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=en(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),fc(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],fc(i,s);return s}function fc(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function pc(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Gt();if(r.firstCreatePass){const i=yt(t);ac(n,r.data,r.blueprint,i,!0),ac(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class mc{}class gc{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let yc=(()=>{class t{}return t.NULL=new gc,t})();function bc(...t){}function vc(t,e){return new wc(jt(t,e))}const _c=function(){return vc(Kt(),Wt())};let wc=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=_c,t})();function Ec(t){return t instanceof wc?t.nativeElement:t}class Sc{}let Cc=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Oc(),t})();const Oc=function(){const t=Wt(),e=Lt(Kt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let xc=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class kc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Tc=new kc("11.2.14");class Ic{constructor(){}supports(t){return to(t)}create(t){return new Rc(t)}}const Ac=(t,e)=>e;class Rc{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ac}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Nc(n,r,i)?e:n,o=Nc(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!to(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Zs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Dc(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Pc),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Dc{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jc{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Pc{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new jc,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Nc(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Lc{constructor(){}supports(t){return t instanceof Map||eo(t)}create(){return new Fc}}class Fc{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||eo(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Mc(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Mc{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Vc(){return new Uc([new Ic])}let Uc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Vc()),deps:[[t,new Nn,new Pn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=w({token:t,providedIn:"root",factory:Vc}),t})();function Bc(){return new qc([new Lc])}let qc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Bc()),deps:[[t,new Nn,new Pn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:Bc}),t})();function zc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Rt(s)),ft(s))for(let t=ht;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&zc(e[1],e,n,r)}const o=n.type;if(8&o)zc(t,e,n.child,r);else if(32&o){const t=Lr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=ui(e,n);if(Array.isArray(t))r.push(...t);else{const n=Fr(e[16]);zc(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Hc{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return zc(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ft(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&($r(t,n),yn(e,n))}this._attachedToViewContainer=!1}Kr(this._lView[1],this._lView)}onDestroy(t){Zi(this._lView[1],this._lView,null,t)}markForCheck(){ys(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){bs(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ee(!0);try{bs(t,e,n)}finally{ee(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,fi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Wc extends Hc{constructor(t){super(t),this._view=t}detectChanges(){vs(this._view)}checkNoChanges(){!function(t){ee(!0);try{vs(t)}finally{ee(!1)}}(this._view)}get context(){return null}}const Gc=Kc;let $c=(()=>{class t{}return t.__NG_ELEMENT_ID__=Gc,t.__ChangeDetectorRef__=!0,t})();function Kc(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Lt(t.index,e);return new Hc(n,n)}return 47&t.type?new Hc(e[16],e):null}(Kt(),Wt(),t)}const Xc=[new Lc],Qc=new Uc([new Ic]),Yc=new qc(Xc),Zc=function(){return nu(Kt(),Wt())};let Jc=(()=>{class t{}return t.__NG_ELEMENT_ID__=Zc,t})();const tu=Jc,eu=class extends tu{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Vi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),zi(e,n,t),new Hc(n)}};function nu(t,e){return 4&t.type?new eu(e,t,vc(t,e)):null}class ru{}class iu{}const su=function(){return hu(Kt(),Wt())};let ou=(()=>{class t{}return t.__NG_ELEMENT_ID__=su,t})();const au=ou,cu=class extends au{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return vc(this._hostTNode,this._hostLView)}get injector(){return new sn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ge(this._hostTNode,this._hostLView);if(Fe(t)){const e=Ve(t,this._hostLView),n=Me(t);return new sn(e[1].data[n+8],e)}return new sn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=uu(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(ru,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new cu(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ht+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ht?(e[4]=n[i],gn(n,ht+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=li(i,s),a=n[11],c=ei(a,s[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,fi(t,r,n,1,i,s)}(r,s[6],a,n,c,o),t.attachToViewContainerRef(),gn(lu(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=uu(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=$r(this._lContainer,e);n&&(yn(lu(this._lContainer),e),Kr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=$r(this._lContainer,e);return n&&null!=yn(lu(this._lContainer),e)?new Hc(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function uu(t){return t[8]}function lu(t){return t[8]||(t[8]=[])}function hu(t,e){let n;const r=e[t.index];if(ft(r))n=r;else{let i;if(8&t.type)i=Rt(r);else{const n=e[11];i=n.createComment("");const r=jt(t,e);Zr(n,ei(n,r),i,function(t,e){return It(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=ds(r,e,i,t),gs(e,n)}return new cu(n,t,e)}const du={};class fu extends yc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new gu(e,this.ngModule)}}function pu(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const mu=new hn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Dr});class gu extends mc{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ti).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return pu(this.componentDef.inputs)}get outputs(){return pu(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,du,i);return s!==du||r===du?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Sc,At),o=i.get(xc,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(It(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Wr(s.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?Ot:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Dr,clean:ws,playerHandler:null,flags:0},d=Yi(0,null,null,1,0,null,null,null,null,null),f=Vi(null,d,h,l,null,null,s,a,o,i);let p,m;fe(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Ui(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(ks(a,c,!0),null!==t&&(De(i,t,c),null!==a.classes&&gi(i,t,a.classes),null!==a.styles&&mi(i,t,a.styles)));const u=r.createRenderer(t,e),l=Vi(n,Qi(e),null,e.onPush?64:16,n[20],a,r,u,null,null);return o.firstCreatePass&&($e(ze(a,n),o,e.type),is(o,a),os(a,n.length,1)),gs(n,l),n[20]=l}(u,this.componentDef,f,s,a);if(u)if(n)De(a,u,["ng-version",Tc.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Si(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&De(a,u,t),e&&e.length>0&&gi(a,u,e.join(" "))}if(m=Pt(d,lt),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Kt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),as(t,r,e,qi(t,e,1,null),n));const i=en(e,t,r.directiveStart,r);Rr(i,e);const s=jt(r,e);return s&&Rr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Kt();e.contentQueries(1,o,t.directiveStart)}const a=Kt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(_e(a.index),ns(n[1],a,0,a.directiveStart,a.directiveEnd,e),rs(e,o)),o}(t,this.componentDef,f,h,[Ws]),zi(d,f,null)}finally{be()}return new yu(this.componentType,p,vc(m,f),f,m)}}class yu extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Wc(r),this.componentType=t}get injector(){return new sn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const bu=new Map;class vu extends ru{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new fu(this);const n=ut(t),r=t[X]||null;r&&_a(r),this._bootstrapComponents=jr(n.bootstrap),this._r3Injector=Ls(t,e,[{provide:ru,useValue:this},{provide:yc,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Hs.THROW_IF_NOT_FOUND,n=A.Default){return t===Hs||t===ru||t===Ts?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class _u extends iu{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const r=ut(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,bu.get(i),n),bu.set(i,n));const s=jr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new vu(this.moduleType,t)}}function wu(t,e,n){const r=ne()+t,i=Wt();return i[r]===Ii?no(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Eu(t,e,n,r){return xu(Wt(),ne(),t,e,n,r)}function Su(t,e,n,r,i){return ku(Wt(),ne(),t,e,n,r,i)}function Cu(t,e,n,r,i,s){return function(t,e,n,r,i,s,o,a){const c=e+n;return function(t,e,n,r,i){const s=io(t,e,n,r);return ro(t,e+2,i)||s}(t,c,i,s,o)?no(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):Ou(t,c+3)}(Wt(),ne(),t,e,n,r,i,s)}function Ou(t,e){const n=t[e];return n===Ii?void 0:n}function xu(t,e,n,r,i,s){const o=e+n;return ro(t,o,i)?no(t,o+1,s?r.call(s,i):r(i)):Ou(t,o+1)}function ku(t,e,n,r,i,s,o){const a=e+n;return io(t,a,i,s)?no(t,a+2,o?r.call(o,i,s):r(i,s)):Ou(t,a+2)}function Tu(t,e){const n=Gt();let r;const i=t+lt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new g("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=bt(r.type)),o=D(uo);try{const t=Be(!1),e=s();return Be(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Wt(),i,e),e}finally{D(o)}}function Iu(t,e,n){const r=t+lt,i=Wt(),s=Nt(i,r);return Du(i,Ru(i,r)?xu(i,ne(),e,s.transform,n,s):s.transform(n))}function Au(t,e,n,r){const i=t+lt,s=Wt(),o=Nt(s,i);return Du(s,Ru(s,i)?ku(s,ne(),e,o.transform,n,r,o):o.transform(n,r))}function Ru(t,e){return t[1].data[e].pure}function Du(t,e){return Js.isWrapped(e)&&(e=Js.unwrap(e),t[re()]=Ii),e}function ju(t){return e=>{setTimeout(t,void 0,e)}}const Pu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,c=e||(()=>null),u=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),c=null===(s=e.error)||void 0===s?void 0:s.bind(e),u=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(c=ju(c),a&&(a=ju(a)),u&&(u=ju(u)));const l=super.subscribe({next:a,error:c,complete:u});return t instanceof i.a&&t.add(l),l}};function Nu(){return this._results[Zs()]()}class Lu{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Zs(),n=Lu.prototype;n[e]||(n[e]=Nu)}get changes(){return this._changes||(this._changes=new Pu)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=pn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Fu{constructor(t){this.queryList=t,this.matches=null}clone(){return new Fu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Mu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Zu(t,e).matches&&this.queries[e].setDirty()}}class Vu{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Uu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Uu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Bu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Bu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,qu(e,i)),this.matchTNodeWithReadOption(t,e,tn(e,t,i,!1,!1))}else n===Jc?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,tn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===wc||r===ou||r===Jc&&4&e.type)this.addMatch(e.index,-2);else{const n=tn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function qu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function zu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?vc(t,e):4&t.type?nu(t,e):null}(e,t):-2===n?function(t,e,n){return n===wc?vc(e,t):n===Jc?nu(e,t):n===ou?hu(e,t):void 0}(t,e,r):en(t,t[1],n,e)}function Hu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:zu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Wu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Hu(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ht;t<o.length;t++){const e=o[t];e[17]===e[3]&&Wu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Wu(n[1],n,i,r)}}}}}return r}function Gu(t){const e=Wt(),n=Gt(),r=ue();le(r+1);const i=Zu(n,r);if(t.dirty&&Mt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Wu(n,e,r,[]):Hu(n,e,i,r);t.reset(s,Ec),t.notifyOnChanges()}return!0}return!1}function $u(t,e,n){const r=Gt();r.firstCreatePass&&(Yu(r,new Vu(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Qu(r,Wt(),e)}function Ku(t,e,n,r){const i=Gt();if(i.firstCreatePass){const s=Kt();Yu(i,new Vu(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Qu(i,Wt(),n)}function Xu(){return t=Wt(),e=ue(),t[19].queries[e].queryList;var t,e}function Qu(t,e,n){const r=new Lu(4==(4&n));Zi(t,e,r,r.destroy),null===e[19]&&(e[19]=new Mu),e[19].queries.push(new Fu(r))}function Yu(t,e,n){null===t.queries&&(t.queries=new Uu),t.queries.track(new Bu(e,n))}function Zu(t,e){return t.queries.getByIndex(e)}function Ju(t,e){return nu(t,e)}function tl(t=A.Default){const e=Kc(!0);if(null!=e||t&A.Optional)return e;v("ChangeDetectorRef")}const el=new hn("Application Initializer");let nl=(()=>{class t{constructor(t){this.appInits=t,this.resolve=bc,this.reject=bc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();_o(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(In(el,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const rl=new hn("AppId"),il={provide:rl,useFactory:function(){return`${sl()}${sl()}${sl()}`},deps:[]};function sl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ol=new hn("Platform Initializer"),al=new hn("Platform ID"),cl=new hn("appBootstrapListener");let ul=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const ll=new hn("LocaleId"),hl=new hn("DefaultCurrencyCode");class dl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const fl=function(t){return new _u(t)},pl=fl,ml=function(t){return Promise.resolve(fl(t))},gl=function(t){const e=fl(t),n=jr(ut(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new gu(n)),t},[]);return new dl(e,n)},yl=gl,bl=function(t){return Promise.resolve(gl(t))};let vl=(()=>{class t{constructor(){this.compileModuleSync=pl,this.compileModuleAsync=ml,this.compileModuleAndAllComponentsSync=yl,this.compileModuleAndAllComponentsAsync=bl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const _l=(()=>Promise.resolve(0))();function wl(t){"undefined"==typeof Zone?_l.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class El{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pu(!1),this.onMicrotaskEmpty=new Pu(!1),this.onStable=new Pu(!1),this.onError=new Pu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ol(t),Cl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ol(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return xl(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),kl(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return xl(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),kl(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ol(t),Cl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!El.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(El.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Sl,bc,bc);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Sl={};function Cl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ol(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function xl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kl(t){t._nesting--,Cl(t)}class Tl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pu,this.onMicrotaskEmpty=new Pu,this.onStable=new Pu,this.onError=new Pu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Il=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{El.assertNotInAngularZone(),wl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(In(El))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),Al=(()=>{class t{constructor(){this._applications=new Map,Pl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Pl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class Rl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Dl(t){Pl=t}let jl,Pl=new Rl,Nl=!0,Ll=!1;function Fl(){return Ll=!0,Nl}function Ml(){if(Ll)throw new Error("Cannot enable prod mode after platform setup.");Nl=!1}const Vl=new hn("AllowMultipleToken");class Ul{constructor(t,e){this.name=t,this.token=e}}function Bl(t,e,n=[]){const r=`Platform: ${e}`,i=new hn(r);return(e=[])=>{let s=ql();if(!s||s.injector.get(Vl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:As,useValue:"platform"});!function(t){if(jl&&!jl.destroyed&&!jl.injector.get(Vl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");jl=t.get(zl);const e=t.get(ol,null);e&&e.forEach(t=>t())}(Hs.create({providers:t,name:r}))}return function(t){const e=ql();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ql(){return jl&&!jl.destroyed?jl:null}let zl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Tl:("zone.js"===t?void 0:t)||new El({enableLongStackTrace:Fl(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:El,useValue:n}];return n.run(()=>{const e=Hs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Tr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Gl(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return _o(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(nl);return t.runInitializers(),t.donePromise.then(()=>(_a(i.injector.get(ll,ma)||ma),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Hl({},e);return function(t,e,n){const r=new _u(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Wl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(In(Hs))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Hl(t,e){return Array.isArray(e)?e.reduce(Hl,t):Object.assign(Object.assign({},t),e)}let Wl=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),u=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{El.assertNotInAngularZone(),wl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{El.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,u.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof mc?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ru),i=n.create(Hs.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Il,null),a=o&&i.injector.get(Al);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Gl(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Gl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(cl,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(In(El),In(Hs),In(Tr),In(yc),In(nl))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Gl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class $l{}class Kl{}const Xl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ql=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Xl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Yl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Yl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(In(vl),In(Kl,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Yl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class Zl extends $c{}class Jl extends Zl{}const th=function(t){return null},eh=Bl(null,"core",[{provide:al,useValue:"unknown"},{provide:zl,deps:[Hs]},{provide:Al,deps:[]},{provide:ul,deps:[]}]),nh=[{provide:Wl,useClass:Wl,deps:[El,Hs,Tr,yc,nl]},{provide:mu,deps:[El],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:nl,useClass:nl,deps:[[new Pn,el]]},{provide:vl,useClass:vl,deps:[]},il,{provide:Uc,useFactory:function(){return Qc},deps:[]},{provide:qc,useFactory:function(){return Yc},deps:[]},{provide:ll,useFactory:function(t){return _a(t=t||"undefined"!=typeof $localize&&$localize.locale||ma),t},deps:[[new jn(ll),new Pn,new Nn]]},{provide:hl,useValue:"USD"}];let rh=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(In(Wl))},t.\u0275mod=rt({type:t}),t.\u0275inj=E({providers:nh}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return E}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return o}),n.d(e,"i",function(){return x}),n.d(e,"j",function(){return u}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return f}),n.d(e,"m",function(){return m}),n.d(e,"n",function(){return g}),n.d(e,"o",function(){return l}),n.d(e,"p",function(){return h}),n.d(e,"q",function(){return p}),n.d(e,"r",function(){return y});var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=(15&a)<<2|u>>6,h=63&u;c||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==c)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==c&&r.push(a<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function s(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function c(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function d(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function m(){return u().indexOf("Electron/")>=0}function g(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return u().indexOf("MSAppHost/")>=0}var b=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,v.prototype.create),s}return Object(r.c)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?_(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",c=new b(i,a,r);return c},t}();function _(t,e){return t.replace(w,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var w=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){var n=new C(t,e);return n.subscribe.bind(n)}var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function O(){}function x(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return x}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new c.s("angularfire2.app.options"),v=new c.s("angularfire2.app.nameOrConfig"),_=new c.R("6.1.5");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(c.Y)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:w,deps:[b,c.B,[new c.C,v]]};let x=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",_.full,t.toString()),u.a.registerVersion("angular",c.Q.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(c.ec(c.D))},t.\u0275mod=c.Pb({type:t}),t.\u0275inj=c.Ob({providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q"),i=n("KqfI"),s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>{return Object(i.a)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new c.b("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.g)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.d)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,s,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&c&&u.push("and"),c&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.6.5",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.h)(c,s.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var u=0,h=Object.keys(e);u<h.length;u++)e[h[u]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.h)(e,t)},createSubscribe:o.f,ErrorFactory:o.b,deepExtend:o.h}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.k)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.p)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.24",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.s("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.ec)(l)}const u=new r.s("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o))},t.\u0275prov=Object(r.Nb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.ec)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.ec)(o).location;return new v(Object(r.ec)(a),e&&e.origin||"")}const b=new r.s("appBaseHref");let v=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.ec(a),r.ec(b,8))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.ec(a),r.ec(b,8))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.o,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.ec(g),r.ec(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Nb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new w(Object(r.ec)(g),Object(r.ec)(a))}function S(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),O=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),x=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),k=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),T=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function I(t,e){return N(Object(r.nb)(t)[r.db.DateFormat],e)}function A(t,e){return N(Object(r.nb)(t)[r.db.TimeFormat],e)}function R(t,e){return N(Object(r.nb)(t)[r.db.DateTimeFormat],e)}function D(t,e){const n=Object(r.nb)(t),i=n[r.db.NumberSymbols][e];if(void 0===i){if(e===T.CurrencyDecimal)return n[r.db.NumberSymbols][T.Decimal];if(e===T.CurrencyGroup)return n[r.db.NumberSymbols][T.Group]}return i}const j=r.qb;function P(t){if(!t[r.db.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.db.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function N(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function L(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const F=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,M={},V=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var U=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),B=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),q=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function z(t,e,n,r){let i=function(t){if(nt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,r=1]=t.split("-").map(t=>+t);return H(e,n-1,r)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(F))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,c,u),e}(n)}const e=new Date(t);if(!nt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=W(n,e)||e;let s,o=[];for(;e;){if(s=V.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=et(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(et(e,r)-r))}(i,r));let c="";return o.forEach(t=>{const e=function(t){if(tt[t])return tt[t];let e;switch(t){case"G":case"GG":case"GGG":e=X(q.Eras,x.Abbreviated);break;case"GGGG":e=X(q.Eras,x.Wide);break;case"GGGGG":e=X(q.Eras,x.Narrow);break;case"y":e=K(B.FullYear,1,0,!1,!0);break;case"yy":e=K(B.FullYear,2,0,!0,!0);break;case"yyy":e=K(B.FullYear,3,0,!1,!0);break;case"yyyy":e=K(B.FullYear,4,0,!1,!0);break;case"Y":e=J(1);break;case"YY":e=J(2,!0);break;case"YYY":e=J(3);break;case"YYYY":e=J(4);break;case"M":case"L":e=K(B.Month,1,1);break;case"MM":case"LL":e=K(B.Month,2,1);break;case"MMM":e=X(q.Months,x.Abbreviated);break;case"MMMM":e=X(q.Months,x.Wide);break;case"MMMMM":e=X(q.Months,x.Narrow);break;case"LLL":e=X(q.Months,x.Abbreviated,O.Standalone);break;case"LLLL":e=X(q.Months,x.Wide,O.Standalone);break;case"LLLLL":e=X(q.Months,x.Narrow,O.Standalone);break;case"w":e=Z(1);break;case"ww":e=Z(2);break;case"W":e=Z(1,!0);break;case"d":e=K(B.Date,1);break;case"dd":e=K(B.Date,2);break;case"E":case"EE":case"EEE":e=X(q.Days,x.Abbreviated);break;case"EEEE":e=X(q.Days,x.Wide);break;case"EEEEE":e=X(q.Days,x.Narrow);break;case"EEEEEE":e=X(q.Days,x.Short);break;case"a":case"aa":case"aaa":e=X(q.DayPeriods,x.Abbreviated);break;case"aaaa":e=X(q.DayPeriods,x.Wide);break;case"aaaaa":e=X(q.DayPeriods,x.Narrow);break;case"b":case"bb":case"bbb":e=X(q.DayPeriods,x.Abbreviated,O.Standalone,!0);break;case"bbbb":e=X(q.DayPeriods,x.Wide,O.Standalone,!0);break;case"bbbbb":e=X(q.DayPeriods,x.Narrow,O.Standalone,!0);break;case"B":case"BB":case"BBB":e=X(q.DayPeriods,x.Abbreviated,O.Format,!0);break;case"BBBB":e=X(q.DayPeriods,x.Wide,O.Format,!0);break;case"BBBBB":e=X(q.DayPeriods,x.Narrow,O.Format,!0);break;case"h":e=K(B.Hours,1,-12);break;case"hh":e=K(B.Hours,2,-12);break;case"H":e=K(B.Hours,1);break;case"HH":e=K(B.Hours,2);break;case"m":e=K(B.Minutes,1);break;case"mm":e=K(B.Minutes,2);break;case"s":e=K(B.Seconds,1);break;case"ss":e=K(B.Seconds,2);break;case"S":e=K(B.FractionalSeconds,1);break;case"SS":e=K(B.FractionalSeconds,2);break;case"SSS":e=K(B.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Q(U.Short);break;case"ZZZZZ":e=Q(U.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Q(U.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Q(U.Long);break;default:return null}return tt[t]=e,e}(t);c+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function H(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function W(t,e){const n=function(t){return Object(r.nb)(t)[r.db.LocaleId]}(t);if(M[n]=M[n]||{},M[n][e])return M[n][e];let i="";switch(e){case"shortDate":i=I(t,k.Short);break;case"mediumDate":i=I(t,k.Medium);break;case"longDate":i=I(t,k.Long);break;case"fullDate":i=I(t,k.Full);break;case"shortTime":i=A(t,k.Short);break;case"mediumTime":i=A(t,k.Medium);break;case"longTime":i=A(t,k.Long);break;case"fullTime":i=A(t,k.Full);break;case"short":const e=W(t,"shortTime"),n=W(t,"shortDate");i=G(R(t,k.Short),[e,n]);break;case"medium":const r=W(t,"mediumTime"),s=W(t,"mediumDate");i=G(R(t,k.Medium),[r,s]);break;case"long":const o=W(t,"longTime"),a=W(t,"longDate");i=G(R(t,k.Long),[o,a]);break;case"full":const c=W(t,"fullTime"),u=W(t,"fullDate");i=G(R(t,k.Full),[c,u])}return i&&(M[n][e]=i),i}function G(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function $(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function K(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case B.FullYear:return e.getFullYear();case B.Month:return e.getMonth();case B.Date:return e.getDate();case B.Hours:return e.getHours();case B.Minutes:return e.getMinutes();case B.Seconds:return e.getSeconds();case B.FractionalSeconds:return e.getMilliseconds();case B.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===B.Hours)0===a&&-12===n&&(a=12);else if(t===B.FractionalSeconds)return c=e,$(a,3).substr(0,c);var c;const u=D(o,T.MinusSign);return $(a,e,u,r,i)}}function X(t,e,n=O.Format,i=!1){return function(s,o){return function(t,e,n,i,s,o){switch(n){case q.Months:return function(t,e,n){const i=Object(r.nb)(t),s=N([i[r.db.MonthsFormat],i[r.db.MonthsStandalone]],e);return N(s,n)}(e,s,i)[t.getMonth()];case q.Days:return function(t,e,n){const i=Object(r.nb)(t),s=N([i[r.db.DaysFormat],i[r.db.DaysStandalone]],e);return N(s,n)}(e,s,i)[t.getDay()];case q.DayPeriods:const a=t.getHours(),c=t.getMinutes();if(o){const t=function(t){const e=Object(r.nb)(t);return P(e),(e[r.db.ExtraData][2]||[]).map(t=>"string"==typeof t?L(t):[L(t[0]),L(t[1])])}(e),n=function(t,e,n){const i=Object(r.nb)(t);P(i);const s=N([i[r.db.ExtraData][0],i[r.db.ExtraData][1]],e)||[];return N(s,n)||[]}(e,s,i),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&c>=e.minutes,i=a<n.hours||a===n.hours&&c<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===c)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const i=Object(r.nb)(t),s=N([i[r.db.DayPeriodsFormat],i[r.db.DayPeriodsStandalone]],e);return N(s,n)}(e,s,i)[a<12?0:1];case q.Eras:return function(t,e){return N(Object(r.nb)(t)[r.db.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,o,t,e,n,i)}}function Q(t){return function(e,n,r){const i=-1*r,s=D(n,T.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case U.Short:return(i>=0?"+":"")+$(o,2,s)+$(Math.abs(i%60),2,s);case U.ShortGMT:return"GMT"+(i>=0?"+":"")+$(o,1,s);case U.Long:return"GMT"+(i>=0?"+":"")+$(o,2,s)+":"+$(Math.abs(i%60),2,s);case U.Extended:return 0===r?"Z":(i>=0?"+":"")+$(o,2,s)+":"+$(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function Y(t){return H(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Z(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=Y(n),e=function(t){const e=H(t,0,1).getDay();return H(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return $(i,t,D(r,T.MinusSign))}}function J(t,e=!1){return function(n,r){return $(Y(n).getFullYear(),t,D(r,T.MinusSign),e)}}const tt={};function et(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function nt(t){return t instanceof Date&&!isNaN(t.valueOf())}class rt{}let it=(()=>{class t extends rt{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(j(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.w))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),st=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.tb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.zb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.u),r.Rb(r.v),r.Rb(r.l),r.Rb(r.G))},t.\u0275dir=r.Mb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class ot{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let at=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ot(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new ct(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new ct(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.S),r.Rb(r.N),r.Rb(r.u))},t.\u0275dir=r.Mb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class ct{constructor(t,e){this.record=t,this.view=e}}let ut=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new lt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ht("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ht("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.S),r.Rb(r.N))},t.\u0275dir=r.Mb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class lt{constructor(){this.$implicit=null,this.ngIf=null}}function ht(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.zb)(e)}'.`)}class dt{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ft=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),pt=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new dt(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.S),r.Rb(r.N),r.Rb(ft,9))},t.\u0275dir=r.Mb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),mt=(()=>{class t{constructor(t,e,n){n._addDefault(new dt(t,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.S),r.Rb(r.N),r.Rb(ft,9))},t.\u0275dir=r.Mb({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),gt=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.v),r.Rb(r.G))},t.\u0275dir=r.Mb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})();function yt(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.zb)(t)}'`)}class bt{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class vt{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const _t=new vt,wt=new bt;let Et=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.vb)(e))return _t;if(Object(r.wb)(e))return wt;throw yt(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.gc())},t.\u0275pipe=r.Qb({name:"async",type:t,pure:!1}),t})(),St=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return z(e,n,i||this.locale,r)}catch(s){throw yt(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.w))},t.\u0275pipe=r.Qb({name:"date",type:t,pure:!0}),t})(),Ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:[{provide:rt,useClass:it}]}),t})();function Ot(t){return"server"===t}let xt=(()=>{class t{}return t.\u0275prov=Object(r.Nb)({token:t,providedIn:"root",factory:()=>new kt(Object(r.ec)(o),window)}),t})();class kt{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Tt(this.window.history)||Tt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Tt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class It extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new It,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Rt||(Rt=document.querySelector("base"),Rt)?Rt.getAttribute("href"):null;return null==e?null:(n=e,At||(At=document.createElement("a")),At.setAttribute("href",n),"/"===At.pathname.charAt(0)?At.pathname:"/"+At.pathname);var n}resetBaseElement(){Rt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let At,Rt=null;const Dt=new r.s("TRANSITION_ID"),jt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Dt,o,r.t],multi:!0}];class Pt{static init(){Object(r.ab)(new Pt)}addToWindow(t){r.sb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.sb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.sb.getAllAngularRootElements=()=>t.getAllRootElements(),r.sb.frameworkStabilizers||(r.sb.frameworkStabilizers=[]),r.sb.frameworkStabilizers.push(t=>{const e=r.sb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Nt=new r.s("EventManagerPlugins");let Lt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(Nt),r.ec(r.B))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class Ft{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Mt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),Vt=(()=>{class t extends Mt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(Ut),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ut))}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();function Ut(t){s().remove(t)}const Bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qt=/%COMP%/g;function zt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?zt(t,i,n):(i=i.replace(qt,t),n.push(i))}return n}function Ht(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Wt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Gt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.T.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new $t(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.T.ShadowDom:return new Kt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=zt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.ec(Lt),r.ec(Vt),r.ec(r.c))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class Gt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Bt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Bt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Bt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.I.DashCase|r.I.Important)?t.style.setProperty(e,n,i&r.I.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.I.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ht(n)):this.eventManager.addEventListener(t,e,Ht(n))}}class $t extends Gt{constructor(t,e,n,r){super(t),this.component=n;const i=zt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(qt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(qt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Kt extends Gt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=zt(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Xt=(()=>{class t extends Ft{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const Qt=["alt","control","meta","shift"],Yt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Jt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let te=(()=>{class t extends Ft{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(Qt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Zt.hasOwnProperty(e)&&(e=Zt[e]))}return Yt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Qt.forEach(r=>{r!=n&&(0,Jt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const ee=[{provide:r.D,useValue:"browser"},{provide:r.E,useValue:function(){It.makeCurrent(),Pt.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.yb)(document),document},deps:[]}],ne=Object(r.U)(r.Z,"browser",ee),re=[[],{provide:r.cb,useValue:"root"},{provide:r.n,useFactory:function(){return new r.n},deps:[]},{provide:Nt,useClass:Xt,multi:!0,deps:[o,r.B,r.D]},{provide:Nt,useClass:te,multi:!0,deps:[o]},[],{provide:Wt,useClass:Wt,deps:[Lt,Vt,r.c]},{provide:r.H,useExisting:Wt},{provide:Mt,useExisting:Vt},{provide:Vt,useClass:Vt,deps:[o]},{provide:r.O,useClass:r.O,deps:[r.B]},{provide:Lt,useClass:Lt,deps:[Nt,r.B]},[]];let ie=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Dt,useExisting:r.c},jt]}}}return t.\u0275fac=function(e){return new(e||t)(r.ec(t,12))},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:re,imports:[Ct,r.f]}),t})();"undefined"!=typeof window&&window;var se=n("mrSG"),oe=n("D0XW"),ae=n("HDdC"),ce=n("Cfvw"),ue=n("LRne"),le=n("bHdf");function he(...t){return Object(le.a)(1)(Object(ue.a)(...t))}var de=n("z+Ro");function fe(...t){const e=t[t.length-1];return Object(de.a)(e)?(t.pop(),n=>he(t,n,e)):e=>he(t,e)}var pe=n("7o/Q");function me(){return t=>t.lift(new ge)}class ge{call(t,e){return e.subscribe(new ye(t))}}class ye extends pe.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var be=n("lJxs");function ve(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new _e(t,e,n))}}class _e{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new we(t,this.accumulator,this.seed,this.hasSeed))}}class we extends pe.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ee(t,e){return n=>n.lift(new Se(t,e))}class Se{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Ce(t,this.compare,this.keySelector))}}class Ce extends pe.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function Oe(t,e){return function(n){return n.lift(new xe(t,e))}}class xe{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ke(t,this.predicate,this.thisArg))}}class ke extends pe.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var Te=n("pxpQ"),Ie=n("spgP"),Ae=n("Jgta"),Re=n("zIRd"),De=n("qOnz"),je=n("q/0M"),Pe=function(t,e){return(Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ne(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Le,Fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Me=Me||{},Ve=Fe||self;function Ue(){}function Be(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function qe(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ze="closure_uid_"+(1e9*Math.random()>>>0),He=0;function We(t,e,n){return t.call.apply(t.bind,arguments)}function Ge(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function $e(t,e,n){return($e=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?We:Ge).apply(null,arguments)}function Ke(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Xe(){return Date.now()}function Qe(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Pb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Ye(){this.j=this.j,this.i=this.i}Ye.prototype.j=!1,Ye.prototype.ka=function(){!this.j&&(this.j=!0,this.H(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ze)&&t[ze]||(t[ze]=++He)}(this)},Ye.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ze=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Je=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function tn(t){return Array.prototype.concat.apply([],arguments)}function en(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function nn(t){return/^[\s\xa0]*$/.test(t)}var rn,sn=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function on(t,e){return-1!=t.indexOf(e)}function an(t,e){return t<e?-1:t>e?1:0}t:{var cn=Ve.navigator;if(cn){var un=cn.userAgent;if(un){rn=un;break t}}rn=""}function ln(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function hn(t){var e={};for(var n in t)e[n]=t[n];return e}var dn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fn(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<dn.length;s++)n=dn[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function pn(t){return pn[" "](t),t}pn[" "]=Ue;var mn,gn,yn=on(rn,"Opera"),bn=on(rn,"Trident")||on(rn,"MSIE"),vn=on(rn,"Edge"),_n=vn||bn,wn=on(rn,"Gecko")&&!(on(rn.toLowerCase(),"webkit")&&!on(rn,"Edge"))&&!(on(rn,"Trident")||on(rn,"MSIE"))&&!on(rn,"Edge"),En=on(rn.toLowerCase(),"webkit")&&!on(rn,"Edge");function Sn(){var t=Ve.document;return t?t.documentMode:void 0}t:{var Cn="",On=(gn=rn,wn?/rv:([^\);]+)(\)|;)/.exec(gn):vn?/Edge\/([\d\.]+)/.exec(gn):bn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(gn):En?/WebKit\/(\S+)/.exec(gn):yn?/(?:Version)[ \/]?(\S+)/.exec(gn):void 0);if(On&&(Cn=On?On[1]:""),bn){var xn=Sn();if(null!=xn&&xn>parseFloat(Cn)){mn=String(xn);break t}}mn=Cn}var kn={};function Tn(t){return function(t,e){var n=kn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=sn(String(mn)).split("."),r=sn(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=an(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||an(0==o[2].length,0==a[2].length)||an(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var In=Ve.document&&bn&&(Sn()||parseInt(mn,10))||void 0,An=!bn||9<=Number(In),Rn=bn&&!Tn("9"),Dn=function(){if(!Ve.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ve.addEventListener("test",Ue,e),Ve.removeEventListener("test",Ue,e)}catch(n){}return t}();function jn(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Pn(t,e){if(jn.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(wn){t:{try{pn(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Nn[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}jn.prototype.b=function(){this.defaultPrevented=!0},Qe(Pn,jn);var Nn={2:"touch",3:"pen",4:"mouse"};Pn.prototype.b=function(){Pn.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Rn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ln="closure_listenable_"+(1e6*Math.random()|0),Fn=0;function Mn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++Fn,this.Y=this.Z=!1}function Vn(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function Un(t){this.src=t,this.a={},this.b=0}function Bn(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Ze(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Vn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function qn(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.da==r)return i}return-1}Un.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=qn(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Mn(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var zn="closure_lm_"+(1e6*Math.random()|0),Hn={};function Wn(t,e,n,r,i){if(r&&r.once)return $n(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Wn(t,e[s],n,r,i);return null}return n=er(n),t&&t[Ln]?t.wa(e,n,qe(r)?!!r.capture:!!r,i):Gn(t,e,n,!1,r,i)}function Gn(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=qe(i)?!!i.capture:!!i;if(o&&!An)return null;var a=Jn(t);if(a||(t[zn]=a=new Un(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Zn,e=An?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Dn||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Qn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function $n(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)$n(t,e[s],n,r,i);return null}return n=er(n),t&&t[Ln]?t.xa(e,n,qe(r)?!!r.capture:!!r,i):Gn(t,e,n,!0,r,i)}function Kn(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Kn(t,e[s],n,r,i);else r=qe(r)?!!r.capture:!!r,n=er(n),t&&t[Ln]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=qn(s=t.a[e],n,r,i))&&(Vn(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Jn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=qn(e,n,r,i)),(n=-1<t?e[t]:null)&&Xn(n))}function Xn(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ln])Bn(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Qn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Jn(e))?(Bn(n,t),0==n.b&&(n.src=null,e[zn]=null)):Vn(t)}}}function Qn(t){return t in Hn?Hn[t]:Hn[t]="on"+t}function Yn(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&Xn(t),n.call(r,e)}function Zn(t,e){if(t.Y)return!0;if(!An){if(!e)t:{e=["window","event"];for(var n=Ve,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Yn(t,e=new Pn(e,this))}return Yn(t,new Pn(e,this))}function Jn(t){return(t=t[zn])instanceof Un?t:null}var tr="__closure_events_fn_"+(1e9*Math.random()>>>0);function er(t){return"function"==typeof t?t:(t[tr]||(t[tr]=function(e){return t.handleEvent(e)}),t[tr])}function nr(){Ye.call(this),this.c=new Un(this),this.J=this,this.D=null}function rr(t,e){var n,r=t.D;if(r)for(n=[];r;r=r.D)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new jn(e,t);else if(e instanceof jn)e.target=e.target||t;else{var i=e;fn(e=new jn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=ir(o,r,!0,e)&&i}if(i=ir(o=e.a=t,r,!0,e)&&i,i=ir(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=ir(o=e.a=n[s],r,!1,e)&&i}function ir(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.da||o.src;o.Z&&Bn(t.c,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Qe(nr,Ye),nr.prototype[Ln]=!0,(Le=nr.prototype).addEventListener=function(t,e,n,r){Wn(this,t,e,n,r)},Le.removeEventListener=function(t,e,n,r){Kn(this,t,e,n,r)},Le.H=function(){if(nr.X.H.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Vn(n[r]);delete e.a[t],e.b--}}this.D=null},Le.wa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Le.xa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var sr=Ve.JSON.stringify;function or(){this.b=this.a=null}var ar,cr=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new lr},function(t){t.reset()});function ur(){var t=pr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function lr(){this.next=this.b=this.a=null}function hr(t){Ve.setTimeout(function(){throw t},0)}function dr(t,e){ar||function(){var t=Ve.Promise.resolve(void 0);ar=function(){t.then(mr)}}(),fr||(ar(),fr=!0),pr.add(t,e)}or.prototype.add=function(t,e){var n=cr.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},lr.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},lr.prototype.reset=function(){this.next=this.b=this.a=null};var fr=!1,pr=new or;function mr(){for(var t;t=ur();){try{t.a.call(t.b)}catch(n){hr(n)}var e=cr;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}fr=!1}function gr(t,e){nr.call(this),this.b=t||1,this.a=e||Ve,this.f=$e(this.eb,this),this.g=Xe()}function yr(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function br(t,e,n){if("function"==typeof t)n&&(t=$e(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=$e(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ve.setTimeout(t,e||0)}function vr(t){t.a=br(function(){t.a=null,t.c&&(t.c=!1,vr(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Qe(gr,nr),(Le=gr.prototype).aa=!1,Le.M=null,Le.eb=function(){if(this.aa){var t=Xe()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),rr(this,"tick"),this.aa&&(yr(this),this.start()))}},Le.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Xe())},Le.H=function(){gr.X.H.call(this),yr(this),delete this.a};var _r=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Pe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:vr(this)},e.prototype.H=function(){t.prototype.H.call(this),this.a&&(Ve.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ye);function wr(t){Ye.call(this),this.b=t,this.a={}}Qe(wr,Ye);var Er=[];function Sr(t,e,n,r){Array.isArray(n)||(n&&(Er[0]=n.toString()),n=Er);for(var i=0;i<n.length;i++){var s=Wn(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Cr(t){ln(t.a,function(t,e){this.a.hasOwnProperty(e)&&Xn(t)},t),t.a={}}function Or(){this.a=!0}function xr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return sr(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}wr.prototype.H=function(){wr.X.H.call(this),Cr(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Or.prototype.info=function(){};var kr={},Tr=null;function Ir(){return Tr=Tr||new nr}function Ar(t){jn.call(this,kr.Ga,t)}function Rr(t){var e=Ir();rr(e,new Ar(e,t))}function Dr(t,e){jn.call(this,kr.STAT_EVENT,t),this.stat=e}function jr(t){var e=Ir();rr(e,new Dr(e,t))}function Pr(t){jn.call(this,kr.Ha,t)}function Nr(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ve.setTimeout(function(){t()},e)}kr.Ga="serverreachability",Qe(Ar,jn),kr.STAT_EVENT="statevent",Qe(Dr,jn),kr.Ha="timingevent",Qe(Pr,jn);var Lr={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},Fr={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function Mr(){}function Vr(){}Mr.prototype.b=null;var Ur,Br={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function qr(){jn.call(this,"d")}function zr(){jn.call(this,"c")}function Hr(){}function Wr(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new wr(this),this.P=Gr,this.R=new gr(t=_n?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Qe(qr,jn),Qe(zr,jn),Qe(Hr,Mr),Hr.prototype.a=function(){return new XMLHttpRequest},Hr.prototype.c=function(){return{}},Ur=new Hr;var Gr=45e3,$r={},Kr={};function Xr(t,e,n){t.G=1,t.i=yi(hi(e)),t.j=n,t.I=!0,Qr(t,null)}function Qr(t,e){t.u=Xe(),Jr(t),t.l=hi(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ai(n.b,"t",r),t.D=0,t.a=Cs(t.g,t.g.C?e:null),0<t.O&&(t.F=new _r($e(t.Da,t,t.a),t.O)),Sr(t.J,t.a,"readystatechange",t.bb),e=t.B?hn(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Rr(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Yr(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Zr(t,n);if(i==Kr){4==e&&(t.h=4,jr(14),r=!1),xr(t.c,t.f,null,"[Incomplete Response]");break}if(i==$r){t.h=4,jr(15),xr(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}xr(t.c,t.f,i,null),ii(t,i)}4==e&&0==n.length&&(t.h=1,jr(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),gs(e),e.F=!0,jr(11))):(xr(t.c,t.f,n,"[Invalid Chunked Response]"),ri(t),ni(t))}function Zr(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Kr:(n=Number(e.substring(n,r)),isNaN(n)?$r:(r+=1)+n>e.length?Kr:(e=e.substr(r,n),t.D=r+n,e))}function Jr(t){t.T=Xe()+t.P,ti(t,t.P)}function ti(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Nr($e(t.$a,t),e)}function ei(t){t.o&&(Ve.clearTimeout(t.o),t.o=null)}function ni(t){0==t.g.v||t.A||vs(t.g,t)}function ri(t){ei(t);var e=t.F;e&&"function"==typeof e.ka&&e.ka(),t.F=null,yr(t.R),Cr(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ka())}function ii(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Fi(n.b,t)))if(n.I=t.N,!t.C&&Fi(n.b,t)&&3==n.v){try{var r=n.la.a.parse(e)}catch(km){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;bs(n),as(n)}ms(n),jr(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=Nr($e(n.Xa,n),6e3));if(1>=Li(n.b)&&n.fa){try{n.fa()}catch(km){}n.fa=void 0}}else ws(n,11)}else if((t.C||n.a==t)&&bs(n),!nn(e))for(e=r=n.la.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var s=i[3];null!=s&&(n.ia=s,n.c.info("VER="+n.ia));var o=i[4];null!=o&&(n.qa=o,n.c.info("SVER="+n.qa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(on(l,"spdy")||on(l,"quic")||on(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Mi(h,h.b),h.b=null))}if(c.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.oa=d,gi(c.B,c.A,d))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=Xe()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).ma=Ss(c,c.C?c.ha:null,c.ga),f.C){Vi(c.b,f);var p=f,m=c.D;m&&p.setTimeout(m),p.o&&(ei(p),Jr(p)),c.a=f}else ps(c);0<n.g.length&&ls(n)}else"stop"!=i[0]&&"close"!=i[0]||ws(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?ws(n,7):os(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);Rr(4)}catch(km){}}function si(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Be(t)||"string"==typeof t)Je(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Be(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Be(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function oi(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof oi)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ai(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ci(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ci(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ci(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Le=Wr.prototype).setTimeout=function(t){this.P=t},Le.bb=function(t){t=t.target;var e=this.F;e&&3==ns(t)?e.f():this.Da(t)},Le.Da=function(t){try{if(t==this.a)t:{var e=ns(this.a),n=this.a.va(),r=this.a.W();if(!(3>e||3==e&&!_n&&!this.a.$())){this.A||4!=e||7==n||Rr(8==n||0>=r?3:2),ei(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nn(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,jr(12),ri(this),ni(this);break t}xr(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ii(this,c)}this.I?(Yr(this,e,s),_n&&this.b&&3==e&&(Sr(this.J,this.R,"tick",this.ab),this.R.start())):(xr(this.c,this.f,s,null),ii(this,s)),4==e&&ri(this),this.b&&!this.A&&(4==e?vs(this.g,this):(this.b=!1,Jr(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,jr(12)):(this.h=0,jr(13)),ri(this),ni(this)}}}catch(u){}},Le.ab=function(){if(this.a){var t=ns(this.a),e=this.a.$();this.D<e.length&&(ei(this),Yr(this,t,e),this.b&&4!=t&&Jr(this))}},Le.cancel=function(){this.A=!0,ri(this)},Le.$a=function(){this.o=null;var t=Xe();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.G&&(Rr(3),jr(17)),ri(this),this.h=2,ni(this)):ti(this,this.T-t)},(Le=oi.prototype).K=function(){ai(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Le.L=function(){return ai(this),this.a.concat()},Le.get=function(t,e){return ci(this.b,t)?this.b[t]:e},Le.set=function(t,e){ci(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Le.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var ui=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function li(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof li){this.a=void 0!==e?e:t.a,di(this,t.f),this.j=t.j,fi(this,t.c),pi(this,t.h),this.g=t.g,e=t.b;var n=new xi;n.c=e.c,e.a&&(n.a=new oi(e.a),n.b=e.b),mi(this,n),this.i=t.i}else t&&(n=String(t).match(ui))?(this.a=!!e,di(this,n[1]||"",!0),this.j=bi(n[2]||""),fi(this,n[3]||"",!0),pi(this,n[4]),this.g=bi(n[5]||"",!0),mi(this,n[6]||"",!0),this.i=bi(n[7]||"")):(this.a=!!e,this.b=new xi(null,this.a))}function hi(t){return new li(t)}function di(t,e,n){t.f=n?bi(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function fi(t,e,n){t.c=n?bi(e,!0):e}function pi(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function mi(t,e,n){e instanceof xi?(t.b=e,function(t,e){e&&!t.f&&(ki(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ti(this,e),Ai(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=vi(e,Ci)),t.b=new xi(e,t.a))}function gi(t,e,n){t.b.set(e,n)}function yi(t){return gi(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Xe()).toString(36)),t}function bi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function vi(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,_i),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function _i(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}li.prototype.toString=function(){var t=[],e=this.f;e&&t.push(vi(e,wi,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(vi(e,wi,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(vi(n,"/"==n.charAt(0)?Si:Ei,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",vi(n,Oi)),t.join("")};var wi=/[#\/\?@]/g,Ei=/[#\?:]/g,Si=/[#\?]/g,Ci=/[#\?@]/g,Oi=/#/g;function xi(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ki(t){t.a||(t.a=new oi,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ti(t,e){ki(t),e=Ri(t,e),ci(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ci((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ai(t)))}function Ii(t,e){return ki(t),e=Ri(t,e),ci(t.a.b,e)}function Ai(t,e,n){Ti(t,e),0<n.length&&(t.c=null,t.a.set(Ri(t,e),en(n)),t.b+=n.length)}function Ri(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Le=xi.prototype).add=function(t,e){ki(this),this.c=null,t=Ri(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Le.forEach=function(t,e){ki(this),this.a.forEach(function(n,r){Je(n,function(n){t.call(e,n,r,this)},this)},this)},Le.L=function(){ki(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Le.K=function(t){ki(this);var e=[];if("string"==typeof t)Ii(this,t)&&(e=tn(e,this.a.get(Ri(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=tn(e,t[n])}return e},Le.set=function(t,e){return ki(this),this.c=null,Ii(this,t=Ri(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Le.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Le.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Di=function(){return function(t,e){this.b=t,this.a=e}}();function ji(t){this.g=t||Pi,t=Ve.PerformanceNavigationTiming?0<(t=Ve.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ve.ja&&Ve.ja.za&&Ve.ja.za()&&Ve.ja.za().Qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Pi=10;function Ni(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Li(t){return t.b?1:t.a?t.a.size:0}function Fi(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Mi(t,e){t.a?t.a.add(e):t.b=e}function Vi(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ui(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ne(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return en(t.c)}function Bi(){}function qi(){this.a=new Bi}function zi(t,e,n){var r=n||"";try{si(t,function(t,n){var i=t;qe(t)&&(i=sr(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Ym){throw e.push(r+"type="+encodeURIComponent("_badmap")),Ym}}function Hi(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}ji.prototype.cancel=function(){var t,e;if(this.c=Ui(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ne(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Bi.prototype.stringify=function(t){return Ve.JSON.stringify(t,void 0)},Bi.prototype.parse=function(t){return Ve.JSON.parse(t,void 0)};var Wi=Ve.JSON.parse;function Gi(t){nr.call(this),this.headers=new oi,this.l=t||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=$i,this.F=this.G=!1}Qe(Gi,nr);var $i="",Ki=/^https?$/i,Xi=["POST","PUT"];function Qi(t){return"content-type"==t.toLowerCase()}function Yi(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Zi(t),ts(t)}function Zi(t){t.A||(t.A=!0,rr(t,"complete"),rr(t,"error"))}function Ji(t){if(t.b&&void 0!==Me&&(!t.u[1]||4!=ns(t)||2!=t.W()))if(t.m&&4==ns(t))br(t.Aa,0,t);else if(rr(t,"readystatechange"),4==ns(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.C).match(ui)[1]||null;if(!s&&Ve.self&&Ve.self.location){var o=Ve.self.location.protocol;s=o.substr(0,o.length-1)}i=!Ki.test(s?s.toLowerCase():"")}e=i}if(e)rr(t,"complete"),rr(t,"success");else{t.h=6;try{var a=2<ns(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Zi(t)}}finally{ts(t)}}}function ts(t,e){if(t.a){es(t);var n=t.a,r=t.u[0]?Ue:null;t.a=null,t.u=null,e||rr(t,"ready");try{n.onreadystatechange=r}catch(Ym){}}}function es(t){t.a&&t.F&&(t.a.ontimeout=null),t.o&&(Ve.clearTimeout(t.o),t.o=null)}function ns(t){return t.a?t.a.readyState:0}function rs(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ln(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):gi(t,e,n))}function is(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ss(t){this.qa=0,this.g=[],this.c=new Or,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=is("failFast",!1,t),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=is("baseRetryDelayMs",5e3,t),this.Sa=is("retryDelaySeedMs",1e4,t),this.Na=is("forwardChannelMaxRetries",2,t),this.na=is("forwardChannelRequestTimeoutMs",2e4,t),this.Oa=t&&t.xmlHttpFactory||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ji(t&&t.concurrentRequestLimit),this.la=new qi,this.ea=t&&t.fastHandshake||!1,this.Ja=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&t&&t.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function os(t){if(cs(t),3==t.v){var e=t.R++,n=hi(t.B);gi(n,"SID",t.J),gi(n,"RID",e),gi(n,"TYPE","terminate"),ds(t,n),(e=new Wr(t,t.c,e,void 0)).G=2,e.i=yi(hi(n)),n=!1,Ve.navigator&&Ve.navigator.sendBeacon&&(n=Ve.navigator.sendBeacon(e.i.toString(),"")),!n&&Ve.Image&&((new Image).src=e.i,n=!0),n||(e.a=Cs(e.g,null),e.a.ba(e.i)),e.u=Xe(),Jr(e)}Es(t)}function as(t){t.a&&(gs(t),t.a.cancel(),t.a=null)}function cs(t){as(t),t.j&&(Ve.clearTimeout(t.j),t.j=null),bs(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ve.clearTimeout(t.h),t.h=null)}function us(t,e){t.g.push(new Di(t.Pa++,e)),3==t.v&&ls(t)}function ls(t){Ni(t.b)||t.h||(t.h=!0,dr(t.Ca,t),t.u=0)}function hs(t,e){var n;n=e?e.f:t.R++;var r=hi(t.B);gi(r,"SID",t.J),gi(r,"RID",n),gi(r,"AID",t.P),ds(t,r),t.i&&t.l&&rs(r,t.i,t.l),n=new Wr(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=fs(t,n,1e3),n.setTimeout(Math.round(.5*t.na)+Math.round(.5*t.na*Math.random())),Mi(t.b,n),Xr(n,r,e)}function ds(t,e){t.f&&si({},function(t,n){gi(e,n,t)})}function fs(t,e,n){n=Math.min(t.g.length,n);var r=t.f?$e(t.f.Ka,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=s))s=Math.max(0,i[c].b-100),a=!1;else try{zi(l,o,"req"+u+"_")}catch(oo){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function ps(t){t.a||t.j||(t.T=1,dr(t.Ba,t),t.o=0)}function ms(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Nr($e(t.Ba,t),_s(t,t.o)),t.o++,0))}function gs(t){null!=t.s&&(Ve.clearTimeout(t.s),t.s=null)}function ys(t){t.a=new Wr(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=hi(t.ma);gi(e,"RID","rpc"),gi(e,"SID",t.J),gi(e,"CI",t.G?"0":"1"),gi(e,"AID",t.P),ds(t,e),gi(e,"TYPE","xmlhttp"),t.i&&t.l&&rs(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ha,n.G=1,n.i=yi(hi(e)),n.j=null,n.I=!0,Qr(n,t)}function bs(t){null!=t.m&&(Ve.clearTimeout(t.m),t.m=null)}function vs(t,e){var n=null;if(t.a==e){bs(t),gs(t),t.a=null;var r=2}else{if(!Fi(t.b,e))return;n=e.s,Vi(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Xe()-e.u;var i=t.u;rr(r=Ir(),new Pr(r,n,e,i)),ls(t)}else ps(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Li(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ma?0:t.Na)||(t.h=Nr($e(t.Ca,t,e),_s(t,t.u)),t.u++,0)))}(t,e)||2==r&&ms(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ws(t,5);break;case 4:ws(t,10);break;case 3:ws(t,6);break;default:ws(t,2)}}function _s(t,e){var n=t.Ia+Math.floor(Math.random()*t.Sa);return t.f||(n*=2),n*e}function ws(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=$e(t.cb,t);n||(n=new li("//www.google.com/images/cleardot.gif"),Ve.location&&"http"==Ve.location.protocol||di(n,"https"),yi(n)),function(t,e){var n=new Or;if(Ve.Image){var r=new Image;r.onload=Ke(Hi,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ke(Hi,n,r,"TestLoadImage: error",!1,e),r.onabort=Ke(Hi,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ke(Hi,n,r,"TestLoadImage: timeout",!1,e),Ve.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else jr(2);t.v=0,t.f&&t.f.sa(e),Es(t),cs(t)}function Es(t){t.v=0,t.I=-1,t.f&&(0==Ui(t.b).length&&0==t.g.length||(t.b.c.length=0,en(t.g),t.g.length=0),t.f.ra())}function Ss(t,e,n){var r=function(t){return t instanceof li?hi(t):new li(t,void 0)}(n);if(""!=r.c)e&&fi(r,e+"."+r.c),pi(r,r.h);else{var i=Ve.location;r=function(t,e,n,r){var i=new li(null,void 0);return t&&di(i,t),e&&fi(i,e),n&&pi(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ln(t.V,function(t,e){gi(r,e,t)}),n=t.oa,(e=t.A)&&n&&gi(r,e,n),gi(r,"VER",t.ia),ds(t,r),r}function Cs(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Gi(t.Oa)).G=t.C,e}function Os(){}function xs(){if(bn&&!(10<=Number(In)))throw Error("Environmental error: no available transport.")}function ks(t,e){nr.call(this),this.a=new ss(e),this.g=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!nn(t)&&(this.a.i=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nn(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new As(this)}function Ts(t){qr.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Is(){zr.call(this),this.status=1}function As(t){this.a=t}function Rs(t){this.f=t}function Ds(t){nr.call(this),this.u=t,this.h=void 0,this.readyState=js,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}(Le=Gi.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():Ur.a(),this.u=function(t){return t.b||(t.b=t.c())}(this.l?this.l:Ur),this.a.onreadystatechange=$e(this.Aa,this);try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(s){return void Yi(this,s)}t=n||"";var i=new oi(this.headers);r&&si(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Qi,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ve.FormData&&t instanceof Ve.FormData,!(0<=Ze(Xi,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{es(this),0<this.s&&((this.F=function(t){return bn&&Tn(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.s,this.a.ontimeout=$e(this.ya,this)):this.o=br(this.ya,this.s,this)),this.m=!0,this.a.send(t),this.m=!1}catch(s){Yi(this,s)}},Le.ya=function(){void 0!==Me&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,rr(this,"timeout"),this.abort(8))},Le.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,rr(this,"complete"),rr(this,"abort"),ts(this))},Le.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ts(this,!0)),Gi.X.H.call(this)},Le.Aa=function(){this.j||(this.B||this.m||this.g?Ji(this):this.Za())},Le.Za=function(){Ji(this)},Le.W=function(){try{return 2<ns(this)?this.a.status:-1}catch(gn){return-1}},Le.$=function(){try{return this.a?this.a.responseText:""}catch(gn){return""}},Le.Qa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Wi(e)}},Le.va=function(){return this.h},Le.Ra=function(){return"string"==typeof this.f?this.f:String(this.f)},(Le=ss.prototype).ia=8,Le.v=1,Le.Ca=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Wr(this,this.c,t,void 0),r=this.l;if(this.O&&(r?fn(r=hn(r),this.O):r=this.O),null===this.i&&(n.B=r),this.ea)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=fs(this,n,e),gi(i=hi(this.B),"RID",t),gi(i,"CVER",22),this.A&&gi(i,"X-HTTP-Session-Id",this.A),ds(this,i),this.i&&r&&rs(i,this.i,r),Mi(this.b,n),this.Ja&&gi(i,"TYPE","init"),this.ea?(gi(i,"$req",e),gi(i,"SID","null"),n.U=!0,Xr(n,i,null)):Xr(n,i,e),this.v=2}}else 3==this.v&&(t?hs(this,t):0==this.g.length||Ni(this.b)||hs(this))},Le.Ba=function(){if(this.j=null,ys(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Nr($e(this.Ya,this),t)}},Le.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,jr(10),as(this),ys(this))},Le.Xa=function(){null!=this.m&&(this.m=null,as(this),ms(this),jr(19))},Le.cb=function(t){t?(this.c.info("Successfully pinged google.com"),jr(2)):(this.c.info("Failed to ping google.com"),jr(1))},(Le=Os.prototype).ua=function(){},Le.ta=function(){},Le.sa=function(){},Le.ra=function(){},Le.Ka=function(){},xs.prototype.a=function(t,e){return new ks(t,e)},Qe(ks,nr),ks.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var t=this.a,e=this.g,n=this.b||void 0;jr(0),t.ga=e,t.V=n||{},t.G=t.S,t.B=Ss(t,null,t.ga),ls(t)},ks.prototype.close=function(){os(this.a)},ks.prototype.l=function(t){if("string"==typeof t){var e={};e.__data__=t,us(this.a,e)}else this.m?((e={}).__data__=sr(t),us(this.a,e)):us(this.a,t)},ks.prototype.H=function(){this.a.f=null,delete this.f,os(this.a),delete this.a,ks.X.H.call(this)},Qe(Ts,qr),Qe(Is,zr),Qe(As,Os),As.prototype.ua=function(){rr(this.a,"a")},As.prototype.ta=function(t){rr(this.a,new Ts(t))},As.prototype.sa=function(t){rr(this.a,new Is(t))},As.prototype.ra=function(){rr(this.a,"b")},Qe(Rs,Mr),Rs.prototype.a=function(){return new Ds(this.f)},Rs.prototype.c=function(t){return function(){return t}}({}),Qe(Ds,nr);var js=0;function Ps(t){t.f.read().then(t.Ta.bind(t)).catch(t.ca.bind(t))}function Ns(t){t.readyState=4,t.g=null,t.f=null,t.m=null,Ls(t)}function Ls(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Le=Ds.prototype).open=function(t,e){if(this.readyState!=js)throw this.abort(),Error("Error reopening a connection");this.s=t,this.o=e,this.readyState=1,Ls(this)},Le.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.o,e)).then(this.Wa.bind(this),this.ca.bind(this))},Le.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ns(this)),this.readyState=js},Le.Wa=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Ls(this)),this.a&&(this.readyState=3,Ls(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):void 0!==Ve.ReadableStream&&"body"in t?(this.responseText="",this.f=t.body.getReader(),this.m=new TextDecoder,Ps(this)):t.text().then(this.Va.bind(this),this.ca.bind(this)))))},Le.Ta=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.responseText+=e),t.done?Ns(this):Ls(this),3==this.readyState&&Ps(this)}},Le.Va=function(t){this.a&&(this.responseText=t,Ns(this))},Le.Ua=function(){this.a&&Ns(this)},Le.ca=function(){this.a&&Ns(this)},Le.setRequestHeader=function(t,e){this.l.append(t,e)},Le.getResponseHeader=function(t){return this.b&&this.b.get(t.toLowerCase())||""},Le.getAllResponseHeaders=function(){if(!this.b)return"";for(var t=[],e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),xs.prototype.createWebChannel=xs.prototype.a,ks.prototype.send=ks.prototype.l,ks.prototype.open=ks.prototype.h,ks.prototype.close=ks.prototype.close,Lr.NO_ERROR=0,Lr.TIMEOUT=8,Lr.HTTP_ERROR=6,Fr.COMPLETE="complete",Vr.EventType=Br,Br.OPEN="a",Br.CLOSE="b",Br.ERROR="c",Br.MESSAGE="d",nr.prototype.listen=nr.prototype.wa,Gi.prototype.listenOnce=Gi.prototype.xa,Gi.prototype.getLastError=Gi.prototype.Ra,Gi.prototype.getLastErrorCode=Gi.prototype.va,Gi.prototype.getStatus=Gi.prototype.W,Gi.prototype.getResponseJson=Gi.prototype.Qa,Gi.prototype.getResponseText=Gi.prototype.$,Gi.prototype.send=Gi.prototype.ba;var Fs=Lr,Ms=Fr,Vs=kr,Us=Rs,Bs=Vr,qs=Gi,zs=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();zs.o=-1;var Hs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ws=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(se.c)(e,t),e}(Error),Gs=new je.b("@firebase/firestore");function $s(){return Gs.logLevel}function Ks(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gs.logLevel<=je.a.DEBUG){var r=e.map(Ys);Gs.debug.apply(Gs,Object(se.f)(["Firestore (8.6.5): "+t],r))}}function Xs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gs.logLevel<=je.a.ERROR){var r=e.map(Ys);Gs.error.apply(Gs,Object(se.f)(["Firestore (8.6.5): "+t],r))}}function Qs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gs.logLevel<=je.a.WARN){var r=e.map(Ys);Gs.warn.apply(Gs,Object(se.f)(["Firestore (8.6.5): "+t],r))}}function Ys(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Ym){return t}}function Zs(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.5) INTERNAL ASSERTION FAILED: "+t;throw Xs(e),new Error(e)}function Js(t,e){t||Zs()}function to(t,e){return t}function eo(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var no=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=eo(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ro(t,e){return t<e?-1:t>e?1:0}function io(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function so(t){return t+"\0"}var oo=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ws(Hs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ws(Hs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ws(Hs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ws(Hs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?ro(this.nanoseconds,t.nanoseconds):ro(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ao=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new oo(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function co(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uo(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lo(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ho=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Zs(),void 0===n?n=t.length-e:n>t.length-e&&Zs(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(se.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(ho),po=/^[_a-zA-Z][_a-zA-Z0-9]*$/,mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(se.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return po.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Ws(Hs.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Ws(Hs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ws(Hs.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(ho),go=function(){function t(t){this.fields=t,t.sort(mo.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return io(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),yo=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return ro(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();yo.EMPTY_BYTE_STRING=new yo("");var bo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(t){if(Js(!!t),"string"==typeof t){var e=0,n=bo.exec(t);if(Js(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:_o(t.seconds),nanos:_o(t.nanos)}}function _o(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function wo(t){return"string"==typeof t?yo.fromBase64String(t):yo.fromUint8Array(t)}function Eo(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function So(t){var e=t.mapValue.fields.__previous_value__;return Eo(e)?So(e):e}function Co(t){var e=vo(t.mapValue.fields.__local_write_time__.timestampValue);return new oo(e.seconds,e.nanos)}function Oo(t){return null==t}function xo(t){return 0===t&&1/t==-1/0}function ko(t){return"number"==typeof t&&Number.isInteger(t)&&!xo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var To=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(fo.fromString(e))},t.fromName=function(e){return new t(fo.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===fo.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return fo.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new fo(e.slice()))},t}();function Io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Eo(t)?4:10:Zs()}function Ao(t,e){var n=Io(t);if(n!==Io(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Co(t).isEqual(Co(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=vo(t.timestampValue),r=vo(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return wo(t.bytesValue).isEqual(wo(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return _o(t.geoPointValue.latitude)===_o(e.geoPointValue.latitude)&&_o(t.geoPointValue.longitude)===_o(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return _o(t.integerValue)===_o(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=_o(t.doubleValue),r=_o(e.doubleValue);return n===r?xo(n)===xo(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return io(t.arrayValue.values||[],e.arrayValue.values||[],Ao);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(co(n)!==co(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ao(n[i],r[i])))return!1;return!0}(t,e);default:return Zs()}}function Ro(t,e){return void 0!==(t.values||[]).find(function(t){return Ao(t,e)})}function Do(t,e){var n=Io(t),r=Io(e);if(n!==r)return ro(n,r);switch(n){case 0:return 0;case 1:return ro(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=_o(t.integerValue||t.doubleValue),r=_o(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return jo(t.timestampValue,e.timestampValue);case 4:return jo(Co(t),Co(e));case 5:return ro(t.stringValue,e.stringValue);case 6:return function(t,e){var n=wo(t),r=wo(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=ro(n[i],r[i]);if(0!==s)return s}return ro(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ro(_o(t.latitude),_o(e.latitude));return 0!==n?n:ro(_o(t.longitude),_o(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Do(n[i],r[i]);if(s)return s}return ro(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=ro(r[o],s[o]);if(0!==a)return a;var c=Do(n[r[o]],i[s[o]]);if(0!==c)return c}return ro(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Zs()}}function jo(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ro(t,e);var n=vo(t),r=vo(e),i=ro(n.seconds,r.seconds);return 0!==i?i:ro(n.nanos,r.nanos)}function Po(t){return No(t)}function No(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=vo(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?wo(t.bytesValue).toBase64():"referenceValue"in t?To.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=No(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+No(t.fields[s])}return e+"}"}(t.mapValue):Zs();var e}function Lo(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Fo(t){return!!t&&"integerValue"in t}function Mo(t){return!!t&&"arrayValue"in t}function Vo(t){return!!t&&"nullValue"in t}function Uo(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bo(t){return!!t&&"mapValue"in t}function qo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},vo(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return uo(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=qo(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=qo(t.arrayValue.values[r]);return n}return Object.assign({},t)}var zo=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Bo(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=qo(e)},t.prototype.setAll=function(t){var e=this,n=mo.emptyPath(),r={},i=[];t.forEach(function(t,s){if(!n.isImmediateParentOf(s)){var o=e.getFieldsMap(n);e.applyChanges(o,r,i),r={},i=[],n=s.popLast()}t?r[s.lastSegment()]=qo(t):i.push(s.lastSegment())});var s=this.getFieldsMap(n);this.applyChanges(s,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Bo(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Ao(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Bo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){uo(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(qo(this.value))},t}();function Ho(t){var e=[];return uo(t.fields,function(t,n){var r=new mo([t]);if(Bo(n)){var i=Ho(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new go(e)}var Wo=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,ao.min(),zo.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,zo.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,zo.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=zo.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=zo.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Go=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function $o(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Go(t,e,n,r,i,s,o)}function Ko(t){var e=to(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Po(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Oo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=aa(e.startAt)),e.endAt&&(n+="|ub:",n+=aa(e.endAt)),e.h=n}return e.h}function Xo(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ua(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Ao(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ha(t.startAt,e.startAt)&&ha(t.endAt,e.endAt)}function Qo(t){return To.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Yo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(se.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Zo(t,n,r):"array-contains"===n?new na(t,r):"in"===n?new ra(t,r):"not-in"===n?new ia(t,r):"array-contains-any"===n?new sa(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Jo(t,n):new ta(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Do(e,this.value)):null!==e&&Io(this.value)===Io(e)&&this.m(Do(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Zs()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Zo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=To.fromName(r.referenceValue),i}return Object(se.c)(e,t),e.prototype.matches=function(t){var e=To.comparator(t.key,this.key);return this.m(e)},e}(Yo),Jo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ea(0,n),r}return Object(se.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Yo),ta=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ea(0,n),r}return Object(se.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Yo);function ea(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return To.fromName(t.referenceValue)})}var na=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(se.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Mo(e)&&Ro(e.arrayValue,this.value)},e}(Yo),ra=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(se.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Ro(this.value.arrayValue,e)},e}(Yo),ia=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(se.c)(e,t),e.prototype.matches=function(t){if(Ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Ro(this.value.arrayValue,e)},e}(Yo),sa=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(se.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Mo(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Ro(e.value.arrayValue,t)})},e}(Yo),oa=function(t,e){this.position=t,this.before=e};function aa(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Po(t)}).join(",")}var ca=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ua(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function la(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?To.comparator(To.fromName(o.referenceValue),n.key):Do(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ha(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ao(t.position[n],e.position[n]))return!1;return!0}var da=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function fa(t,e,n,r,i,s,o,a){return new da(t,e,n,r,i,s,o,a)}function pa(t){return new da(t)}function ma(t){return!Oo(t.limit)&&"F"===t.limitType}function ga(t){return!Oo(t.limit)&&"L"===t.limitType}function ya(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ba(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function va(t){return null!==t.collectionGroup}function _a(t){var e=to(t);if(null===e.p){e.p=[];var n=ba(e),r=ya(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new ca(n)),e.p.push(new ca(mo.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new ca(mo.keyField(),c))}}}return e.p}function wa(t){var e=to(t);if(!e.T)if("F"===e.limitType)e.T=$o(e.path,e.collectionGroup,_a(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=_a(e);r<i.length;r++){var s=i[r];n.push(new ca(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new oa(e.endAt.position,!e.endAt.before):null,a=e.startAt?new oa(e.startAt.position,!e.startAt.before):null;e.T=$o(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function Ea(t,e,n){return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sa(t,e){return Xo(wa(t),wa(e))&&t.limitType===e.limitType}function Ca(t){return Ko(wa(t))+"|lt:"+t.limitType}function Oa(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Po(e.value);var e}).join(", ")+"]"),Oo(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+aa(t.startAt)),t.endAt&&(e+=", endAt: "+aa(t.endAt)),"Target("+e+")"}(wa(t))+"; limitType="+t.limitType+")"}function xa(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):To.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!la(t.startAt,_a(t),e)||t.endAt&&la(t.endAt,_a(t),e))}(t,e)}function ka(t){return function(e,n){for(var r=!1,i=0,s=_a(t);i<s.length;i++){var o=s[i],a=Ta(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function Ta(t,e,n){var r=t.field.isKeyField()?To.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Do(r,i):Zs()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Zs()}}function Ia(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xo(e)?"-0":e}}function Aa(t){return{integerValue:""+t}}function Ra(t,e){return ko(e)?Aa(e):Ia(t,e)}var Da=function(){this._=void 0};function ja(t,e,n){return t instanceof La?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Fa?Ma(t,e):t instanceof Va?Ua(t,e):function(t,e){var n=Na(t,e),r=qa(n)+qa(t.A);return Fo(n)&&Fo(t.A)?Aa(r):Ia(t.R,r)}(t,e)}function Pa(t,e,n){return t instanceof Fa?Ma(t,e):t instanceof Va?Ua(t,e):n}function Na(t,e){return t instanceof Ba?Fo(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var La=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(se.c)(e,t),e}(Da),Fa=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(se.c)(e,t),e}(Da);function Ma(t,e){for(var n=za(e),r=function(t){n.some(function(e){return Ao(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Va=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(se.c)(e,t),e}(Da);function Ua(t,e){for(var n=za(e),r=function(t){n=n.filter(function(e){return!Ao(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ba=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(se.c)(e,t),e}(Da);function qa(t){return _o(t.integerValue||t.doubleValue)}function za(t){return Mo(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ha=function(t,e){this.field=t,this.transform=e},Wa=function(t,e){this.version=t,this.transformResults=e},Ga=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function $a(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Ka=function(){};function Xa(t,e,n){t instanceof tc?function(t,e,n){var r=t.value.clone(),i=rc(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof ec?function(t,e,n){if($a(t.precondition,e)){var r=rc(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(nc(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Qa(t,e,n){t instanceof tc?function(t,e,n){if($a(t.precondition,e)){var r=t.value.clone(),i=ic(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Ja(e),r).setHasLocalMutations()}}(t,e,n):t instanceof ec?function(t,e,n){if($a(t.precondition,e)){var r=ic(t.fieldTransforms,n,e),i=e.data;i.setAll(nc(t)),i.setAll(r),e.convertToFoundDocument(Ja(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){$a(t.precondition,e)&&e.convertToNoDocument(ao.min())}(t,e)}function Ya(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=Na(s.transform,o||null);null!=a&&(null==n&&(n=zo.empty()),n.set(s.field,a))}return n||null}function Za(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&io(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Fa&&e instanceof Fa||t instanceof Va&&e instanceof Va?io(t.elements,e.elements,Ao):t instanceof Ba&&e instanceof Ba?Ao(t.A,e.A):t instanceof La&&e instanceof La}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Ja(t){return t.isFoundDocument()?t.version:ao.min()}var tc=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(se.c)(e,t),e}(Ka),ec=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(se.c)(e,t),e}(Ka);function nc(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function rc(t,e,n){var r=new Map;Js(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Pa(o,a,n[i]))}return r}function ic(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,c=n.data.field(o.field);r.set(o.field,ja(a,c,e))}return r}var sc,oc,ac=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(se.c)(e,t),e}(Ka),cc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(se.c)(e,t),e}(Ka),uc=function(t){this.count=t};function lc(t){switch(t){case Hs.OK:return Zs();case Hs.CANCELLED:case Hs.UNKNOWN:case Hs.DEADLINE_EXCEEDED:case Hs.RESOURCE_EXHAUSTED:case Hs.INTERNAL:case Hs.UNAVAILABLE:case Hs.UNAUTHENTICATED:return!1;case Hs.INVALID_ARGUMENT:case Hs.NOT_FOUND:case Hs.ALREADY_EXISTS:case Hs.PERMISSION_DENIED:case Hs.FAILED_PRECONDITION:case Hs.ABORTED:case Hs.OUT_OF_RANGE:case Hs.UNIMPLEMENTED:case Hs.DATA_LOSS:return!0;default:return Zs()}}function hc(t){if(void 0===t)return Xs("GRPC error has no .code"),Hs.UNKNOWN;switch(t){case sc.OK:return Hs.OK;case sc.CANCELLED:return Hs.CANCELLED;case sc.UNKNOWN:return Hs.UNKNOWN;case sc.DEADLINE_EXCEEDED:return Hs.DEADLINE_EXCEEDED;case sc.RESOURCE_EXHAUSTED:return Hs.RESOURCE_EXHAUSTED;case sc.INTERNAL:return Hs.INTERNAL;case sc.UNAVAILABLE:return Hs.UNAVAILABLE;case sc.UNAUTHENTICATED:return Hs.UNAUTHENTICATED;case sc.INVALID_ARGUMENT:return Hs.INVALID_ARGUMENT;case sc.NOT_FOUND:return Hs.NOT_FOUND;case sc.ALREADY_EXISTS:return Hs.ALREADY_EXISTS;case sc.PERMISSION_DENIED:return Hs.PERMISSION_DENIED;case sc.FAILED_PRECONDITION:return Hs.FAILED_PRECONDITION;case sc.ABORTED:return Hs.ABORTED;case sc.OUT_OF_RANGE:return Hs.OUT_OF_RANGE;case sc.UNIMPLEMENTED:return Hs.UNIMPLEMENTED;case sc.DATA_LOSS:return Hs.DATA_LOSS;default:return Zs()}}(oc=sc||(sc={}))[oc.OK=0]="OK",oc[oc.CANCELLED=1]="CANCELLED",oc[oc.UNKNOWN=2]="UNKNOWN",oc[oc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oc[oc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oc[oc.NOT_FOUND=5]="NOT_FOUND",oc[oc.ALREADY_EXISTS=6]="ALREADY_EXISTS",oc[oc.PERMISSION_DENIED=7]="PERMISSION_DENIED",oc[oc.UNAUTHENTICATED=16]="UNAUTHENTICATED",oc[oc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oc[oc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oc[oc.ABORTED=10]="ABORTED",oc[oc.OUT_OF_RANGE=11]="OUT_OF_RANGE",oc[oc.UNIMPLEMENTED=12]="UNIMPLEMENTED",oc[oc.INTERNAL=13]="INTERNAL",oc[oc.UNAVAILABLE=14]="UNAVAILABLE",oc[oc.DATA_LOSS=15]="DATA_LOSS";var dc=function(){function t(t,e){this.comparator=t,this.root=e||pc.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pc.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pc.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new fc(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new fc(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new fc(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new fc(this.root,t,this.comparator,!0)},t}(),fc=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),pc=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Zs();if(this.right.isRed())throw Zs();var t=this.left.check();if(t!==this.right.check())throw Zs();return t+(this.isRed()?0:1)},t}();pc.EMPTY=null,pc.RED=!0,pc.BLACK=!1,pc.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Zs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Zs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Zs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Zs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Zs()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new pc(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var mc=function(){function t(t){this.comparator=t,this.data=new dc(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new gc(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new gc(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),gc=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),yc=new dc(To.comparator);function bc(){return yc}var vc=new dc(To.comparator);function _c(){return vc}var wc=new dc(To.comparator);function Ec(){return wc}var Sc=new mc(To.comparator);function Cc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Sc,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Oc=new mc(ro);function xc(){return Oc}var kc=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Tc.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(ao.min(),r,xc(),bc(),Cc())},t}(),Tc=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(yo.EMPTY_BYTE_STRING,n,Cc(),Cc(),Cc())},t}(),Ic=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Ac=function(t,e){this.targetId=t,this.V=e},Rc=function(t,e,n,r){void 0===n&&(n=yo.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Dc=function(){function t(){this.S=0,this.D=Nc(),this.C=yo.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Cc(),e=Cc(),n=Cc();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Zs()}}),new Tc(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Nc()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),jc=function(){function t(t){this.W=t,this.G=new Map,this.H=bc(),this.J=Pc(),this.Y=new mc(ro)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Zs()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Qo(i))if(0===n){var s=new To(i.path);this.tt(e,s,Wo.newNoDocument(s,ao.min()))}else Js(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&Qo(s.target)){var o=new To(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,Wo.newNoDocument(o,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Cc();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new kc(t,n,this.Y,this.H,r);return this.H=bc(),this.J=Pc(),this.Y=new mc(ro),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Dc,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new mc(ro),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Ks("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Dc),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Pc(){return new dc(To.comparator)}function Nc(){return new dc(To.comparator)}var Lc={asc:"ASCENDING",desc:"DESCENDING"},Fc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mc=function(t,e){this.databaseId=t,this.I=e};function Vc(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uc(t,e){return t.I?e.toBase64():e.toUint8Array()}function Bc(t,e){return Vc(t,e.toTimestamp())}function qc(t){return Js(!!t),ao.fromTimestamp(function(t){var e=vo(t);return new oo(e.seconds,e.nanos)}(t))}function zc(t,e){return function(t){return new fo(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Hc(t){var e=fo.fromString(t);return Js(pu(e)),e}function Wc(t,e){return zc(t.databaseId,e.path)}function Gc(t,e){var n=Hc(e);if(n.get(1)!==t.databaseId.projectId)throw new Ws(Hs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ws(Hs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new To(Qc(n))}function $c(t,e){return zc(t.databaseId,e)}function Kc(t){var e=Hc(t);return 4===e.length?fo.emptyPath():Qc(e)}function Xc(t){return new fo(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qc(t){return Js(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Yc(t,e,n){return{name:Wc(t,e),fields:n.value.mapValue.fields}}function Zc(t,e,n){var r=Gc(t,e.name),i=qc(e.updateTime),s=new zo({mapValue:{fields:e.fields}}),o=Wo.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Jc(t,e){var n;if(e instanceof tc)n={update:Yc(t,e.key,e.value)};else if(e instanceof ac)n={delete:Wc(t,e.key)};else if(e instanceof ec)n={update:Yc(t,e.key,e.data),updateMask:fu(e.fieldMask)};else{if(!(e instanceof cc))return Zs();n={verify:Wc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof La)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Fa)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Va)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ba)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Zs()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Bc(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Zs()}(t,e.precondition)),n}function tu(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ga.updateTime(qc(t.updateTime)):void 0!==t.exists?Ga.exists(t.exists):Ga.none()}(e.currentDocument):Ga.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Js("REQUEST_TIME"===e.setToServerValue),n=new La):"appendMissingElements"in e?n=new Fa(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Va(e.removeAllFromArray.values||[]):"increment"in e?n=new Ba(t,e.increment):Zs();var r=mo.fromServerFormat(e.fieldPath);return new Ha(r,n)}(t,e)}):[];if(e.update){var i=Gc(t,e.update.name),s=new zo({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new go((t.fieldPaths||[]).map(function(t){return mo.fromServerFormat(t)}))}(e.updateMask);return new ec(i,s,o,n,r)}return new tc(i,s,n,r)}if(e.delete){var a=Gc(t,e.delete);return new ac(a,n)}if(e.verify){var c=Gc(t,e.verify);return new cc(c,n)}return Zs()}function eu(t,e){return{documents:[$c(t,e.path)]}}function nu(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=$c(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$c(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Uo(t.value))return{unaryFilter:{field:uu(t.field),op:"IS_NAN"}};if(Vo(t.value))return{unaryFilter:{field:uu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Uo(t.value))return{unaryFilter:{field:uu(t.field),op:"IS_NOT_NAN"}};if(Vo(t.value))return{unaryFilter:{field:uu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uu(t.field),op:cu(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:uu(t.field),direction:au(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||Oo(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=su(e.startAt)),e.endAt&&(n.structuredQuery.endAt=su(e.endAt)),n}function ru(t){var e=Kc(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Js(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=iu(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new ca(lu(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return Oo(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=ou(n.startAt));var l=null;return n.endAt&&(l=ou(n.endAt)),fa(e,i,a,o,c,"F",u,l)}function iu(t){return t?void 0!==t.unaryFilter?[du(t)]:void 0!==t.fieldFilter?[hu(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return iu(t)}).reduce(function(t,e){return t.concat(e)}):Zs():[]}function su(t){return{before:t.before,values:t.position}}function ou(t){return new oa(t.values||[],!!t.before)}function au(t){return Lc[t]}function cu(t){return Fc[t]}function uu(t){return{fieldPath:t.canonicalString()}}function lu(t){return mo.fromServerFormat(t.fieldPath)}function hu(t){return Yo.create(lu(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Zs()}}(t.fieldFilter.op),t.fieldFilter.value)}function du(t){switch(t.unaryFilter.op){case"IS_NAN":var e=lu(t.unaryFilter.field);return Yo.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=lu(t.unaryFilter.field);return Yo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=lu(t.unaryFilter.field);return Yo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=lu(t.unaryFilter.field);return Yo.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Zs()}}function fu(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function pu(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function mu(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=yu(e)),e=gu(t.get(n),e);return yu(e)}function gu(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function yu(t){return t+"\x01\x01"}function bu(t){var e=t.length;if(Js(e>=2),2===e)return Js("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),fo.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Zs(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Zs()}s=o+2}return new fo(r)}var vu=function(t,e){this.seconds=t,this.nanoseconds=e},_u=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};_u.store="owner",_u.key="owner";var wu=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};wu.store="mutationQueues",wu.keyPath="userId";var Eu=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Eu.store="mutations",Eu.keyPath="batchId",Eu.userMutationsIndex="userMutationsIndex",Eu.userMutationsKeyPath=["userId","batchId"];var Su=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,mu(e)]},t.key=function(t,e,n){return[t,mu(e),n]},t}();Su.store="documentMutations",Su.PLACEHOLDER=new Su;var Cu=function(t,e){this.path=t,this.readTime=e},Ou=function(t,e){this.path=t,this.version=e},xu=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};xu.store="remoteDocuments",xu.readTimeIndex="readTimeIndex",xu.readTimeIndexPath="readTime",xu.collectionReadTimeIndex="collectionReadTimeIndex",xu.collectionReadTimeIndexPath=["parentPath","readTime"];var ku=function(t){this.byteSize=t};ku.store="remoteDocumentGlobal",ku.key="remoteDocumentGlobalKey";var Tu=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Tu.store="targets",Tu.keyPath="targetId",Tu.queryTargetsIndexName="queryTargetsIndex",Tu.queryTargetsKeyPath=["canonicalId","targetId"];var Iu=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Iu.store="targetDocuments",Iu.keyPath=["targetId","path"],Iu.documentTargetsIndex="documentTargetsIndex",Iu.documentTargetsKeyPath=["path","targetId"];var Au=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Au.key="targetGlobalKey",Au.store="targetGlobal";var Ru=function(t,e){this.collectionId=t,this.parent=e};Ru.store="collectionParents",Ru.keyPath=["collectionId","parent"];var Du=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Du.store="clientMetadata",Du.keyPath="clientId";var ju=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ju.store="bundles",ju.keyPath="bundleId";var Pu=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Pu.store="namedQueries",Pu.keyPath="name";var Nu=Object(se.f)(Object(se.f)([],Object(se.f)(Object(se.f)([],Object(se.f)(Object(se.f)([],Object(se.f)(Object(se.f)([],[wu.store,Eu.store,Su.store,xu.store,Tu.store,_u.store,Au.store,Iu.store]),[Du.store])),[ku.store])),[Ru.store])),[ju.store,Pu.store]),Lu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Fu=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Mu=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Vu=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Zs(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Uu=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Mu,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new zu(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Ku(e.target.error);n.ft.reject(new zu(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new zu(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Ks("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Wu(e)},t}(),Bu=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(De.j)())&&Xs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ks("SimpleDb","Removing database:",t),Gu(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(De.j)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(se.b)(this,void 0,void 0,function(){var e,n=this;return Object(se.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Ks("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new zu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Ws(Hs.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new zu(t,n))},i.onupgradeneeded=function(t){Ks("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Ks("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(se.b)(this,void 0,void 0,function(){var i,s,o,a,c;return Object(se.d)(this,function(u){switch(u.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,c,u,l;return Object(se.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Uu.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Vu.reject(t)}).toPromise(),c={},o.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(h.sent(),o),c)];case 4:return Ks("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}})},a=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),qu=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Gu(this.Pt.delete())},t}(),zu=function(t){function e(e,n){var r=this;return(r=t.call(this,Hs.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(se.c)(e,t),e}(Ws);function Hu(t){return"IndexedDbTransactionError"===t.name}var Wu=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ks("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ks("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Gu(n)},t.prototype.add=function(t){return Ks("SimpleDb","ADD",this.store.name,t,t),Gu(this.store.add(t))},t.prototype.get=function(t){var e=this;return Gu(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Ks("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Ks("SimpleDb","DELETE",this.store.name,t),Gu(this.store.delete(t))},t.prototype.count=function(){return Ks("SimpleDb","COUNT",this.store.name),Gu(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Ks("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Vu(function(n,r){e.onerror=function(t){var e=Ku(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Vu(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new qu(i),o=e(i.primaryKey,i.value,s);if(o instanceof Vu){var a=o.catch(function(t){return s.done(),Vu.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return Vu.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Gu(t){return new Vu(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Ku(t.target.error);n(e)}})}var $u=!1;function Ku(t){var e=Bu._t(Object(De.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ws("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return $u||($u=!0,setTimeout(function(){throw r},0)),r}}return t}var Xu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(se.c)(e,t),e}(Fu);function Qu(t,e){var n=to(t);return Bu.It(n.Mt,e)}var Yu=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Xa(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&Qa(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&Qa(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ao.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Cc())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&io(this.mutations,t.mutations,function(t,e){return Za(t,e)})&&io(this.baseMutations,t.baseMutations,function(t,e){return Za(t,e)})},t}(),Zu=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Js(e.mutations.length===r.length);for(var i=Ec(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Ju=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=ao.min()),void 0===s&&(s=ao.min()),void 0===o&&(o=yo.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),tl=function(t){this.Lt=t};function el(t,e){if(e.document)return Zc(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=To.fromSegments(e.noDocument.path),r=ol(e.noDocument.readTime),i=Wo.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=To.fromSegments(e.unknownDocument.path);return r=ol(e.unknownDocument.version),Wo.newUnknownDocument(s,r)}return Zs()}function nl(t,e,n){var r=rl(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:Wc(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Vc(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new xu(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),c=sl(e.version);return o=e.hasCommittedMutations,new xu(null,new Cu(a,c),null,o,r,i)}if(e.isUnknownDocument()){var u=e.key.path.toArray(),l=sl(e.version);return new xu(new Ou(u,l),null,null,!0,r,i)}return Zs()}function rl(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function il(t){var e=new oo(t[0],t[1]);return ao.fromTimestamp(e)}function sl(t){var e=t.toTimestamp();return new vu(e.seconds,e.nanoseconds)}function ol(t){var e=new oo(t.seconds,t.nanoseconds);return ao.fromTimestamp(e)}function al(t,e){for(var n=(e.baseMutations||[]).map(function(e){return tu(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return tu(t.Lt,e)}),s=oo.fromMillis(e.localWriteTimeMs);return new Yu(e.batchId,s,n,i)}function cl(t){var e,n,r=ol(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?ol(t.lastLimboFreeSnapshotVersion):ao.min();return void 0!==t.query.documents?(Js(1===(n=t.query).documents.length),e=wa(pa(Kc(n.documents[0])))):e=function(t){return wa(ru(t))}(t.query),new Ju(e,t.targetId,0,t.lastListenSequenceNumber,r,i,yo.fromBase64String(t.resumeToken))}function ul(t,e){var n,r=sl(e.snapshotVersion),i=sl(e.lastLimboFreeSnapshotVersion);n=Qo(e.target)?eu(t.Lt,e.target):nu(t.Lt,e.target);var s=e.resumeToken.toBase64();return new Tu(e.targetId,Ko(e.target),r,s,e.sequenceNumber,i,n)}function ll(t){var e=ru({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ea(e,e.limit,"L"):e}var hl=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return dl(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:ol(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return dl(t).put({bundleId:(n=e).id,createTime:sl(qc(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return fl(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:ll(e.bundledQuery),readTime:ol(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return fl(t).put(function(t){return{name:t.name,readTime:sl(qc(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function dl(t){return Qu(t,ju.store)}function fl(t){return Qu(t,Pu.store)}var pl=function(){function t(){this.Bt=new ml}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Vu.resolve()},t.prototype.getCollectionParents=function(t,e){return Vu.resolve(this.Bt.getEntries(e))},t}(),ml=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new mc(fo.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new mc(fo.comparator)).toArray()},t}(),gl=function(){function t(){this.qt=new ml}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:mu(i)};return yl(t).put(s)}return Vu.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[so(e),""],!1,!0);return yl(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(bu(s.parent))}return n})},t}();function yl(t){return Qu(t,Ru.store)}var bl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vl=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function _l(t,e,n){var r=t.store(Eu.store),i=t.store(Su.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.$t({range:o},function(t,e,n){return a++,n.delete()});s.push(c.next(function(){Js(1===a)}));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Su.key(e,d.key.path,n.batchId);s.push(i.delete(f)),u.push(d.key)}return Vu.waitFor(s).next(function(){return u})}function wl(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Zs();e=t.noDocument}return JSON.stringify(e).length}vl.DEFAULT_COLLECTION_PERCENTILE=10,vl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vl.DEFAULT=new vl(41943040,vl.DEFAULT_COLLECTION_PERCENTILE,vl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vl.DISABLED=new vl(-1,0,0);var El=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Js(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cl(t).$t({index:Eu.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=Ol(t),o=Cl(t);return o.add({}).next(function(a){Js("number"==typeof a);for(var c=new Yu(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map(function(e){return Jc(t.Lt,e)}),i=n.mutations.map(function(e){return Jc(t.Lt,e)});return new Eu(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,c),l=[],h=new mc(function(t,e){return ro(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],m=Su.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(u)),l.push(s.put(m,Su.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=c.keys()}),Vu.waitFor(l).next(function(){return c})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Cl(t).get(e).next(function(t){return t?(Js(t.userId===n.userId),al(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Vu.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Cl(t).$t({index:Eu.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Js(e.batchId>=r),s=al(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Cl(t).$t({index:Eu.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cl(t).Nt(Eu.userMutationsIndex,n).next(function(t){return t.map(function(t){return al(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Su.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Ol(t).$t({range:i},function(r,i,o){var a=r[0],c=r[2],u=bu(r[1]);if(a===n.userId&&e.path.isEqual(u))return Cl(t).get(c).next(function(t){if(!t)throw Zs();Js(t.userId===n.userId),s.push(al(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new mc(ro),i=[];return e.forEach(function(e){var s=Su.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Ol(t).$t({range:o},function(t,i,s){var o=t[0],a=t[2],c=bu(t[1]);o===n.userId&&e.path.isEqual(c)?r=r.add(a):s.done()});i.push(a)}),Vu.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=Su.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new mc(ro);return Ol(t).$t({range:o},function(t,e,s){var o=t[0],c=t[2],u=bu(t[1]);o===n.userId&&r.isPrefixOf(u)?u.length===i&&(a=a.add(c)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Cl(t).get(e).next(function(t){if(null===t)throw Zs();Js(t.userId===n.userId),r.push(al(n.R,t))}))}),Vu.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return _l(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Vu.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Vu.resolve();var r=IDBKeyRange.lowerBound(Su.prefixForUser(e.userId)),i=[];return Ol(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var s=bu(t[1]);i.push(s)}else r.done()}).next(function(){Js(0===i.length)})})},t.prototype.containsKey=function(t,e){return Sl(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return xl(t).get(this.userId).next(function(t){return t||new wu(e.userId,-1,"")})},t}();function Sl(t,e,n){var r=Su.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Ol(t).$t({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Cl(t){return Qu(t,Eu.store)}function Ol(t){return Qu(t,Su.store)}function xl(t){return Qu(t,wu.store)}var kl=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Tl=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new kl(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return ao.fromTimestamp(new oo(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Il(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Js(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return Il(t).$t(function(o,a){var c=cl(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,s.push(r.removeTargetData(t,c)))}).next(function(){return Vu.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Il(t).$t(function(t,n){var r=cl(n);e(r)})},t.prototype.Xt=function(t){return Al(t).get(Au.key).next(function(t){return Js(null!==t),t})},t.prototype.Zt=function(t,e){return Al(t).put(Au.key,e)},t.prototype.te=function(t,e){return Il(t).put(ul(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Ko(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Il(t).$t({range:r,index:Tu.queryTargetsIndexName},function(t,n,r){var s=cl(n);Xo(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=Rl(t);return e.forEach(function(e){var o=mu(e.path);i.push(s.put(new Iu(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),Vu.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Rl(t);return Vu.forEach(e,function(e){var s=mu(e.path);return Vu.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Rl(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Rl(t),i=Cc();return r.$t({range:n,kt:!0},function(t,e,n){var r=bu(t[1]),s=new To(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=mu(e.path),r=IDBKeyRange.bound([n],[so(n)],!1,!0),i=0;return Rl(t).$t({index:Iu.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Il(t).get(e).next(function(t){return t?cl(t):null})},t}();function Il(t){return Qu(t,Tu.store)}function Al(t){return Qu(t,Au.store)}function Rl(t){return Qu(t,Iu.store)}function Dl(t){return Object(se.b)(this,void 0,void 0,function(){return Object(se.d)(this,function(e){if(t.code!==Hs.FAILED_PRECONDITION||t.message!==Lu)throw t;return Ks("LocalStore","Unexpectedly lost primary lease"),[2]})})}function jl(t,e){var n=t[1],r=e[1],i=ro(t[0],e[0]);return 0===i?ro(n,r):i}var Pl=function(){function t(t){this.ne=t,this.buffer=new mc(jl),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();jl(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Nl=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Ks("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(se.b)(e,void 0,void 0,function(){var e;return Object(se.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Hu(e=n.sent())?(Ks("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Dl(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Ll=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Vu.resolve(zs.o);var r=new Pl(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ks("LruGarbageCollector","Garbage collection skipped; disabled"),Vu.resolve(bl)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Ks("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),bl):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,c,u=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>u.params.maximumSequenceNumbersToCollect?(Ks("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),r=u.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),u.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),u.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),u.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),$s()<=je.a.DEBUG&&Ks("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),Vu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Fl=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Ll(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Ml(t,n)},t.prototype.removeReference=function(t,e,n){return Ml(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Ml(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return xl(t).Ot(function(r){return Sl(t,r,e).next(function(t){return t&&(n=!0),Vu.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var c=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),Rl(t).delete([0,mu(o.path)])})});i.push(c)}}).next(function(){return Vu.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Ml(t,e)},t.prototype.we=function(t,e){var n,r=Rl(t),i=zs.o;return r.$t({index:Iu.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==zs.o&&e(new To(bu(n)),i),i=o,n=s):i=zs.o}).next(function(){i!==zs.o&&e(new To(bu(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Ml(t,e){return Rl(t).put(function(t,e){return new Iu(0,mu(t.path),e)}(e,t.currentSequenceNumber))}var Vl=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){uo(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return lo(this.inner)},t}(),Ul=function(){function t(){this.changes=new Vl(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:ao.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Wo.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Vu.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Bl=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Hl(t).put(Wl(e),n)},t.prototype.removeEntry=function(t,e){var n=Hl(t),r=Wl(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Hl(t).get(Wl(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Hl(t).get(Wl(e)).next(function(t){return{document:n.ye(e,t),size:wl(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=bc();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=bc(),i=new dc(To.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,wl(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Vu.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return Hl(t).$t({range:r},function(t,e,r){for(var o=To.fromSegments(t);s&&To.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=bc(),s=e.path.length+1,o={};if(n.isEqual(ao.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),u=rl(n);o.range=IDBKeyRange.lowerBound([c,u],!0),o.index=xu.collectionReadTimeIndex}return Hl(t).$t(o,function(t,n,o){if(t.length===s){var a=el(r.R,n);e.path.isPrefixOf(a.key.path)?xa(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new ql(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return zl(t).get(ku.key).next(function(t){return Js(!!t),t})},t.prototype.me=function(t,e){return zl(t).put(ku.key,e)},t.prototype.ye=function(t,e){if(e){var n=el(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(ao.min()))return n}return Wo.newInvalidDocument(t)},t}(),ql=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Vl(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(se.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new mc(function(t,e){return ro(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var c=nl(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var u=wl(c);r+=u-a,n.push(e.Ie.addEntry(t,s,c))}else if(r-=a,e.trackRemovals){var l=nl(e.Ie.R,Wo.newNoDocument(s,ao.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Vu.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Ul);function zl(t){return Qu(t,ku.store)}function Hl(t){return Qu(t,xu.store)}function Wl(t){return t.path.toArray()}var Gl=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Js(n<r&&n>=0&&r<=11);var s=new Uu("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(_u.store)}(t),function(t){t.createObjectStore(wu.store,{keyPath:wu.keyPath}),t.createObjectStore(Eu.store,{keyPath:Eu.keyPath,autoIncrement:!0}).createIndex(Eu.userMutationsIndex,Eu.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Su.store)}(t),$l(t),function(t){t.createObjectStore(xu.store)}(t));var o=Vu.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Iu.store),t.deleteObjectStore(Tu.store),t.deleteObjectStore(Au.store)}(t),$l(t)),o=o.next(function(){return function(t){var e=t.store(Au.store),n=new Au(0,0,ao.min().toTimestamp(),0);return e.put(Au.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Eu.store).Nt().next(function(n){t.deleteObjectStore(Eu.store),t.createObjectStore(Eu.store,{keyPath:Eu.keyPath,autoIncrement:!0}).createIndex(Eu.userMutationsIndex,Eu.userMutationsKeyPath,{unique:!0});var r=e.store(Eu.store),i=n.map(function(t){return r.put(t)});return Vu.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Du.store,{keyPath:Du.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(ku.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(xu.store);e.createIndex(xu.readTimeIndex,xu.readTimeIndexPath,{unique:!1}),e.createIndex(xu.collectionReadTimeIndex,xu.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(ju.store,{keyPath:ju.keyPath})}(t),function(t){t.createObjectStore(Pu.store,{keyPath:Pu.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(xu.store).$t(function(t,n){e+=wl(n)}).next(function(){var n=new ku(e);return t.store(ku.store).put(ku.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(wu.store),r=t.store(Eu.store);return n.Nt().next(function(n){return Vu.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Eu.userMutationsIndex,i).next(function(r){return Vu.forEach(r,function(r){Js(r.userId===n.userId);var i=al(e.R,r);return _l(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Iu.store),n=t.store(xu.store);return t.store(Au.store).get(Au.key).next(function(t){var r=[];return n.$t(function(n,i){var s=new fo(n),o=function(t){return[0,mu(t)]}(s);r.push(e.get(o).next(function(n){return n?Vu.resolve():function(n){return e.put(new Iu(0,mu(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Vu.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Ru.store,{keyPath:Ru.keyPath});var n=e.store(Ru.store),r=new ml,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:mu(i)})}};return e.store(xu.store).$t({kt:!0},function(t,e){var n=new fo(t);return i(n.popLast())}).next(function(){return e.store(Su.store).$t({kt:!0},function(t,e){var n=bu(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Tu.store);return n.$t(function(t,r){var i=cl(r),s=ul(e.R,i);return n.put(s)})},t}();function $l(t){t.createObjectStore(Iu.store,{keyPath:Iu.keyPath}).createIndex(Iu.documentTargetsIndex,Iu.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Tu.store,{keyPath:Tu.keyPath}).createIndex(Tu.queryTargetsIndexName,Tu.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Au.store)}var Kl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Xl=function(){function t(e,n,r,i,s,o,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=u,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Ws(Hs.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fl(this,i),this.Le=n+"main",this.R=new tl(c),this.Be=new Bu(this.Le,11,new Gl(this.R)),this.qe=new Tl(this.referenceDelegate,this.R),this.Ut=new gl,this.Ue=function(t,e){return new Bl(t,e)}(this.R,this.Ut),this.Qe=new hl,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Xs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ws(Hs.FAILED_PRECONDITION,Kl);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new zs(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(se.b)(e,void 0,void 0,function(){return Object(se.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(se.b)(e,void 0,void 0,function(){return Object(se.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(se.b)(e,void 0,void 0,function(){return Object(se.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Yl(e).put(new Du(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Hu(e))return Ks("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ks("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Ql(t).get(_u.key).next(function(t){return Vu.resolve(e.tn(t))})},t.prototype.en=function(t){return Yl(t).delete(this.clientId)},t.prototype.nn=function(){return Object(se.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(se.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Qu(t,Du.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Vu.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Vu.resolve(!0):Ql(t).get(_u.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Ws(Hs.FAILED_PRECONDITION,Kl);return!1}}return!(!e.networkEnabled||!e.inForeground)||Yl(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Ks("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(se.b)(this,void 0,void 0,function(){var t=this;return Object(se.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[_u.store,Du.store],function(e){var n=new Xu(e,zs.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Yl(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return El.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Ks("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Nu,function(s){return r=new Xu(s,i.Ne?i.Ne.next():zs.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Xs("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Ws(Hs.FAILED_PRECONDITION,Lu);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Ql(t).get(_u.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ws(Hs.FAILED_PRECONDITION,Kl)})},t.prototype.Ze=function(t){var e=new _u(this.clientId,this.allowTabSynchronization,Date.now());return Ql(t).put(_u.key,e)},t.yt=function(){return Bu.yt()},t.prototype.Xe=function(t){var e=this,n=Ql(t);return n.get(_u.key).next(function(t){return e.tn(t)?(Ks("IndexedDbPersistence","Releasing primary lease."),n.delete(_u.key)):Vu.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Xs("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Ks("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Xs("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Xs("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Ql(t){return Qu(t,_u.store)}function Yl(t){return Qu(t,Du.store)}function Zl(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Jl=function(t,e){this.progress=t,this.wn=e},th=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return To.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):va(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new To(e)).next(function(t){var e=_c();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=_c();return this.Ut.getCollectionParents(t,i).next(function(o){return Vu.forEach(o,function(o){var a=function(t,e){return new da(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],u=c.key,l=r.get(u);null==l&&(l=Wo.newInvalidDocument(u),r=r.insert(u,l)),Qa(c,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(u))}})}).next(function(){return r.forEach(function(t,n){xa(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Cc(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var c=a[o];c instanceof ec&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(u=u.insert(t,e))}),u})},t}(),eh=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Cc(),i=Cc(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),nh=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(ao.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(ma(e)||ga(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):($s()<=je.a.DEBUG&&Ks("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Oa(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new mc(ka(t));return e.forEach(function(e,r){xa(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return $s()<=je.a.DEBUG&&Ks("QueryEngine","Using full collection scan to execute query:",Oa(e)),this.Sn.getDocumentsMatchingQuery(t,e,ao.min())},t}(),rh=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new dc(ro),this.kn=new Vl(function(t){return Ko(t)},Xo),this.$n=ao.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new th(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function ih(t,e,n,r){return new rh(t,e,n,r)}function sh(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(se.d)(this,function(o){switch(o.label){case 0:return n=to(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new th(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=Cc(),a=0,c=s;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function oh(t,e){var n=to(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Vu.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);Js(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function ah(t){var e=to(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function ch(t,e){var n=to(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var c=e.resumeToken;if(c.approximateByteSize()>0){var u=a.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,u),function(t,e,n){return Js(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,e)&&o.push(n.qe.updateTargetData(t,u))}}});var a=bc();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(uh(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(ao.min())){var c=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(c)}return Vu.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function uh(t,e,n,r,i){var s=Cc();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=bc();return n.forEach(function(n,o){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(ao.min())?(e.removeEntry(n,c),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,c),s=s.insert(n,o)):Ks("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function lh(t,e){var n=to(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function hh(t,e){var n=to(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Vu.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Ju(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function dh(t,e,n){return Object(se.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(se.d)(this,function(a){switch(a.label){case 0:r=to(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Hu(o=a.sent()))throw o;return Ks("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function fh(t,e,n){var r=to(t),i=ao.min(),s=Cc();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=to(t),i=r.kn.get(n);return void 0!==i?Vu.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,wa(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:ao.min(),n?s:Cc())}).next(function(t){return{documents:t,Bn:s}})})}function ph(t,e){var n=to(t),r=to(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function mh(t){var e=to(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=to(t),i=bc(),s=rl(n),o=Hl(e),a=IDBKeyRange.lowerBound(s,!0);return o.$t({index:xu.readTimeIndex,range:a},function(t,e){var n=el(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:il(s)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function gh(t){return Object(se.b)(this,void 0,void 0,function(){var e;return Object(se.d)(this,function(n){return[2,(e=to(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Hl(t),n=ao.min();return e.$t({index:xu.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=il(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function yh(t,e,n,r){return Object(se.b)(this,void 0,void 0,function(){var i,s,o,a,c,u,l,h,d,f;return Object(se.d)(this,function(p){switch(p.label){case 0:for(i=to(t),s=Cc(),o=bc(),a=Ec(),c=0,u=n;c<u.length;c++)h=e.qn((l=u[c]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,hh(i,function(t){return wa(pa(fo.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return uh(t,d,o,ao.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,s,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function bh(t,e,n){return void 0===n&&(n=Cc()),Object(se.b)(this,void 0,void 0,function(){var r,i;return Object(se.d)(this,function(s){switch(s.label){case 0:return[4,hh(t,wa(ll(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=to(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=qc(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Qe.saveNamedQuery(t,e);var o=r.withResumeToken(yo.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var vh=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Vu.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:qc(n.createTime)}),Vu.resolve()},t.prototype.getNamedQuery=function(t,e){return Vu.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:ll(t.bundledQuery),readTime:qc(t.readTime)}}(e)),Vu.resolve()},t}(),_h=function(){function t(){this.Wn=new mc(wh.Gn),this.zn=new mc(wh.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new wh(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new wh(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new To(new fo([])),r=new wh(n,t),i=new wh(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new To(new fo([])),n=new wh(e,t),r=new wh(e,t+1),i=Cc();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new wh(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),wh=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return To.comparator(t.key,e.key)||ro(t.ns,e.ns)},t.Hn=function(t,e){return ro(t.ns,e.ns)||To.comparator(t.key,e.key)},t}(),Eh=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new mc(wh.Gn)}return t.prototype.checkEmpty=function(t){return Vu.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new Yu(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var c=a[o];this.rs=this.rs.add(new wh(c.key,i)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return Vu.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return Vu.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Vu.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Vu.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Vu.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new wh(e,0),i=new wh(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),Vu.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new mc(ro);return e.forEach(function(t){var e=new wh(t,0),i=new wh(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Vu.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;To.isDocumentKey(i)||(i=i.child(""));var s=new wh(new To(i),0),o=new mc(ro);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),Vu.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Js(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Vu.forEach(e.mutations,function(i){var s=new wh(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new wh(e,0),r=this.rs.firstAfterOrEqual(n);return Vu.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Vu.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Sh=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new dc(To.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Vu.resolve(n?n.document.clone():Wo.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=bc();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Wo.newInvalidDocument(t))}),Vu.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=bc(),i=new To(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,c=a.document,u=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;u.compareTo(n)<=0||xa(e,c)&&(r=r.insert(c.key,c.clone()))}return Vu.resolve(r)},t.prototype.fs=function(t,e){return Vu.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Ch(this)},t.prototype.getSize=function(t){return Vu.resolve(this.size)},t}(),Ch=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(se.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Vu.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Ul),Oh=function(){function t(t){this.persistence=t,this.ds=new Vl(function(t){return Ko(t)},Xo),this.lastRemoteSnapshotVersion=ao.min(),this.highestTargetId=0,this.ws=0,this._s=new _h,this.targetCount=0,this.ys=kl.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Vu.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Vu.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Vu.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Vu.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Vu.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new kl(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Vu.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Vu.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Vu.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Vu.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return Vu.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Vu.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Vu.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Vu.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Vu.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Vu.resolve(n)},t.prototype.containsKey=function(t,e){return Vu.resolve(this._s.containsKey(e))},t}(),xh=function(){function t(t,e){var n=this;this.gs={},this.Ne=new zs(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Oh(this),this.Ut=new pl,this.Ue=function(t,e){return new Sh(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new tl(e),this.Qe=new vh(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Eh(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Ks("MemoryPersistence","Starting transaction:",t);var i=new kh(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Vu.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),kh=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(se.c)(e,t),e}(Fu),Th=function(){function t(t){this.persistence=t,this.As=new _h,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Zs()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Vu.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Vu.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Vu.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vu.forEach(this.vs,function(r){var i=To.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Vu.or([function(){return Vu.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Ih=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Ah(t,e){return"firestore_clients_"+t+"_"+e}function Rh(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Dh(t,e){return"firestore_targets_"+t+"_"+e}Ih.UNAUTHENTICATED=new Ih(null),Ih.GOOGLE_CREDENTIALS=new Ih("google-credentials-uid"),Ih.FIRST_PARTY=new Ih("first-party-uid");var jh=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Ws(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(Xs("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ph=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ws(i.error.code,i.error.message)),s?new t(e,i.state,r):(Xs("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Nh=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=xc(),o=0;i&&o<r.activeTargetIds.length;++o)i=ko(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Xs("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Lh=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Xs("SharedClientState","Failed to parse online state: "+e),null)},t}(),Fh=function(){function t(){this.activeTargetIds=xc()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Mh=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new dc(ro),this.started=!1,this.$s=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Ah(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Fh),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(se.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,c,u,l=this;return Object(se.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Ah(this.persistenceKey,r)))&&(s=Nh.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),c=0,u=this.$s;c<u.length;c++)this.Fs(u[c]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Dh(this.persistenceKey,t));if(n){var r=Ph.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Dh(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ks("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ks("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ks("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ks("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Xs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(se.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(se.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=zs.o;if(null!=t)try{var n=JSON.parse(t);Js("number"==typeof n),e=n}catch(t){Xs("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==zs.o&&this.sequenceNumberHandler(o);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new jh(this.currentUser,t,e,n),i=Rh(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Rh(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Dh(this.persistenceKey,t),i=new Ph(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Nh.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return jh.Vs(new Ih(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Ph.Vs(r,e)},t.prototype.js=function(t){return Lh.Vs(t)},t.prototype.ii=function(t){return Object(se.b)(this,void 0,void 0,function(){return Object(se.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Ks("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=xc();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Vh=function(){function t(){this.li=new Fh,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Fh,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Uh=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Bh=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Ks("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Ks("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),qh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},zh=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Hh=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(se.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new qs;o.listenOnce(Ms.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Fs.NO_ERROR:var e=o.getResponseJson();Ks("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Fs.TIMEOUT:Ks("Connection",'RPC "'+t+'" timed out'),s(new Ws(Hs.DEADLINE_EXCEEDED,"Request time out"));break;case Fs.HTTP_ERROR:var n=o.getStatus();if(Ks("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Hs).indexOf(e)>=0?e:Hs.UNKNOWN}(r.status);s(new Ws(a,r.message))}else s(new Ws(Hs.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Ws(Hs.UNAVAILABLE,"Connection failed."));break;default:Zs()}}finally{Ks("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new xs,i=Ir(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Us({})),this.Fi(s.initMessageHeaders,e),Object(De.o)()||Object(De.q)()||Object(De.m)()||Object(De.n)()||Object(De.r)()||Object(De.l)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Ks("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),c=!1,u=!1,l=new zh({Ei:function(t){u?Ks("Connection","Not sending because WebChannel is closed:",t):(c||(Ks("Connection","Opening WebChannel transport."),a.open(),c=!0),Ks("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Bs.EventType.OPEN,function(){u||Ks("Connection","WebChannel transport opened.")}),h(a,Bs.EventType.CLOSE,function(){u||(u=!0,Ks("Connection","WebChannel transport closed"),l.Vi())}),h(a,Bs.EventType.ERROR,function(t){u||(u=!0,Qs("Connection","WebChannel transport errored:",t),l.Vi(new Ws(Hs.UNAVAILABLE,"The operation could not be completed")))}),h(a,Bs.EventType.MESSAGE,function(t){var e;if(!u){var n=t.data[0];Js(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ks("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=sc[t];if(void 0!==e)return hc(e)}(i),o=r.message;void 0===s&&(s=Hs.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),u=!0,l.Vi(new Ws(s,o)),a.close()}else Ks("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Vs.STAT_EVENT,function(t){10===t.stat?Ks("Connection","Detected buffering proxy"):11===t.stat&&Ks("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Ks("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return Ks("RestConnection","Received: ",t),t},function(e){throw Qs("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.5",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+qh[t]},t}());function Wh(){return"undefined"!=typeof window?window:null}function Gh(){return"undefined"!=typeof document?document:null}function $h(t){return new Mc(t,!0)}var Kh=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Ks("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Xh=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Kh(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(se.b)(this,void 0,void 0,function(){return Object(se.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(se.b)(this,void 0,void 0,function(){return Object(se.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(se.b)(this,void 0,void 0,function(){return Object(se.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Hs.RESOURCE_EXHAUSTED?(Xs(e.toString()),Xs("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Hs.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Ws(Hs.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(se.b)(t,void 0,void 0,function(){return Object(se.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Ks("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Ks("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Qh=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(se.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Zs()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(Js(void 0===e||"string"==typeof e),yo.fromBase64String(e||"")):(Js(void 0===e||e instanceof Uint8Array),yo.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Hs.UNKNOWN:hc(t.code);return new Ws(e,t.message||"")}(a);n=new Rc(r,i,s,o||null)}else if("documentChange"in e){i=Gc(t,(r=e.documentChange).document.name),s=qc(r.document.updateTime);var a=new zo({mapValue:{fields:r.document.fields}}),c=(o=Wo.newFoundDocument(i,s,a),r.targetIds||[]);n=new Ic(c,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Gc(t,(r=e.documentDelete).document),s=r.readTime?qc(r.readTime):ao.min(),a=Wo.newNoDocument(i,s),n=new Ic([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Gc(t,(r=e.documentRemove).document),n=new Ic([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Zs();var u=e.filter;i=new uc(r=u.count||0),n=new Ac(s=u.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return ao.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ao.min():e.readTime?qc(e.readTime):ao.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Xc(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Qo(r)?{documents:eu(t,r)}:{query:nu(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Uc(t,e.resumeToken):e.snapshotVersion.compareTo(ao.min())>0&&(n.readTime=Vc(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zs()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Xc(this.R),e.removeTarget=t,this.cr(e)},e}(Xh),Yh=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(se.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Js(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Js(void 0!==e),t.map(function(t){return function(t,e){var n=qc(t.updateTime?t.updateTime:e);return n.isEqual(ao.min())&&(n=qc(e)),new Wa(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=qc(t.commitTime);return this.listener.Tr(n,e)}return Js(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Xc(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Jc(e.R,t)})};this.cr(n)},e}(Xh),Zh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(se.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Ws(Hs.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Hs.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ws(Hs.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Hs.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ws(Hs.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Jh=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Xs(e),this.Vr=!1):Ks("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),td=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(se.b)(s,void 0,void 0,function(){return Object(se.d)(this,function(t){switch(t.label){case 0:return ud(this)?(Ks("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(se.b)(this,void 0,void 0,function(){var e;return Object(se.d)(this,function(n){switch(n.label){case 0:return(e=to(t)).Or.add(4),[4,nd(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,ed(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Jh(n,r)};function ed(t){return Object(se.b)(this,void 0,void 0,function(){var e,n;return Object(se.d)(this,function(r){switch(r.label){case 0:if(!ud(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function nd(t){return Object(se.b)(this,void 0,void 0,function(){var e,n;return Object(se.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function rd(t,e){var n=to(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),cd(n)?ad(n):Cd(n).er()&&sd(n,e))}function id(t,e){var n=to(t),r=Cd(n);n.$r.delete(e),r.er()&&od(n,e),0===n.$r.size&&(r.er()?r.ir():ud(n)&&n.Br.set("Unknown"))}function sd(t,e){t.qr.U(e.targetId),Cd(t).mr(e)}function od(t,e){t.qr.U(e),Cd(t).yr(e)}function ad(t){t.qr=new jc({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Cd(t).start(),t.Br.Sr()}function cd(t){return ud(t)&&!Cd(t).tr()&&t.$r.size>0}function ud(t){return 0===to(t).Or.size}function ld(t){t.qr=void 0}function hd(t){return Object(se.b)(this,void 0,void 0,function(){return Object(se.d)(this,function(e){return t.$r.forEach(function(e,n){sd(t,e)}),[2]})})}function dd(t,e){return Object(se.b)(this,void 0,void 0,function(){return Object(se.d)(this,function(n){return ld(t),cd(t)?(t.Br.Nr(e),ad(t)):t.Br.set("Unknown"),[2]})})}function fd(t,e,n){return Object(se.b)(this,void 0,void 0,function(){var r,i,s;return Object(se.d)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof Rc&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(se.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.$r.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.$r.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Ks("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,pd(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ic?t.qr.X(e):e instanceof Ac?t.qr.rt(e):t.qr.et(e),n.isEqual(ao.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,ah(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(yo.EMPTY_BYTE_STRING,n.snapshotVersion)),od(t,e);var r=new Ju(n.target,e,1,n.sequenceNumber);sd(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Ks("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,pd(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function pd(t,e,n){return Object(se.b)(this,void 0,void 0,function(){var r=this;return Object(se.d)(this,function(i){switch(i.label){case 0:if(!Hu(e))throw e;return t.Or.add(1),[4,nd(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return ah(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(se.b)(r,void 0,void 0,function(){return Object(se.d)(this,function(e){switch(e.label){case 0:return Ks("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,ed(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function md(t,e){return e().catch(function(n){return pd(t,n,e)})}function gd(t){return Object(se.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(se.d)(this,function(o){switch(o.label){case 0:e=to(t),n=Od(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return ud(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,lh(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Od(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,pd(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return yd(e)&&bd(e),[2]}})})}function yd(t){return ud(t)&&!Od(t).tr()&&t.kr.length>0}function bd(t){Od(t).start()}function vd(t){return Object(se.b)(this,void 0,void 0,function(){return Object(se.d)(this,function(e){return Od(t).Ar(),[2]})})}function _d(t){return Object(se.b)(this,void 0,void 0,function(){var e,n,r;return Object(se.d)(this,function(i){for(e=Od(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function wd(t,e,n){return Object(se.b)(this,void 0,void 0,function(){var r,i;return Object(se.d)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=Zu.from(r,e,n),[4,md(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,gd(t)];case 2:return s.sent(),[2]}})})}function Ed(t,e){return Object(se.b)(this,void 0,void 0,function(){return Object(se.d)(this,function(n){switch(n.label){case 0:return e&&Od(t).pr?[4,function(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r;return Object(se.d)(this,function(i){switch(i.label){case 0:return lc(r=e.code)&&r!==Hs.ABORTED?(n=t.kr.shift(),Od(t).sr(),[4,md(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,gd(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return yd(t)&&bd(t),[2]}})})}function Sd(t,e){return Object(se.b)(this,void 0,void 0,function(){var n;return Object(se.d)(this,function(r){switch(r.label){case 0:return n=to(t),e?(n.Or.delete(2),[4,ed(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,nd(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Cd(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=to(t);return r.br(),new Qh(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:hd.bind(null,t),Ri:dd.bind(null,t),_r:fd.bind(null,t)}),t.Mr.push(function(n){return Object(se.b)(e,void 0,void 0,function(){return Object(se.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),cd(t)?ad(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),ld(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Od(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=to(t);return r.br(),new Yh(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:vd.bind(null,t),Ri:Ed.bind(null,t),Ir:_d.bind(null,t),Tr:wd.bind(null,t)}),t.Mr.push(function(n){return Object(se.b)(e,void 0,void 0,function(){return Object(se.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,gd(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Ks("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var xd=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Mu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ws(Hs.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function kd(t,e){if(Xs("AsyncQueue",e+": "+t),Hu(t))return new Ws(Hs.UNAVAILABLE,e+": "+t);throw t}var Td=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||To.comparator(e.key,n.key)}:function(t,e){return To.comparator(t.key,e.key)},this.keyedMap=_c(),this.sortedSet=new dc(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Id=function(){function t(){this.Kr=new dc(To.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Zs():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Ad=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Td.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sa(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Rd=function(){this.Wr=void 0,this.listeners=[]},Dd=function(){this.queries=new Vl(function(t){return Ca(t)},Sa),this.onlineState="Unknown",this.Gr=new Set};function jd(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(se.d)(this,function(u){switch(u.label){case 0:if(n=to(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Rd),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=u.sent(),[3,4];case 3:return a=u.sent(),c=kd(a,"Initialization of query '"+Oa(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&Fd(n),[2]}})})}function Pd(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(se.d)(this,function(a){return n=to(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Nd(t,e){for(var n=to(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Hr(o)&&(r=!0);a.Wr=o}}r&&Fd(n)}function Ld(t,e,n){var r=to(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Fd(t){t.Gr.forEach(function(t){t.next()})}var Md=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ad(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Ad.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Vd=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Ud=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Gc(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Zc(this.R,t.document,!1):Wo.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return qc(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Ud(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,c=s.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||Cc()).add(o);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(se.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(se.d)(this,function(s){switch(s.label){case 0:return[4,yh(this.localStore,new Ud(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,bh(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Jl(Object.assign({},this.progress),t))]}})})}}();var Bd=function(t){this.key=t},qd=function(t){this.key=t},zd=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Cc(),this.mutatedKeys=Cc(),this.lo=ka(t),this.fo=new Td(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Id,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=ma(this.query)&&i.size===this.query.limit?i.last():null,u=ga(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=xa(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.lo(h,c)>0||u&&n.lo(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),ma(this.query)||ga(this.query))for(;o.size>this.query.limit;){var l=ma(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zs()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,c=a!==this.ao;return this.ao=a,0!==s.length||c?{snapshot:new Ad(this.query,t.fo,i,s,t.mutatedKeys,0===a,c,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Id,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Cc(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new qd(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Bd(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Cc();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Ad.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Hd=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Wd=function(t){this.key=t,this.bo=!1},Gd=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new Vl(function(t){return Ca(t)},Sa),this.Vo=new Map,this.So=new Set,this.Do=new dc(To.comparator),this.Co=new Map,this.No=new _h,this.xo={},this.Fo=new Map,this.ko=kl.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function $d(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(se.d)(this,function(a){switch(a.label){case 0:return n=Sf(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,hh(n.localStore,wa(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,Kd(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&rd(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function Kd(t,e,n,r){return Object(se.b)(this,void 0,void 0,function(){var i,s,o,a,c,u;return Object(se.d)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(se.b)(this,void 0,void 0,function(){var i,s,o;return Object(se.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,fh(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(cf(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,fh(t.localStore,e,!0)];case 1:return i=l.sent(),s=new zd(e,i.Bn),o=s._o(i.documents),a=Tc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=s.applyChanges(o,t.isPrimaryClient,a),cf(t,n,c.To),u=new Hd(e,n,s),[2,(t.Po.set(e,u),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function Xd(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r,i;return Object(se.d)(this,function(s){switch(s.label){case 0:return n=to(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Sa(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,dh(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),id(n.remoteStore,r.targetId),of(n,r.targetId)}).catch(Dl)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return of(n,r.targetId),[4,dh(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Qd(t,e,n){return Object(se.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(se.d)(this,function(a){switch(a.label){case 0:r=Cf(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=to(t),i=oo.now(),s=e.reduce(function(t,e){return t.add(e.key)},Cc());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var u=c[a],l=Ya(u,n.get(u.key));null!=l&&o.push(new ec(u.key,l,Ho(l.value.mapValue),Ga.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new dc(ro)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,hf(r,i.changes)];case 3:return a.sent(),[4,gd(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=kd(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function Yd(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r;return Object(se.d)(this,function(i){switch(i.label){case 0:n=to(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ch(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Js(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Js(r.bo):t.removedDocuments.size>0&&(Js(r.bo),r.bo=!1))}),[4,hf(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Dl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Zd(t,e,n){var r=to(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=to(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&Fd(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Jd(t,e,n){return Object(se.b)(this,void 0,void 0,function(){var r,i,s,o,a,c;return Object(se.d)(this,function(u){switch(u.label){case 0:return(r=to(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new dc(To.comparator)).insert(s,Wo.newNoDocument(s,ao.min())),a=Cc().add(s),c=new kc(ao.min(),new Map,new mc(ro),o,a),[4,Yd(r,c)]):[3,2];case 1:return u.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),lf(r),[3,4];case 2:return[4,dh(r.localStore,e,!1).then(function(){return of(r,e,n)}).catch(Dl)];case 3:u.sent(),u.label=4;case 4:return[2]}})})}function tf(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r,i;return Object(se.d)(this,function(s){switch(s.label){case 0:n=to(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,oh(n.localStore,e)];case 2:return i=s.sent(),sf(n,r,null),rf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,hf(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Dl(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function ef(t,e,n){return Object(se.b)(this,void 0,void 0,function(){var r,i;return Object(se.d)(this,function(s){switch(s.label){case 0:r=to(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=to(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Js(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),sf(r,e,n),rf(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,hf(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Dl(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function nf(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(se.d)(this,function(a){switch(a.label){case 0:ud((n=to(t)).remoteStore)||Ks("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=to(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=kd(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function rf(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function sf(t,e,n){var r=to(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function of(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||af(t,e)})}function af(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(id(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),lf(t))}function cf(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Bd?(t.No.addReference(s.key,e),uf(t,s)):s instanceof qd?(Ks("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||af(t,s.key)):Zs()}}function uf(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Ks("SyncEngine","New document in limbo: "+n),t.So.add(r),lf(t))}function lf(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new To(fo.fromString(e)),r=t.ko.next();t.Co.set(r,new Wd(n)),t.Do=t.Do.insert(n,r),rd(t.remoteStore,new Ju(wa(pa(n.path)),r,2,zs.o))}}function hf(t,e,n){return Object(se.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(se.d)(this,function(a){switch(a.label){case 0:return r=to(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=eh.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u;return Object(se.d)(this,function(l){switch(l.label){case 0:n=to(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Vu.forEach(e,function(e){return Vu.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Vu.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Hu(r=l.sent()))throw r;return Ks("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(c=n.Fn.get(a),u=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.Fn=n.Fn.insert(a,u));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function df(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r;return Object(se.d)(this,function(i){switch(i.label){case 0:return(n=to(t)).currentUser.isEqual(e)?[3,3]:(Ks("SyncEngine","User change. New user:",e.toKey()),[4,sh(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Ws(Hs.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,hf(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function ff(t,e){var n=to(t),r=n.Co.get(e);if(r&&r.bo)return Cc().add(r.key);var i=Cc(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var c=n.Po.get(a[o]);i=i.unionWith(c.view.wo)}return i}function pf(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r,i;return Object(se.d)(this,function(s){switch(s.label){case 0:return[4,fh((n=to(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&cf(n,e.targetId,i.To),i)]}})})}function mf(t){return Object(se.b)(this,void 0,void 0,function(){var e;return Object(se.d)(this,function(n){return[2,mh((e=to(t)).localStore).then(function(t){return hf(e,t)})]})})}function gf(t,e,n,r){return Object(se.b)(this,void 0,void 0,function(){var i,s;return Object(se.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=to(t),r=to(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Vu.resolve(null)})})}((i=to(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,gd(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(sf(i,e,r||null),rf(i,e),function(t,e){to(to(t)._n).Gt(e)}(i.localStore,e)):Zs(),o.label=4;case 4:return[4,hf(i,s)];case 5:return o.sent(),[3,7];case 6:Ks("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function yf(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(se.d)(this,function(u){switch(u.label){case 0:return Sf(n=to(t)),Cf(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,bf(n,r.toArray())]);case 1:return i=u.sent(),n.$o=!0,[4,Sd(n.remoteStore,!0)];case 2:for(u.sent(),s=0,o=i;s<o.length;s++)rd(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],c=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):c=c.then(function(){return of(n,e),dh(n.localStore,e,!0)}),id(n.remoteStore,e)}),[4,c]);case 4:return u.sent(),[4,bf(n,a)];case 5:return u.sent(),function(t){var e=to(t);e.Co.forEach(function(t,n){id(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new dc(To.comparator)}(n),n.$o=!1,[4,Sd(n.remoteStore,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}})})}function bf(t,e,n){return Object(se.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u,l,h,d,f,p;return Object(se.d)(this,function(m){switch(m.label){case 0:n=to(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(c=void 0,(u=n.Vo.get(a=o[s]))&&0!==u.length?[4,hh(n.localStore,wa(u[0]))]:[3,7]):[3,13];case 2:c=m.sent(),l=0,h=u,m.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,pf(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,ph(n.localStore,a)];case 8:return p=m.sent(),[4,hh(n.localStore,p)];case 9:return c=m.sent(),[4,Kd(n,vf(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(c),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function vf(t){return fa(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function _f(t){var e=to(t);return to(to(e.localStore).persistence).fn()}function wf(t,e,n,r){return Object(se.b)(this,void 0,void 0,function(){var i,s,o;return Object(se.d)(this,function(a){switch(a.label){case 0:return(i=to(t)).$o?(Ks("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,mh(i.localStore)];case 3:return s=a.sent(),o=kc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,hf(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,dh(i.localStore,e,!0)];case 6:return a.sent(),of(i,e,r),[3,8];case 7:Zs(),a.label=8;case 8:return[2]}})})}function Ef(t,e,n){return Object(se.b)(this,void 0,void 0,function(){var r,i,s,o,a,c,u,l,h;return Object(se.d)(this,function(d){switch(d.label){case 0:if(!(r=Sf(t)).$o)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(Ks("SyncEngine","Adding an already active target "+o),[3,5]):[4,ph(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,hh(r.localStore,a)];case 3:return c=d.sent(),[4,Kd(r,vf(a),c.targetId,!1)];case 4:d.sent(),rd(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object(se.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,dh(r.localStore,t,!1).then(function(){id(r.remoteStore,t),of(r,t)}).catch(Dl)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Sf(t){var e=to(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ff.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jd.bind(null,e),e.vo._r=Nd.bind(null,e.eventManager),e.vo.Mo=Ld.bind(null,e.eventManager),e}function Cf(t){var e=to(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ef.bind(null,e),e}var Of=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(se.b)(this,void 0,void 0,function(){return Object(se.d)(this,function(e){switch(e.label){case 0:return this.R=$h(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return ih(this.persistence,new nh,t.initialUser,this.R)},t.prototype.qo=function(t){return new xh(Th.bs,this.R)},t.prototype.Bo=function(t){return new Vh},t.prototype.terminate=function(){return Object(se.b)(this,void 0,void 0,function(){return Object(se.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),xf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(se.c)(e,t),e.prototype.initialize=function(e){return Object(se.b)(this,void 0,void 0,function(){return Object(se.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,gh(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Cf(this.Ko.syncEngine)];case 4:return n.sent(),[4,gd(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return ih(this.persistence,new nh,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Nl(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Zl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?vl.withCacheSize(this.cacheSizeBytes):vl.DEFAULT;return new Xl(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Wh(),Gh(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Vh},e}(Of),kf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(se.c)(e,t),e.prototype.initialize=function(e){return Object(se.b)(this,void 0,void 0,function(){var n,r=this;return Object(se.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Mh?(this.sharedClientState.syncEngine={ui:gf.bind(null,n),ai:wf.bind(null,n),hi:Ef.bind(null,n),fn:_f.bind(null,n),ci:mf.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(se.b)(r,void 0,void 0,function(){return Object(se.d)(this,function(e){switch(e.label){case 0:return[4,yf(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Wh();if(!Mh.yt(e))throw new Ws(Hs.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Zl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Mh(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(xf),Tf=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(se.b)(this,void 0,void 0,function(){var n=this;return Object(se.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Zd(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=df.bind(null,this.syncEngine),[4,Sd(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Dd},t.prototype.createDatastore=function(t){var e=$h(t.databaseInfo.databaseId),n=new Hh(t.databaseInfo);return function(t,e,n){return new Zh(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Zd(o.syncEngine,t,0)},s=Bh.yt()?new Bh:new Uh,new td(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new Gd(t,e,n,r,i,s);return o&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(se.b)(this,void 0,void 0,function(){var e;return Object(se.d)(this,function(n){switch(n.label){case 0:return e=to(t),Ks("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,nd(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),If=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Af=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Mu,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(se.b)(this,void 0,void 0,function(){return Object(se.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(se.b)(this,void 0,void 0,function(){return Object(se.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(se.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(se.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Vd(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(se.b)(this,void 0,void 0,function(){var t,e;return Object(se.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(se.b)(this,void 0,void 0,function(){var e;return Object(se.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(se.b)(this,void 0,void 0,function(){var t,e;return Object(se.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(se.b)(this,void 0,void 0,function(){var e,n=this;return Object(se.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ws(Hs.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(se.d)(this,function(c){switch(c.label){case 0:return n=to(t),r=Xc(n.R)+"/documents",i={documents:e.map(function(t){return Wc(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return s=c.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Js(!!e.found);var n=Gc(t,e.found.name),r=qc(e.found.updateTime),i=new zo({mapValue:{fields:e.found.fields}});return Wo.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Js(!!e.missing),Js(!!e.readTime);var n=Gc(t,e.missing),r=qc(e.readTime);return Wo.newNoDocument(n,r)}(t,e):Zs()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Js(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new ac(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(se.b)(this,void 0,void 0,function(){var t,e=this;return Object(se.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=To.fromPath(n);e.mutations.push(new cc(r,e.precondition(r)))}),[4,function(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r,i;return Object(se.d)(this,function(s){switch(s.label){case 0:return n=to(t),r=Xc(n.R)+"/documents",i={writes:e.map(function(t){return Jc(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Zs();e=ao.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ws(Hs.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ga.updateTime(e):Ga.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ao.min()))throw new Ws(Hs.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ga.updateTime(e)}return Ga.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Rf=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Kh(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(se.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(se.d)(this,function(r){return t=new Af(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Oo(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!lc(e)}return!1},t}(),Df=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Ih.UNAUTHENTICATED,this.clientId=no.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(se.b)(r,void 0,void 0,function(){return Object(se.d)(this,function(e){switch(e.label){case 0:return Ks("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(se.b)(this,void 0,void 0,function(){return Object(se.d)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ws(Hs.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Mu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(se.b)(t,void 0,void 0,function(){var t,n;return Object(se.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=kd(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function jf(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(se.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Ks("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(se.b)(i,void 0,void 0,function(){return Object(se.d)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,sh(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Pf(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r;return Object(se.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Nf(t)];case 1:return n=i.sent(),Ks("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r;return Object(se.d)(this,function(i){switch(i.label){case 0:return(n=to(t)).asyncQueue.verifyOperationInProgress(),Ks("RemoteStore","RemoteStore received new credentials"),r=ud(n),n.Or.add(3),[4,nd(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,ed(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Nf(t){return Object(se.b)(this,void 0,void 0,function(){return Object(se.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Ks("FirestoreClient","Using default OfflineComponentProvider"),[4,jf(t,new Of)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Lf(t){return Object(se.b)(this,void 0,void 0,function(){return Object(se.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Ks("FirestoreClient","Using default OnlineComponentProvider"),[4,Pf(t,new Tf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Ff(t){return Nf(t).then(function(t){return t.persistence})}function Mf(t){return Nf(t).then(function(t){return t.localStore})}function Vf(t){return Lf(t).then(function(t){return t.remoteStore})}function Uf(t){return Lf(t).then(function(t){return t.syncEngine})}function Bf(t){return Object(se.b)(this,void 0,void 0,function(){var e,n;return Object(se.d)(this,function(r){switch(r.label){case 0:return[4,Lf(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=$d.bind(null,e.syncEngine),n.onUnlisten=Xd.bind(null,e.syncEngine),n)]}})})}function qf(t,e,n){var r=this;void 0===n&&(n={});var i=new Mu;return t.asyncQueue.enqueueAndForget(function(){return Object(se.b)(r,void 0,void 0,function(){var r;return Object(se.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new If({next:function(s){e.enqueueAndForget(function(){return Pd(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Ws(Hs.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Ws(Hs.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Md(pa(n.path),s,{includeMetadataChanges:!0,so:!0});return jd(t,o)},[4,Bf(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function zf(t,e,n){var r=this;void 0===n&&(n={});var i=new Mu;return t.asyncQueue.enqueueAndForget(function(){return Object(se.b)(r,void 0,void 0,function(){var r;return Object(se.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new If({next:function(n){e.enqueueAndForget(function(){return Pd(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Ws(Hs.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Md(n,s,{includeMetadataChanges:!0,so:!0});return jd(t,o)},[4,Bf(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Hf=function(t,e,n,r,i,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a},Wf=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Gf=new Map,$f=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Kf=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Ih.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Xf=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Qf=function(){function t(t){var e=this;this.currentUser=Ih.UNAUTHENTICATED,this.oc=new Mu,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.uc=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.ac=function(){e.cc++,e.currentUser=e.hc(),e.oc.resolve(),e.uc&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){Ks("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.lc(),e.auth.addAuthTokenListener(e.ac)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):e.uc&&(Ks("FirebaseCredentialsProvider","Auth not yet detected"),e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)}))}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Ks("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Js("string"==typeof n.accessToken),new $f(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){this.uc=!0,this.asyncQueue=t,this.changeListener=e},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.ac),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return Js(null===t||"string"==typeof t),new Ih(t)},t.prototype.lc=function(){var t=this;this.uc&&(this.uc=!1,this.asyncQueue.enqueueRetryable(function(){return Object(se.b)(t,void 0,void 0,function(){return Object(se.d)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.uc=!0,[2]}})})}))},t}(),Yf=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type="FirstParty",this.user=Ih.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t["X-Goog-Iam-Authorization-Token"]=this.wc),t},enumerable:!1,configurable:!0}),t}(),Zf=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n}return t.prototype.getToken=function(){return Promise.resolve(new Yf(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Ih.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Jf(t,e,n){if(!n)throw new Ws(Hs.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function tp(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ep(t,e,n,r){if(!0===e&&!0===r)throw new Ws(Hs.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function np(t){if(!To.isDocumentKey(t))throw new Ws(Hs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function rp(t){if(To.isDocumentKey(t))throw new Ws(Hs.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ip(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Zs()}function sp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ws(Hs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ip(t);throw new Ws(Hs.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function op(t,e){if(e<=0)throw new Ws(Hs.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var ap=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ws(Hs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ws(Hs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ep("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),cp=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ap({}),this._settingsFrozen=!1,t instanceof Wf?(this._databaseId=t,this._credentials=new Kf):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ws(Hs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wf(t.options.projectId)}(t),this._credentials=new Qf(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Ws(Hs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Ws(Hs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ap(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Kf;switch(t.type){case"gapi":var e=t.client;return Js(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Zf(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ws(Hs.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Gf.get(this))&&(Ks("ComponentProvider","Removing Datastore"),Gf.delete(this),t.terminate()),Promise.resolve();var t},t}(),up=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new hp(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),lp=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),hp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,pa(r))||this)._path=r,i.type="collection",i}return Object(se.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new up(this.firestore,null,new To(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(lp);function dp(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(De.i)(t),Jf("collection","path",e),t instanceof cp)return rp(n=fo.fromString.apply(fo,Object(se.f)([e],r))),new hp(t,null,n);if(!(t instanceof up||t instanceof hp))throw new Ws(Hs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return rp(n=fo.fromString.apply(fo,Object(se.f)([t.path],r)).child(fo.fromString(e))),new hp(t.firestore,null,n)}function fp(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(De.i)(t),1===arguments.length&&(e=no.u()),Jf("doc","path",e),t instanceof cp)return np(n=fo.fromString.apply(fo,Object(se.f)([e],r))),new up(t,null,new To(n));if(!(t instanceof up||t instanceof hp))throw new Ws(Hs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return np(n=t._path.child(fo.fromString.apply(fo,Object(se.f)([e],r)))),new up(t.firestore,t instanceof hp?t.converter:null,new To(n))}function pp(t,e){return t=Object(De.i)(t),e=Object(De.i)(e),(t instanceof up||t instanceof hp)&&(e instanceof up||e instanceof hp)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function mp(t,e){return t=Object(De.i)(t),e=Object(De.i)(e),t instanceof lp&&e instanceof lp&&t.firestore===e.firestore&&Sa(t._query,e._query)&&t.converter===e.converter}var gp=function(){function t(){var t=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new Kh(this,"async_queue_retry"),this.Ac=function(){var e=Gh();e&&Ks("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Gh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var t=Gh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise(function(t){}):this.bc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.mc.push(t),e.vc()})},t.prototype.vc=function(){return Object(se.b)(this,void 0,void 0,function(){var t,e=this;return Object(se.d)(this,function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!Hu(t=n.sent()))throw t;return Ks("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.mc.length>0&&this.Zi.ji(function(){return e.vc()}),n.label=5;case 5:return[2]}})})},t.prototype.bc=function(t){var e=this,n=this._c.then(function(){return e.Tc=!0,t().catch(function(t){throw e.Ec=t,e.Tc=!1,Xs("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Tc=!1,t})});return this._c=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Rc(),this.Ic.indexOf(t)>-1&&(e=0);var i=xd.createAndSchedule(this,t,e,n,function(t){return r.Pc(t)});return this.gc.push(i),i},t.prototype.Rc=function(){this.Ec&&Zs()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return Object(se.b)(this,void 0,void 0,function(){var t;return Object(se.d)(this,function(e){switch(e.label){case 0:return[4,t=this._c];case 1:e.sent(),e.label=2;case 2:if(t!==this._c)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Dc=function(t){var e=this;return this.Vc().then(function(){e.gc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Vc()})},t.prototype.Cc=function(t){this.Ic.push(t)},t.prototype.Pc=function(t){var e=this.gc.indexOf(t);this.gc.splice(e,1)},t}();function yp(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Mu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var bp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new gp,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(se.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||_p(this),this._firestoreClient.terminate()},e}(cp);function vp(t){return t._firestoreClient||_p(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function _p(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Hf(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Df(t._credentials,t._queue,r)}function wp(t,e,n){var r=this,i=new Mu;return t.asyncQueue.enqueue(function(){return Object(se.b)(r,void 0,void 0,function(){var r;return Object(se.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,jf(t,n)];case 1:return s.sent(),[4,Pf(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Hs.FAILED_PRECONDITION||t.code===Hs.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Ep(t){if(t._initialized||t._terminated)throw new Ws(Hs.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Sp=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mo(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Cp=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(yo.fromBase64String(e))}catch(e){throw new Ws(Hs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(yo.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Op=function(t){this._methodName=t},xp=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ws(Hs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ws(Hs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return ro(this._lat,t._lat)||ro(this._long,t._long)},t}(),kp=/^__.*__$/,Tp=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new ec(t,this.data,this.fieldMask,e,this.fieldTransforms):new tc(t,this.data,e,this.fieldTransforms)},t}(),Ip=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new ec(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Ap(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zs()}}var Rp=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Oc(t),r},t.prototype.Mc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Nc(),r},t.prototype.Lc=function(t){return this.Fc({path:void 0,$c:!0})},t.prototype.Bc=function(t){return Yp(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Oc(this.path.get(t))},t.prototype.Oc=function(t){if(0===t.length)throw this.Bc("Document fields must not be empty");if(Ap(this.xc)&&kp.test(t))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),Dp=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||$h(t)}return t.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new Rp({xc:t,methodName:e,Uc:n,path:mo.emptyPath(),$c:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function jp(t){var e=t._freezeSettings(),n=$h(t._databaseId);return new Dp(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pp(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Qc(s.merge||s.mergeFields?2:0,e,n,i);$p("Data must be an object, but it was:",o,r);var a,c,u=Wp(r,o);if(s.merge)a=new go(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=Kp(e,d[h],n);if(!o.contains(f))throw new Ws(Hs.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Zp(l,f)||l.push(f)}a=new go(l),c=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,c=o.fieldTransforms;return new Tp(new zo(u),a,c)}var Np=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(se.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.xc)throw t.Bc(1===t.xc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Op);function Lp(t,e,n){return new Rp({xc:3,Uc:e.settings.Uc,methodName:t._methodName,$c:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Fp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(se.c)(e,t),e.prototype._toFieldTransform=function(t){return new Ha(t.path,new La)},e.prototype.isEqual=function(t){return t instanceof e},e}(Op),Mp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(se.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Lp(this,t,!0),n=this.Kc.map(function(t){return Hp(t,e)}),r=new Fa(n);return new Ha(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Op),Vp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(se.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Lp(this,t,!0),n=this.Kc.map(function(t){return Hp(t,e)}),r=new Va(n);return new Ha(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Op),Up=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(se.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Ba(t.R,Ra(t.R,this.jc));return new Ha(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Op);function Bp(t,e,n,r){var i=t.Qc(1,e,n);$p("Data must be an object, but it was:",i,r);var s=[],o=zo.empty();uo(r,function(t,r){var a=Qp(e,t,n);r=Object(De.i)(r);var c=i.Mc(a);if(r instanceof Np)s.push(a);else{var u=Hp(r,c);null!=u&&(s.push(a),o.set(a,u))}});var a=new go(s);return new Ip(o,a,i.fieldTransforms)}function qp(t,e,n,r,i,s){var o=t.Qc(1,e,n),a=[Kp(e,r,n)],c=[i];if(s.length%2!=0)throw new Ws(Hs.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<s.length;u+=2)a.push(Kp(e,s[u])),c.push(s[u+1]);for(var l=[],h=zo.empty(),d=a.length-1;d>=0;--d)if(!Zp(l,a[d])){var f=a[d],p=c[d];p=Object(De.i)(p);var m=o.Mc(f);if(p instanceof Np)l.push(f);else{var g=Hp(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new go(l);return new Ip(h,y,o.fieldTransforms)}function zp(t,e,n,r){return void 0===r&&(r=!1),Hp(n,t.Qc(r?4:3,e))}function Hp(t,e){if(Gp(t=Object(De.i)(t)))return $p("Unsupported field value:",e,t),Wp(t,e);if(t instanceof Op)return function(t,e){if(!Ap(e.xc))throw e.Bc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Bc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.$c&&4!==e.xc)throw e.Bc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Hp(s[i],e.Lc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(De.i)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ra(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=oo.fromDate(t);return{timestampValue:Vc(e.R,n)}}if(t instanceof oo)return n=new oo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Vc(e.R,n)};if(t instanceof xp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Cp)return{bytesValue:Uc(e.R,t._byteString)};if(t instanceof up){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:zc(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc("Unsupported field value: "+ip(t))}(t,e)}function Wp(t,e){var n={};return lo(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uo(t,function(t,r){var i=Hp(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Gp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof oo||t instanceof xp||t instanceof Cp||t instanceof up||t instanceof Op)}function $p(t,e,n){if(!Gp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=ip(n);throw e.Bc("an object"===r?t+" a custom object":t+" "+r)}}function Kp(t,e,n){if((e=Object(De.i)(e))instanceof Sp)return e._internalPath;if("string"==typeof e)return Qp(t,e);throw Yp("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Xp=new RegExp("[~\\*/\\[\\]]");function Qp(t,e,n){if(e.search(Xp)>=0)throw Yp("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Sp.bind.apply(Sp,Object(se.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Yp("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Yp(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+r),o&&(c+=" in document "+i),c+=")"),new Ws(Hs.INVALID_ARGUMENT,(a+=". ")+t+c)}function Zp(t,e){return t.some(function(t){return t.isEqual(e)})}var Jp=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new up(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new tm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(em("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),tm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(se.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Jp);function em(t,e){return"string"==typeof e?Qp(t,e):e instanceof Sp?e._internalPath:e._delegate._internalPath}var nm=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),rm=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(se.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new im(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(em("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Jp),im=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(se.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(rm),sm=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new nm(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new im(n._firestore,n._userDataWriter,r.key,r,new nm(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ws(Hs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new im(t._firestore,t._userDataWriter,e.doc.key,e.doc,new nm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new im(t._firestore,t._userDataWriter,e.doc.key,e.doc,new nm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:om(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function om(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zs()}}function am(t,e){return t instanceof rm&&e instanceof rm?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof sm&&e instanceof sm&&t._firestore===e._firestore&&mp(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function cm(t){if(ga(t)&&0===t.explicitOrderBy.length)throw new Ws(Hs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var um=function(){};function lm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var hm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wc=e,i.Gc=n,i.zc=r,i.type="where",i}return Object(se.c)(e,t),e.prototype._apply=function(t){var e=jp(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){bm(o,s);for(var c=[],u=0,l=o;u<l.length;u++)c.push(ym(r,t,l[u]));a={arrayValue:{values:c}}}else a=ym(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||bm(o,s),a=zp(n,"where",o,"in"===s||"not-in"===s);var h=Yo.create(i,s,a);return function(t,e){if(e.g()){var n=ba(t);if(null!==n&&!n.isEqual(e.field))throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ya(t);null!==r&&vm(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ws(Hs.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new lp(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(um),dm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wc=e,r.Hc=n,r.type="orderBy",r}return Object(se.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ca(e,n);return function(t,e){if(null===ya(t)){var n=ba(t);null!==n&&vm(0,n,e.field)}}(t,r),r}(t._query,this.Wc,this.Hc);return new lp(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new da(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(um),fm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(se.c)(e,t),e.prototype._apply=function(t){return new lp(t.firestore,t.converter,Ea(t._query,this.Jc,this.Yc))},e}(um),pm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(se.c)(e,t),e.prototype._apply=function(t){var e=gm(t,this.type,this.Xc,this.Zc);return new lp(t.firestore,t.converter,function(t,e){return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(um),mm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(se.c)(e,t),e.prototype._apply=function(t){var e=gm(t,this.type,this.Xc,this.Zc);return new lp(t.firestore,t.converter,function(t,e){return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(um);function gm(t,e,n,r){if(n[0]=Object(De.i)(n[0]),n[0]instanceof Jp)return function(t,e,n,r,i){if(!r)throw new Ws(Hs.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=_a(t);o<a.length;o++){var c=a[o];if(c.field.isKeyField())s.push(Lo(e,r.key));else{var u=r.data.field(c.field);if(Eo(u))throw new Ws(Hs.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.canonicalString();throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(u)}}return new oa(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=jp(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new Ws(Hs.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(o[c].field.isKeyField()){if("string"!=typeof u)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!va(t)&&-1!==u.indexOf("/"))throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(fo.fromString(u));if(!To.isDocumentKey(l))throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new To(l);a.push(Lo(e,h))}else{var d=zp(n,r,u);a.push(d)}}return new oa(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function ym(t,e,n){if("string"==typeof(n=Object(De.i)(n))){if(""===n)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!va(e)&&-1!==n.indexOf("/"))throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(fo.fromString(n));if(!To.isDocumentKey(r))throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Lo(t,new To(r))}if(n instanceof up)return Lo(t,n._key);throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ip(n)+".")}function bm(t,e){if(!Array.isArray(t)||0===t.length)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function vm(t,e,n){if(!n.isEqual(e))throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var _m=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Io(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _o(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(wo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Zs()}},t.prototype.convertObject=function(t,e){var n=this,r={};return uo(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new xp(_o(t.latitude),_o(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=So(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Co(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=vo(t);return new oo(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=fo.fromString(t);Js(pu(n));var r=new Wf(n.get(1),n.get(3)),i=new To(n.popFirst(5));return r.isEqual(e)||Xs("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function wm(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Em=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(se.c)(e,t),e.prototype.convertBytes=function(t){return new Cp(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new up(this.firestore,null,e)},e}(_m),Sm=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=jp(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Cm(t,this._firestore),i=wm(r.converter,e,n),s=Pp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Ga.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=Cm(t,this._firestore);return s="string"==typeof(e=Object(De.i)(e))||e instanceof Sp?qp(this._dataReader,"WriteBatch.update",o._key,e,n,r):Bp(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Ga.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Cm(t,this._firestore);return this._mutations=this._mutations.concat(new ac(e._key,Ga.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ws(Hs.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Cm(t,e){if((t=Object(De.i)(t)).firestore!==e)throw new Ws(Hs.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Om=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(se.c)(e,t),e.prototype.convertBytes=function(t){return new Cp(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new up(this.firestore,null,e)},e}(_m);function xm(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=sp(t,up);var s=sp(t.firestore,bp),o=jp(s);return Tm(s,[("string"==typeof(e=Object(De.i)(e))||e instanceof Sp?qp(o,"updateDoc",t._key,e,n,r):Bp(o,"updateDoc",t._key,e)).toMutation(t._key,Ga.exists(!0))])}function km(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(De.i)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||yp(i[a])||(o=i[a],a++);var c,u,l,h={includeMetadataChanges:o.includeMetadataChanges};if(yp(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof up)u=sp(t.firestore,bp),l=pa(t._key.path),c={next:function(e){i[a]&&i[a](Im(u,t,e))},error:i[a+1],complete:i[a+2]};else{var f=sp(t,lp);u=sp(f.firestore,bp),l=f._query;var p=new Om(u);c={next:function(t){i[a]&&i[a](new sm(u,p,f,t))},error:i[a+1],complete:i[a+2]},cm(t._query)}return function(t,e,n,r){var i=this,s=new If(r),o=new Md(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(se.b)(i,void 0,void 0,function(){var e;return Object(se.d)(this,function(n){switch(n.label){case 0:return e=jd,[4,Bf(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(se.b)(i,void 0,void 0,function(){var e;return Object(se.d)(this,function(n){switch(n.label){case 0:return e=Pd,[4,Bf(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(vp(u),l,h,c)}function Tm(t,e){return function(t,e){var n=this,r=new Mu;return t.asyncQueue.enqueueAndForget(function(){return Object(se.b)(n,void 0,void 0,function(){var n;return Object(se.d)(this,function(i){switch(i.label){case 0:return n=Qd,[4,Uf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(vp(t),e)}function Im(t,e,n){var r=n.docs.get(e._key),i=new Om(t);return new rm(t,i,e._key,r,new nm(n.hasPendingWrites,n.fromCache),e.converter)}var Am=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(se.c)(e,t),e.prototype.get=function(e){var n=this,r=Cm(e,this._firestore),i=new Om(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new rm(n._firestore,i,r._key,t._document,new nm(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=jp(t)}return t.prototype.get=function(t){var e=this,n=Cm(t,this._firestore),r=new Em(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Zs();var i=t[0];if(i.isFoundDocument())return new Jp(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Jp(e._firestore,r,n._key,null,n.converter);throw Zs()})},t.prototype.set=function(t,e,n){var r=Cm(t,this._firestore),i=wm(r.converter,e,n),s=Pp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Cm(t,this._firestore);return s="string"==typeof(e=Object(De.i)(e))||e instanceof Sp?qp(this._dataReader,"Transaction.update",o._key,e,n,r):Bp(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=Cm(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Rm(){if("undefined"==typeof Uint8Array)throw new Ws(Hs.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Dm(){if("undefined"==typeof atob)throw new Ws(Hs.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var jm=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Dm(),new t(Cp.fromBase64String(e))},t.fromUint8Array=function(e){return Rm(),new t(Cp.fromUint8Array(e))},t.prototype.toBase64=function(){return Dm(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Rm(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Pm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Ep(t=sp(t,bp));var n=vp(t),r=t._freezeSettings(),i=new Tf;return wp(n,i,new xf(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Ep(t=sp(t,bp));var e=vp(t),n=t._freezeSettings(),r=new Tf;return wp(e,r,new kf(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Ws(Hs.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Mu;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(se.b)(e,void 0,void 0,function(){var e;return Object(se.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(se.b)(this,void 0,void 0,function(){return Object(se.d)(this,function(e){switch(e.label){case 0:return Bu.yt()?[4,Bu.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Zl(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Nm=function(){function t(t,e,n){var r=this;this._delegate=e,this.tu=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Wf||(this.eu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Qs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=sp(t,cp))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Qs("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s=Object(De.e)(r.mockUserToken),o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Ws(Hs.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Xf(new $f(s,new Ih(o)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(se.b)(e,void 0,void 0,function(){var e,n;return Object(se.d)(this,function(r){switch(r.label){case 0:return[4,Ff(t)];case 1:return e=r.sent(),[4,Vf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=to(t);return e.Or.delete(0),ed(e)}(n))]}})})})}(vp(sp(this._delegate,bp)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(se.b)(e,void 0,void 0,function(){var e,n;return Object(se.d)(this,function(r){switch(r.label){case 0:return[4,Ff(t)];case 1:return e=r.sent(),[4,Vf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(se.b)(this,void 0,void 0,function(){var e;return Object(se.d)(this,function(n){switch(n.label){case 0:return(e=to(t)).Or.add(0),[4,nd(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(vp(sp(this._delegate,bp)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ep("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.tu.enableMultiTabIndexedDbPersistence(this):this.tu.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.tu.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.eu&&(this.eu._removeServiceInstance("firestore"),this.eu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Mu;return t.asyncQueue.enqueueAndForget(function(){return Object(se.b)(e,void 0,void 0,function(){var e;return Object(se.d)(this,function(r){switch(r.label){case 0:return e=nf,[4,Uf(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(vp(sp(this._delegate,bp)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new If(e);return t.asyncQueue.enqueueAndForget(function(){return Object(se.b)(n,void 0,void 0,function(){var e;return Object(se.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){to(t).Gr.add(e),e.next()},[4,Bf(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(se.b)(n,void 0,void 0,function(){var e;return Object(se.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){to(t).Gr.delete(e)},[4,Bf(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(vp(t=sp(t,bp)),yp(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.eu)throw new Ws(Hs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.eu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Xm(this,dp(this._delegate,t))}catch(t){throw Bm(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Um(this,fp(this._delegate,t))}catch(t){throw Bm(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Gm(this,function(t,e){if(t=sp(t,cp),Jf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new lp(t,null,function(t){return new da(fo.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Bm(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Mu;return t.asyncQueue.enqueueAndForget(function(){return Object(se.b)(n,void 0,void 0,function(){var n;return Object(se.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Lf(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Rf(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(vp(t),function(n){return e(new Am(t,n))})}(this._delegate,function(n){return t(new Fm(e,n))})},t.prototype.batch=function(){var t=this;return vp(this._delegate),new Mm(new Sm(this._delegate,function(e){return Tm(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Ws(Hs.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Ws(Hs.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Lm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(se.c)(e,t),e.prototype.convertBytes=function(t){return new jm(new Cp(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Um.nu(e,this.firestore,null)},e}(_m),Fm=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Lm(t)}return t.prototype.get=function(t){var e=this,n=Qm(t);return this._delegate.get(n).then(function(t){return new Hm(e._firestore,new rm(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=Qm(t);return n?(tp("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Qm(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(se.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=Qm(t);return this._delegate.delete(e),this},t}(),Mm=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Qm(t);return n?(tp("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Qm(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(se.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=Qm(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Vm=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new im(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Wm(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.su=function(e,n){var r=t.iu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new Lm(e),n),i.set(n,s)),s},t}();Vm.iu=new WeakMap;var Um=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Lm(t)}return t.ru=function(e,n,r){if(e.length%2!=0)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new up(n._delegate,r,new To(e)))},t.nu=function(e,n,r){return new t(n,new up(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Xm(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Xm(this.firestore,dp(this._delegate,t))}catch(t){throw Bm(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(De.i)(t))instanceof up&&pp(this._delegate,t)},t.prototype.set=function(t,e){e=tp("DocumentReference.set",e);try{return function(t,e,n){t=sp(t,up);var r=sp(t.firestore,bp),i=wm(t.converter,e,n);return Tm(r,[Pp(jp(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ga.none())])}(this._delegate,t,e)}catch(t){throw Bm(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?xm(this._delegate,t):xm.apply(void 0,Object(se.f)([this._delegate,t,e],n))}catch(t){throw Bm(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Tm(sp((t=this._delegate).firestore,bp),[new ac(t._key,Ga.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=qm(e),i=zm(e,function(e){return new Hm(t.firestore,new rm(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return km(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=sp(t,up);var e=sp(t.firestore,bp),n=vp(e),r=new Om(e);return function(t,e){var n=this,r=new Mu;return t.asyncQueue.enqueueAndForget(function(){return Object(se.b)(n,void 0,void 0,function(){var n;return Object(se.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(se.b)(this,void 0,void 0,function(){var r,i;return Object(se.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=to(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Ws(Hs.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=kd(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Mf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new rm(e,r,t._key,n,new nm(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=sp(t,up);var e=sp(t.firestore,bp);return qf(vp(e),t._key,{source:"server"}).then(function(n){return Im(e,t,n)})}(this._delegate):function(t){t=sp(t,up);var e=sp(t.firestore,bp);return qf(vp(e),t._key).then(function(n){return Im(e,t,n)})}(this._delegate)).then(function(t){return new Hm(e.firestore,new rm(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Vm.su(this.firestore,e):null))},t}();function Bm(t,e,n){return t.message=t.message.replace(e,n),t}function qm(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!yp(r))return r}return{}}function zm(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=yp(t[0])?t[0]:yp(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Hm=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Um(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return am(this._delegate,t._delegate)},t}(),Wm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(se.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Hm),Gm=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Lm(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,lm(this._delegate,function(t,e,n){var r=e,i=em("where",t);return new hm(i,r,n)}(e,n,r)))}catch(e){throw Bm(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,lm(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=em("orderBy",t);return new dm(r,n)}(e,n)))}catch(e){throw Bm(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,lm(this._delegate,function(t){return op("limit",t),new fm("limit",t,"F")}(e)))}catch(e){throw Bm(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,lm(this._delegate,function(t){return op("limitToLast",t),new fm("limitToLast",t,"L")}(e)))}catch(e){throw Bm(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pm("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Bm(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pm("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Bm(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mm("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Bm(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mm("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Bm(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return mp(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=sp(t,lp);var e=sp(t.firestore,bp),n=vp(e),r=new Om(e);return function(t,e){var n=this,r=new Mu;return t.asyncQueue.enqueueAndForget(function(){return Object(se.b)(n,void 0,void 0,function(){var n;return Object(se.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(se.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(se.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,fh(t,e,!0)];case 1:return a=c.sent(),r=new zd(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=c.sent(),a=kd(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Mf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new sm(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=sp(t,lp);var e=sp(t.firestore,bp),n=vp(e),r=new Om(e);return zf(n,t._query,{source:"server"}).then(function(n){return new sm(e,r,t,n)})}(this._delegate):function(t){t=sp(t,lp);var e=sp(t.firestore,bp),n=vp(e),r=new Om(e);return cm(t._query),zf(n,t._query).then(function(n){return new sm(e,r,t,n)})}(this._delegate)).then(function(t){return new Km(e.firestore,new sm(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=qm(e),i=zm(e,function(e){return new Km(t.firestore,new sm(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return km(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Vm.su(this.firestore,e):null))},t}(),$m=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Wm(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Km=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Gm(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Wm(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new $m(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Wm(n._firestore,r))})},t.prototype.isEqual=function(t){return am(this._delegate,t._delegate)},t}(),Xm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(se.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Um(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Um(this.firestore,void 0===t?fp(this._delegate):fp(this._delegate,t))}catch(t){throw Bm(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=sp(t.firestore,bp),r=fp(t),i=wm(t.converter,e);return Tm(n,[Pp(jp(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ga.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Um(e.firestore,t)})},e.prototype.isEqual=function(t){return pp(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Vm.su(this.firestore,t):null))},e}(Gm);function Qm(t){return sp(t,up)}var Ym,Zm=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Sp.bind.apply(Sp,Object(se.f)([void 0],t)))}return t.documentId=function(){return new t(mo.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(De.i)(t))instanceof Sp&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Jm=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Fp("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Np("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mp("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vp("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Up("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),tg=n("/6Yf"),eg={Firestore:Nm,GeoPoint:xp,Timestamp:oo,Blob:jm,Transaction:Fm,WriteBatch:Mm,DocumentReference:Um,DocumentSnapshot:Hm,Query:Gm,QueryDocumentSnapshot:Wm,QuerySnapshot:Km,CollectionReference:Xm,FieldPath:Zm,FieldValue:Jm,setLogLevel:function(t){Gs.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new tg.a("firestore",function(t){return function(t,e){return new Nm(t,new bp(t,e),new Pm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},eg)))})(Ym=Re.a),Ym.registerVersion("@firebase/firestore","2.3.4");var ng=n("XNiG"),rg=n("VRyK"),ig=n("zx2A");function sg(t,e){return"function"==typeof e?n=>n.pipe(sg((n,r)=>Object(ce.a)(t(n,r)).pipe(Object(be.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new og(t))}class og{constructor(t){this.project=t}call(t,e){return e.subscribe(new ag(t,this.project))}}class ag extends ig.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new ig.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(ig.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var cg=n("qgXg"),ug=n("quSY"),lg=n("9ppp"),hg=n("Ylt2");class dg extends ng.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new fg(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new lg.a;if(this.isStopped||this.hasError?s=ug.a.EMPTY:(this.observers.push(t),s=new hg.a(this,t)),r&&t.add(t=new Te.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||cg.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class fg{constructor(t,e){this.time=t,this.value=e}}function pg(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,c=!1;return function(u){let l;o++,!i||a?(a=!1,i=new dg(t,e,r),l=i.subscribe(this),s=u.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,s=void 0,i.complete()}}),c&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}const mg=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),gg=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var yg=n("EY2u");function bg(t){return e=>0===t?Object(yg.b)():e.lift(new vg(t))}class vg{constructor(t){if(this.total=t,this.total<0)throw new gg}call(t,e){return e.subscribe(new _g(t,this.total))}}class _g extends pe.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function wg(t=null){return e=>e.lift(new Eg(t))}class Eg{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Sg(t,this.defaultValue))}}class Sg extends pe.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Cg(t=kg){return e=>e.lift(new Og(t))}class Og{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new xg(t,this.errorFactory))}}class xg extends pe.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Ym){t=Ym}this.destination.error(t)}}}function kg(){return new mg}var Tg=n("SpAZ");function Ig(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Oe((e,n)=>t(e,n,r)):Tg.a,bg(1),n?wg(e):Cg(()=>new mg))}function Ag(t,e){return e?sg(()=>t,e):sg(()=>t)}var Rg=n("tf+s");const Dg=new r.s("angularfire2.auth.use-emulator"),jg=new r.s("angularfire2.auth.settings"),Pg=new r.s("angularfire2.auth.tenant-id"),Ng=new r.s("angularfire2.auth.langugage-code"),Lg=new r.s("angularfire2.auth.use-device-language"),Fg=new r.s("angularfire.auth.persistence");let Mg=(()=>{class t{constructor(t,e,r,i,s,o,a,c,u,l){const h=new Ie.d(i),d=Object(Ie.h)(h),f=new ng.a,p=Object(ue.a)(void 0).pipe(Object(Te.b)(h.outsideAngular),sg(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(be.a)(()=>Object(Ie.g)(t,i,e)),Object(be.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(Ie.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=c,u&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,c,u,n,l])})),pg({bufferSize:1,refCount:!1}));if(Ot(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(ue.a)(null);else{p.pipe(Ig()).subscribe();const t=p.pipe(sg(t=>t.getRedirectResult().then(t=>t,()=>null)),d,pg({bufferSize:1,refCount:!1})),e=t=>new ae.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(sg(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(sg(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Ag(n),Object(Rg.a)(h.outsideAngular),Object(Te.b)(h.insideAngular)),this.user=t.pipe(Ag(r),Object(Rg.a)(h.outsideAngular),Object(Te.b)(h.insideAngular)),this.idToken=this.user.pipe(sg(t=>t?Object(ce.a)(t.getIdToken()):Object(ue.a)(null))),this.idTokenResult=this.user.pipe(sg(t=>t?Object(ce.a)(t.getIdTokenResult()):Object(ue.a)(null))),this.credential=Object(rg.a)(t,f,this.authState.pipe(Oe(t=>!t))).pipe(Object(be.a)(t=>(null==t?void 0:t.user)?t:null),Object(Rg.a)(h.outsideAngular),Object(Te.b)(h.insideAngular))}return Object(Ie.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.ec(Ie.c),r.ec(Ie.b,8),r.ec(r.D),r.ec(r.B),r.ec(Dg,8),r.ec(jg,8),r.ec(Pg,8),r.ec(Ng,8),r.ec(Lg,8),r.ec(Fg,8))},t.\u0275prov=r.Nb({factory:function(){return new t(r.ec(Ie.c),r.ec(Ie.b,8),r.ec(r.D),r.ec(r.B),r.ec(Dg,8),r.ec(jg,8),r.ec(Pg,8),r.ec(Ng,8),r.ec(Lg,8),r.ec(Fg,8))},token:t,providedIn:"any"}),t})();function Vg(t,e){return function(t,e=oe.b){return new ae.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Ug(t,e){return Vg(t,e).pipe(Object(be.a)(t=>({payload:t,type:"query"})))}function Bg(t,e){return Ug(t,e).pipe(fe(void 0),me(),Object(be.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function qg(t,e,n){return Bg(t,n).pipe(ve((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return zg(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return zg(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zg(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Ee(),Object(be.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function zg(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Hg(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Ie.e)(Mg,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Wg{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Bg(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(be.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(fe(void 0),me(),Oe(([t,e])=>e.length>0||!t),Object(be.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ve((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Hg(t);return qg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Ug(this.query,this.afs.schedulers.outsideAngular).pipe(Object(be.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ce.a)(this.query.get(t)).pipe(Object(Te.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Gg(this.ref.doc(t),this.afs)}}class Gg{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Zg(n,e);return new Wg(r,i,this.afs)}snapshotChanges(){return Vg(this.ref,this.afs.schedulers.outsideAngular).pipe(fe(void 0),me(),Object(be.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(be.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(ce.a)(this.ref.get(t)).pipe(Object(Te.b)(this.afs.schedulers.insideAngular))}}class $g{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Bg(this.query,this.afs.schedulers.outsideAngular).pipe(Object(be.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Oe(t=>t.length>0),this.afs.keepUnstableUntilFirst):Bg(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ve((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Hg(t);return qg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Ug(this.query,this.afs.schedulers.outsideAngular).pipe(Object(be.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ce.a)(this.query.get(t)).pipe(Object(Te.b)(this.afs.schedulers.insideAngular))}}const Kg=new r.s("angularfire2.enableFirestorePersistence"),Xg=new r.s("angularfire2.firestore.persistenceSettings"),Qg=new r.s("angularfire2.firestore.settings"),Yg=new r.s("angularfire2.firestore.use-emulator");function Zg(t,e=(t=>t)){return{query:e(t),ref:t}}let Jg=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this.schedulers=new Ie.d(s),this.keepUnstableUntilFirst=Object(Ie.h)(this.schedulers);const u=Object(Ie.g)(t,s,e);!Ae.a.auth&&c&&Object(Ie.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Ie.f)(`${u.name}.firestore`,"AngularFirestore",u,()=>{const t=s.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!Ot(i)){const e=()=>{try{return Object(ce.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(Ym){return"undefined"!=typeof console&&console.warn(Ym),Object(ue.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(ue.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Zg(n,e),s=this.schedulers.ngZone.run(()=>r);return new Wg(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new $g(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Gg(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.ec(Ie.c),r.ec(Ie.b,8),r.ec(Kg,8),r.ec(Qg,8),r.ec(r.D),r.ec(r.B),r.ec(Xg,8),r.ec(Yg,8),r.ec(Dg,8))},t.\u0275prov=r.Nb({factory:function(){return new t(r.ec(Ie.c),r.ec(Ie.b,8),r.ec(Kg,8),r.ec(Qg,8),r.ec(r.D),r.ec(r.B),r.ec(Xg,8),r.ec(Yg,8),r.ec(Dg,8))},token:t,providedIn:"any"}),t})(),ty=(()=>{class t{constructor(t){this.afs=t}getFakeUser(){return new Promise(t=>this.afs.collection("usuario").doc("ritCXCcIQ4qSIyYXAxCI").valueChanges().subscribe(e=>t(e)))}getEmprestimosDoUsuario(){return this.afs.collection("usuario").doc("ritCXCcIQ4qSIyYXAxCI").collection("emprestimos").valueChanges()}emprestimosDisponiveis(){return this.afs.collection("emprestimos",t=>t.orderBy("valor")).valueChanges()}salvarEmprestimo(t){t.uid=this.afs.createId(),this.afs.collection("usuario").doc("ritCXCcIQ4qSIyYXAxCI").collection("emprestimos").doc(t.uid).set(t)}atualizarEmprestimo(t,e){this.afs.collection("usuario").doc("ritCXCcIQ4qSIyYXAxCI").collection("emprestimos").doc(t.uid).set(t).then(()=>{alert(e)}).catch(t=>{alert("N\xe3o possivel realizar a opera\xe7\xe3o. Erro: "+t)})}}return t.\u0275fac=function(e){return new(e||t)(r.ec(Jg))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ey=n("DH7j"),ny=n("n6bG");function ry(t,e,n,r){return Object(ny.a)(n)&&(r=n,n=void 0),r?ry(t,e,n).pipe(Object(be.a)(t=>Object(ey.a)(t)?r(...t):r(t))):new ae.a(r=>{iy(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function iy(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)iy(t[s],e,n,r,i)}r.add(s)}var sy=n("Y7HM");function oy(t=0,e,n){let r=-1;return Object(sy.a)(e)?r=Number(e)<1?1:Number(e):Object(de.a)(e)&&(n=e),Object(de.a)(n)||(n=oe.a),new ae.a(e=>{const i=Object(sy.a)(t)?t:+t-n.now();return n.schedule(ay,i,{index:0,period:r,subscriber:e})})}function ay(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}var cy=n("yCtX");class uy extends pe.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class ly extends pe.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var hy=n("SeVD");function dy(t,e,n,r,i=new ly(t,n,r)){if(!i.closed)return e instanceof ae.a?e.subscribe(i):Object(hy.a)(e)(i)}class fy{call(t,e){return e.subscribe(new py(t))}}class py extends uy{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=dy(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}class my extends ng.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new lg.a;return this._value}next(t){super.next(this._value=t)}}const gy={};class yy{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new by(t,this.resultSelector))}}class by extends uy{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(gy),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(dy(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===gy?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n("KqfI");var vy=n("Lhse");function _y(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(cy.a)(t,void 0).lift(new wy(e))}class wy{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ey(t,this.resultSelector))}}class Ey extends pe.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(ey.a)(t)?e.push(new Cy(t)):e.push("function"==typeof t[vy.a]?new Sy(t[vy.a]()):new Oy(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let s=0;s<e;s++){let e=t[s],o=e.next();if(e.hasCompleted()&&(r=!0),o.done)return void n.complete();i.push(o.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class Sy{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class Cy{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[vy.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Oy extends ig.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[vy.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(ig.c)(this.observable,new ig.a(this))}}function xy(t){return e=>e.lift(new ky(t))}class ky{constructor(t){this.notifier=t}call(t,e){const n=new Ty(t),r=Object(ig.c)(this.notifier,new ig.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Ty extends ig.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var Iy=n("vkgz");function Ay(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Ry(t,n))}}class Ry{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new Dy(t,this.observables,this.project))}}class Dy extends uy{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(dy(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n("WMd4");var jy=n("5+tZ");n("w1tV");var Py=n("XoHu");function Ny(t,e){return new ae.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const c=Object(ce.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&u||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Ly=new r.s("NgValidators"),Fy=new r.s("NgAsyncValidators");function My(t){return null!=t}function Vy(t){const e=Object(r.vb)(t)?Object(ce.a)(t):t;return Object(r.ub)(e),e}function Uy(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function By(t,e){return e.map(e=>e(t))}function qy(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function zy(t){return null!=t?function(t){if(!t)return null;const e=t.filter(My);return 0==e.length?null:function(t){return Uy(By(t,e))}}(qy(t)):null}function Hy(t){return null!=t?function(t){if(!t)return null;const e=t.filter(My);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(ey.a)(e))return Ny(e,null);if(Object(Py.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ny(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ny(t=1===t.length&&Object(ey.a)(t[0])?t[0]:t,null).pipe(Object(be.a)(t=>e(...t)))}return Ny(t,null)}(By(t,e).map(Vy)).pipe(Object(be.a)(Uy))}}(qy(t)):null}function Wy(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Gy(t){return t._rawValidators}function $y(t){return t._rawAsyncValidators}let Ky=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=zy(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Hy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t}),t})(),Xy=(()=>{class t extends Ky{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Qy(e||t)},t.\u0275dir=r.Mb({type:t,features:[r.Bb]}),t})();const Qy=r.Zb(Xy);class Yy extends Ky{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}function Zy(t,e){eb(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&rb(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&rb(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Jy(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),nb(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function tb(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function eb(t,e,n){const r=Gy(t);null!==e.validator?t.setValidators(Wy(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=$y(t);if(null!==e.asyncValidator?t.setAsyncValidators(Wy(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();tb(e._rawValidators,n),tb(e._rawAsyncValidators,n)}}function nb(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=Gy(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=$y(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};tb(e._rawValidators,t),tb(e._rawAsyncValidators,t)}return r}function rb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ib(t,e){eb(t,e,!1)}function sb(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function ob(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ab="VALID",cb="INVALID",ub="PENDING",lb="DISABLED";function hb(t){return(mb(t)?t.validators:t)||null}function db(t){return Array.isArray(t)?zy(t):t||null}function fb(t,e){return(mb(e)?e.asyncValidators:t)||null}function pb(t){return Array.isArray(t)?Hy(t):t||null}function mb(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class gb{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=db(this._rawValidators),this._composedAsyncValidatorFn=pb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ab}get invalid(){return this.status===cb}get pending(){return this.status==ub}get disabled(){return this.status===lb}get enabled(){return this.status!==lb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=db(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=pb(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ub,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=lb,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ab,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==ab&&this.status!==ub||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lb:ab}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ub,this._hasOwnPendingAsyncValidator=!0;const e=Vy(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof bb?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof vb&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.o,this.statusChanges=new r.o}_calculateStatus(){return this._allControlsDisabled()?lb:this.errors?cb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ub)?ub:this._anyControlsHaveStatus(cb)?cb:ab}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){mb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class yb extends gb{constructor(t=null,e,n){super(hb(e),fb(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ob(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ob(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class bb extends gb{constructor(t,e,n){super(hb(e),fb(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof yb?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class vb extends gb{constructor(t,e,n){super(hb(e),fb(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof yb?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const _b={provide:Xy,useExisting:Object(r.W)(()=>Eb)},wb=(()=>Promise.resolve(null))();let Eb=(()=>{class t extends Xy{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.o,this.form=new bb({},zy(t),Hy(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){wb.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Zy(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){wb.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),ob(this._directives,t)})}addFormGroup(t){wb.then(()=>{const e=this._findContainer(t.path),n=new bb({});ib(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){wb.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){wb.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,sb(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ly,10),r.Rb(Fy,10))},t.\u0275dir=r.Mb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.hc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Db([_b]),r.Bb]}),t})(),Sb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})();const Cb={provide:Xy,useExisting:Object(r.W)(()=>Ob)};let Ob=(()=>{class t extends Xy{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.o,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nb(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Zy(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Jy(t.control||null,t,!1),ob(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,sb(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(Jy(e||null,t),n instanceof yb&&(Zy(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);ib(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return nb(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){eb(this.form,this,!1),this._oldForm&&nb(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ly,10),r.Rb(Fy,10))},t.\u0275dir=r.Mb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.hc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Db([Cb]),r.Bb,r.Cb]}),t})(),xb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Sb]]}),t})(),kb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[xb]}),t})();const Tb=["*"],Ib=["dialog"];function Ab(t){return null!=t}function Rb(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const Db={animation:!0,transitionTimerDelayMs:5};let jb=(()=>{class t{constructor(){this.animation=Db.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Pb=()=>{},{transitionTimerDelayMs:Nb}=Db,Lb=new Map,Fb=(t,e,n,r)=>{let i=r.context||{};const s=Lb.get(e);if(s)switch(r.runningTransition){case"continue":return yg.a;case"stop":t.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),Lb.delete(e)}const o=n(e,r.animation,i)||Pb;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>o()),Object(ue.a)(void 0).pipe(function(t){return e=>new ae.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new ng.a,c=new ng.a,u=a.pipe(function(...t){return e=>he(e,Object(ue.a)(...t))}(!0));Lb.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const l=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=ry(e,"transitionend").pipe(xy(u),Oe(({target:t})=>t===e));(function(...t){if(1===t.length){if(!Object(ey.a)(t[0]))return t[0];t=t[0]}return Object(cy.a)(t,void 0).lift(new fy)})(oy(l+Nb).pipe(xy(u)),n,c).pipe(xy(u)).subscribe(()=>{Lb.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let Mb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Ct]]}),t})(),Vb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Ct]]}),t})(),Ub=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})(),Bb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Ct]]}),t})(),qb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})();var zb=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Hb=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Wb(t){const e=Array.from(t.querySelectorAll(Hb)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let s={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,n,r){const[i="top",s="center"]=n.split("-"),o=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),c=parseFloat(a.marginTop),u=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let d=0,f=0;switch(i){case"top":d=o.top-(e.offsetHeight+c+u);break;case"bottom":d=o.top+o.height;break;case"left":f=o.left-(e.offsetWidth+l+h);break;case"right":f=o.left+o.width}switch(s){case"top":d=o.top;break;case"bottom":d=o.top+o.height-e.offsetHeight;break;case"left":f=o.left;break;case"right":f=o.left+o.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?f=o.left+o.width/2-e.offsetWidth/2:d=o.top+o.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(f)}px, ${Math.round(d)}px)`;const p=e.getBoundingClientRect(),m=document.documentElement,g=window.innerHeight||m.clientHeight,y=window.innerWidth||m.clientWidth;return p.left>=0&&p.top>=0&&p.right<=y&&p.bottom<=g}},new Date(1882,10,12),new Date(2174,10,25);let Gb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Ct,kb]]}),t})(),$b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})(),Kb=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.ec(jb))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(jb))},token:t,providedIn:"root"}),t})();class Xb{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const Qb=()=>{};let Yb=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):Qb}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(o))},token:t,providedIn:"root"}),t})(),Zb=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(bg(1)).subscribe(()=>{Fb(this._zone,this._el.nativeElement,(t,e)=>{e&&Rb(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Fb(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.B))},t.\u0275cmp=r.Lb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Gb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Jb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class Jb{close(t){}dismiss(t){}}class tv{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new ng.a,this._dismissed=new ng.a,this._hidden=new ng.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(xy(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(xy(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(ue.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),_y(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ev=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let nv=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new ng.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.o,this.shown=new ng.a,this.hidden=new ng.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(bg(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=_y(Fb(this._zone,t,()=>t.classList.remove("show"),e),Fb(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};_y(Fb(this._zone,this._elRef.nativeElement,(t,e)=>{e&&Rb(t),t.classList.add("show")},t),Fb(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{ry(t,"keydown").pipe(xy(this._closed$),Oe(t=>t.which===zb.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(ev.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;ry(this._dialogEl.nativeElement,"mousedown").pipe(xy(this._closed$),Object(Iy.a)(()=>e=!1),sg(()=>ry(t,"mouseup").pipe(xy(this._closed$),bg(1))),Oe(({target:e})=>t===e)).subscribe(()=>{e=!0}),ry(t,"click").pipe(xy(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(ev.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=Wb(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Fb(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o),r.Rb(r.l),r.Rb(r.B))},t.\u0275cmp=r.Lb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.Kc(Ib,3),2&t){let t;r.yc(t=r.ic())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Fb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Gb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Jb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Tb,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.qc(),r.Xb(0,"div",0,1),r.Xb(2,"div",2),r.pc(3),r.Wb(),r.Wb()),2&t&&r.Gb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),rv=(()=>{class t{constructor(t,e,n,i,s,o){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=s,this._ngZone=o,this._activeWindowCmptHasChanged=new ng.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new r.o,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=ry(e,"focusin").pipe(xy(n),Object(be.a)(t=>t.target));ry(e,"keydown").pipe(xy(n),Oe(t=>t.which===zb.Tab),Ay(t)).subscribe(([t,n])=>{const[r,i]=Wb(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&ry(e,"click").pipe(xy(n),Ay(t),Object(be.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:Ab(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const c=new Jb,u=this._getContentRef(t,r.injector||e,n,c,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,u),d=new tv(h,u,l,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(o,o),d.result.then(a,a),c.close=t=>{d.close(t)},c.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),l&&l.instance&&(this._applyBackdropOptions(l.instance,r),l.changeDetectorRef.detectChanges()),h.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(Zb).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(nv).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{Ab(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{Ab(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,s){return n?n instanceof r.N?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,s):new Xb([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new Xb([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new Xb([[e]])}_createFromComponent(t,e,n,i,s){const o=t.resolveComponentFactory(n),a=r.t.create({providers:[{provide:Jb,useValue:i}],parent:e}),c=o.create(a),u=c.location.nativeElement;return s.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Xb([[u]],c.hostView,c)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.g),r.ec(r.t),r.ec(o),r.ec(Yb),r.ec(r.H),r.ec(r.B))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(r.g),Object(r.ec)(r.p),Object(r.ec)(o),Object(r.ec)(Yb),Object(r.ec)(r.H),Object(r.ec)(r.B))},token:t,providedIn:"root"}),t})(),iv=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.j),r.ec(r.t),r.ec(rv),r.ec(Kb))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(r.j),Object(r.ec)(r.p),Object(r.ec)(rv),Object(r.ec)(Kb))},token:t,providedIn:"root"}),t})(),sv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:[iv]}),t})(),ov=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Ct]]}),t})(),av=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Ct]]}),t})(),cv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Ct]]}),t})(),uv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Ct]]}),t})(),lv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Ct]]}),t})(),hv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Ct]]}),t})(),dv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Ct]]}),t})(),fv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})();new r.s("live announcer delay",{providedIn:"root",factory:function(){return 100}});let pv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Ct]]}),t})();const mv=[Mb,Vb,Ub,Bb,qb,Gb,$b,sv,ov,av,cv,uv,lv,hv,dv,fv,pv];let gv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[mv,Mb,Vb,Ub,Bb,qb,Gb,$b,sv,ov,av,cv,uv,lv,hv,dv,fv,pv]}),t})();class yv{}const bv="*";function vv(t,e){return{type:7,name:t,definitions:e,options:{}}}function _v(t,e=null){return{type:4,styles:e,timings:t}}function wv(t,e=null){return{type:2,steps:t,options:e}}function Ev(t){return{type:6,styles:t,offset:null}}function Sv(t,e,n){return{type:0,name:t,styles:e,options:n}}function Cv(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Ov(t=null){return{type:9,options:t}}function xv(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function kv(t){Promise.resolve(null).then(t)}class Tv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){kv(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Iv{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?kv(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Av(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Rv(t){switch(t.length){case 0:return new Tv;case 1:return t[0];default:return new Iv(t)}}function Dv(t,e,n,r,i={},s={}){const o=[],a=[];let c=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case bv:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),u=l,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function jv(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Pv(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Pv(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Pv(n,"destroy",t)))}}function Pv(t,e,n){const r=n.totalTime,i=Nv(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Nv(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Lv(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Fv(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Mv=(t,e)=>!1,Vv=(t,e)=>!1,Uv=(t,e,n)=>[];const Bv=Av();(Bv||"undefined"!=typeof Element)&&(Mv=(t,e)=>t.contains(e),Vv=(()=>{if(Bv||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Vv}})(),Uv=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let qv=null,zv=!1;function Hv(t){qv||(qv=("undefined"!=typeof document?document.body:null)||{},zv=!!qv.style&&"WebkitAppearance"in qv.style);let e=!0;return qv.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in qv.style,!e&&zv)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in qv.style),e}const Wv=Vv,Gv=Mv,$v=Uv;function Kv(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Xv=(()=>{class t{validateStyleProperty(t){return Hv(t)}matchesElement(t,e){return Wv(t,e)}containsElement(t,e){return Gv(t,e)}query(t,e,n){return $v(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Tv(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),Qv=(()=>{class t{}return t.NOOP=new Xv,t})();const Yv="ng-enter",Zv="ng-leave",Jv="ng-trigger",t_=".ng-trigger",e_="ng-animating",n_=".ng-animating";function r_(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:i_(parseFloat(e[1]),e[2])}function i_(t,e){switch(e){case"s":return 1e3*t;default:return t}}function s_(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=i_(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=i_(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function o_(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function a_(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else o_(t,n);return n}function c_(t,e,n){return n?e+":"+n+";":""}function u_(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=c_(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=c_(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function l_(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=b_(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Av()&&u_(t))}function h_(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=b_(e);t.style[n]=""}),Av()&&u_(t))}function d_(t){return Array.isArray(t)?1==t.length?t[0]:wv(t):t}const f_=new RegExp("{{\\s*(.+?)\\s*}}","g");function p_(t){let e=[];if("string"==typeof t){let n;for(;n=f_.exec(t);)e.push(n[1]);f_.lastIndex=0}return e}function m_(t,e,n){const r=t.toString(),i=r.replace(f_,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function g_(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const y_=/-+([a-z0-9])/g;function b_(t){return t.replace(y_,(...t)=>t[1].toUpperCase())}function v_(t,e){return 0===t||0===e}function __(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=E_(t,e)})}}return e}function w_(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function E_(t,e){return window.getComputedStyle(t)[e]}const S_="*";function C_(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(k_(i,o)),"<"!=s[0]||i==S_&&o==S_||e.push(k_(o,i))}(t,n,e)):n.push(t),n}const O_=new Set(["true","1"]),x_=new Set(["false","0"]);function k_(t,e){const n=O_.has(t)||x_.has(t),r=O_.has(e)||x_.has(e);return(i,s)=>{let o=t==S_||t==i,a=e==S_||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?O_.has(t):x_.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?O_.has(e):x_.has(e)),o&&a}}const T_=new RegExp("s*:selfs*,?","g");function I_(t,e,n){return new A_(t).build(e,n)}class A_{constructor(t){this._driver=t}build(t,e){const n=new R_(e);return this._resetContextStyleTimingState(n),w_(this,d_(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(D_(t)){const e=t;Object.keys(e).forEach(t=>{p_(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=g_(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=w_(this,d_(t.animation),e);return{type:1,matchers:C_(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:j_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>w_(this,t,e)),options:j_(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=w_(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:j_(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return P_(s_(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=P_(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||s_(r,e),P_(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Ev({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Ev(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==bv?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(D_(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=p_(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(D_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(D_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),o=o||u<0||u>1,s=s||u<a,a=u,i.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:w_(this,d_(t.animation),e),options:j_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:j_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:j_(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(T_,"")),[t=t.replace(/@\*/g,t_).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,n_),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Lv(e.collectedStyles,e.currentQuerySelector,{});const o=w_(this,d_(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:j_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:s_(t.timings,e.errors,!0);return{type:12,animation:w_(this,d_(t.animation),e),timings:n,options:null}}}class R_{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function D_(t){return!Array.isArray(t)&&"object"==typeof t}function j_(t){var e;return t?(t=o_(t)).params&&(t.params=(e=t.params)?o_(e):null):t={},t}function P_(t,e,n){return{duration:t,delay:e,easing:n}}function N_(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class L_{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const F_=new RegExp(":enter","g"),M_=new RegExp(":leave","g");function V_(t,e,n,r,i,s={},o={},a,c,u=[]){return(new U_).buildKeyframes(t,e,n,r,i,s,o,a,c,u)}class U_{buildKeyframes(t,e,n,r,i,s,o,a,c,u=[]){c=c||new L_;const l=new q_(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),w_(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[N_(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?r_(n.duration):null,s=null!=n.delay?r_(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),w_(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=B_);const t=r_(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>w_(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?r_(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),w_(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return s_(e.params?m_(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?r_(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=B_);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),w_(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;w_(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const B_={};class q_{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=B_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new z_(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=r_(n.duration)),null!=n.delay&&(r.delay=r_(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=m_(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new q_(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=B_,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new H_(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(F_,"."+this._enterClassName)).replace(M_,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class z_{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new z_(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||bv,this._currentKeyframe[t]=bv}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=bv})):a_(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=m_(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:bv),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=a_(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==bv&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?g_(t.values()):[],s=e.size?g_(e.values()):[];if(n){const t=r[0],e=o_(t);t.offset=0,e.offset=1,r=[t,e]}return N_(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class H_ extends z_{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=a_(t[0],!1);a.offset=0,i.push(a);const c=a_(t[0],!1);c.offset=W_(o),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let o=a_(t[r],!1);o.offset=W_((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return N_(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function W_(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class G_{}class $_ extends G_{normalizePropertyName(t,e){return b_(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(K_[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const K_=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function X_(t,e,n,r,i,s,o,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const Q_={};class Y_{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||Q_,d=this.buildStyles(n,o&&o.params||Q_,l),f=a&&a.params||Q_,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=u?[]:V_(t,e,this.ast.animation,i,s,d,p,v,c,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return X_(e,this._triggerName,n,r,b,d,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=Lv(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Lv(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=g_(m.values());return X_(e,this._triggerName,n,r,b,d,p,_,E,g,y,w)}}class Z_{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=o_(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=m_(s,r,e)),n[t]=s})}}),n}}class J_{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Z_(t.style,t.options&&t.options.params||{})}),tw(this.states,"true","1"),tw(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Y_(t,e,this.states))}),this.fallbackTransition=new Y_(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function tw(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const ew=new L_;class nw{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=I_(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Dv(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=V_(this._driver,e,i,Yv,Zv,{},{},n,ew,r),s.forEach(t=>{const e=Lv(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,bv)})});const a=Rv(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Nv(e,"","","");return jv(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const rw="ng-animate-queued",iw="ng-animate-disabled",sw=".ng-animate-disabled",ow=[],aw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cw={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class uw{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=o_(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const lw="void",hw=new uw(lw);class dw{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,vw(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Lv(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Lv(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(vw(t,Jv),vw(t,"ng-trigger-"+e),a[e]=hw),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new pw(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(vw(t,Jv),vw(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new uw(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=hw),c.value!==lw&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{h_(t,n),l_(t,r)})}return}const u=Lv(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(vw(t,rw),s.onStart(()=>{_w(t,rw)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,t_,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,lw,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Rv(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||hw,a=new uw(lw),c=new pw(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:c,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==aw||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){vw(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Nv(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,jv(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class fw{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new dw(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(mw(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!mw(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),vw(t,iw)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),_w(t,iw))}removeNode(t,e,n,r){if(mw(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return mw(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,t_,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,n_,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Rv(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=aw,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,sw)&&this.markElementAsDisabled(t,!1),this.driver.query(t,sw,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)vw(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Rv(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new L_,r=[],i=new Map,s=[],o=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=bw(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=Yv+p++;f.set(e,n),t.forEach(t=>vw(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,v=bw(h,Array.from(g));v.forEach((t,e)=>{const n=Zv+p++;b.set(e,n),t.forEach(t=>vw(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>_w(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>_w(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>h_(i,p.fromStyles)),e.onDestroy(()=>l_(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>h_(i,p.fromStyles)),e.onDestroy(()=>l_(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Lv(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Lv(E,e,[]).push(t),t.destroy()})});const C=m.filter(t=>Sw(t,a,c)),O=new Map;yw(O,this.driver,y,c,bv).forEach(t=>{Sw(t,a,c)&&C.push(t)});const x=new Map;d.forEach((t,e)=>{yw(x,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=O.get(t),n=x.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const k=[],T=[],I={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>l_(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=I;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,x,O);if(s.setRealPlayer(n),t===I)k.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Rv(e)),r.push(s)}}else h_(e,o.fromStyles),s.onDestroy(()=>l_(e,o.toStyles)),T.push(s),u.has(e)&&r.push(s)}),T.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Rv(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(_w(t,Zv),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,n_,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?ww(this,t,r):this.processLeaveNode(t)}return m.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==lw;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,c=Lv(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}h_(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Tv(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return Ew(t,e),e}((n.get(h)||ow).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=Dv(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new pw(t,o,h);e.setRealPlayer(b),c.push(e)}return b});c.forEach(t=>{Lv(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>vw(t,e_));const d=Rv(h);return d.onDestroy(()=>{u.forEach(t=>_w(t,e_)),l_(a,e.toStyles)}),l.forEach(t=>{Lv(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Tv(t.duration,t.delay)}}class pw{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Tv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>jv(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Lv(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function mw(t){return t&&1===t.nodeType}function gw(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function yw(t,e,n,r,i){const s=[];n.forEach(t=>s.push(gw(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=cw,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>gw(t,s[a++])),o}function bw(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function vw(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function _w(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function ww(t,e,n){Rv(n).onDone(()=>t.processLeaveNode(e))}function Ew(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Iv?Ew(r.players,e):e.push(r)}}function Sw(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Cw{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new fw(t,e,n),this._timelineEngine=new nw(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=I_(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new J_(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Fv(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Fv(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ow(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=kw(e[0]),e.length>1&&(r=kw(e[e.length-1]))):e&&(n=kw(e)),n||r?new xw(t,n,r):null}let xw=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&l_(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(l_(this._element,this._initialStyles),this._endStyles&&(l_(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(h_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(h_(this._element,this._endStyles),this._endStyles=null),l_(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function kw(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Tw(i)&&(e=e||{},e[i]=t[i])}return e}function Tw(t){return"display"===t||"position"===t}const Iw="animation",Aw="animationend";class Rw{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Fw(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Lw(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Nw(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Dw(this._element,this._name,"paused")}resume(){Dw(this._element,this._name,"running")}setPosition(t){const e=jw(this._element,this._name);this._position=t*this._duration,Lw(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Nw(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Fw(t,"").split(","),r=Pw(n,e);r>=0&&(n.splice(r,1),Lw(t,"",n.join(",")))}(this._element,this._name))}}function Dw(t,e,n){Lw(t,"PlayState",n,jw(t,e))}function jw(t,e){const n=Fw(t,"");return n.indexOf(",")>0?Pw(n.split(","),e):Pw([n],e)}function Pw(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Nw(t,e,n){n?t.removeEventListener(Aw,e):t.addEventListener(Aw,e)}function Lw(t,e,n,r){const i=Iw+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Fw(t,e){return t.style[Iw+e]||""}class Mw{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Rw(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:E_(this.element,n))})}this.currentSnapshot=t}}class Vw extends Tv{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Kv(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Uw{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Hv(t)}matchesElement(t,e){return Wv(t,e)}containsElement(t,e){return Gv(t,e)}query(t,e,n){return $v(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Kv(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof Mw),c={};v_(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=__(t,e,c));if(0==n)return new Vw(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=Ow(t,e),f=new Mw(t,e,l,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class Bw{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:E_(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class qw{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(zw().toString()),this._cssKeyframesDriver=new Uw}validateStyleProperty(t){return Hv(t)}matchesElement(t,e){return Wv(t,e)}containsElement(t,e){return Gv(t,e)}query(t,e,n){return $v(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=s.filter(t=>t instanceof Bw);v_(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=Ow(t,e=__(t,e=e.map(t=>a_(t,!1)),c));return new Bw(t,e,a,l)}}function zw(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Hw=(()=>{class t extends yv{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.T.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?wv(t):t;return $w(this._renderer,null,e,"register",[n]),new Ww(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.H),r.ec(o))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class Ww extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Gw(this._id,t,e||{},this._renderer)}}class Gw{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return $w(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function $w(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Kw="@",Xw="@.disabled";let Qw=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Yw("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Zw(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.H),r.ec(Cw),r.ec(r.B))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class Yw{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Kw&&e==Xw?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Zw extends Yw{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Kw?"."==e.charAt(1)&&e==Xw?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Kw){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=Kw&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Jw=(()=>{class t extends Cw{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o),r.ec(Qv),r.ec(G_))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const tE=new r.s("AnimationModuleType"),eE=[{provide:Qv,useFactory:function(){return"function"==typeof zw()?new qw:new Uw}},{provide:tE,useValue:"BrowserAnimations"},{provide:yv,useClass:Hw},{provide:G_,useFactory:function(){return new $_}},{provide:Cw,useClass:Jw},{provide:r.H,useFactory:function(t,e,n){return new Qw(t,e,n)},deps:[Wt,Cw,r.B]}];let nE,rE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:eE,imports:[ie]}),t})();function iE(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function sE(t,e=oe.a){return n=>n.lift(new oE(t,e))}class oE{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new aE(t,this.dueTime,this.scheduler))}}class aE extends pe.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(cE,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function cE(t){t.debouncedNext()}function uE(t){return null!=t&&"false"!=`${t}`}function lE(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function hE(t){return Array.isArray(t)?t:[t]}function dE(t){return null==t?"":"string"==typeof t?t:`${t}px`}function fE(t){return t instanceof r.l?t.nativeElement:t}try{nE="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(IR){nE=!1}let pE,mE,gE,yE=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!nE)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.D))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(r.D))},token:t,providedIn:"root"}),t})(),bE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})();function vE(t){return function(){if(null==pE&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>pE=!0}))}finally{pE=pE||!1}return pE}()?t:!!t.capture}function _E(){if(null==mE){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return mE=!1,mE;if("scrollBehavior"in document.documentElement.style)mE=!0;else{const t=Element.prototype.scrollTo;mE=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return mE}function wE(t){if(function(){if(null==gE){const t="undefined"!=typeof document?document.head:null;gE=!(!t||!t.createShadowRoot&&!t.attachShadow)}return gE}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}let EE=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),SE=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=fE(t);return new ae.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new ng.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.ec(EE))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(EE))},token:t,providedIn:"root"}),t})(),CE=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.o,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=uE(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=lE(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(sE(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(SE),r.Rb(r.l),r.Rb(r.B))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),OE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:[EE]}),t})();class xE extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ng.a,this._typeaheadSubscription=ug.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new ng.a,this.change=new ng.a,t instanceof r.F&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Iy.a)(t=>this._pressedLetters.push(t)),sE(t),Oe(()=>this._pressedLetters.length>0),Object(be.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||iE(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.F?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}"undefined"!=typeof Element&&Element;const kE=new r.s("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),TE=new r.s("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let IE=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(r.ec(kE,8),r.ec(r.B),r.ec(o),r.ec(TE,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(kE,8),Object(r.ec)(r.B),Object(r.ec)(o),Object(r.ec)(TE,8))},token:t,providedIn:"root"}),t})();function AE(t){return 0===t.buttons}function RE(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const DE=new r.s("cdk-focus-monitor-default-options"),jE=vE({passive:!0,capture:!0});let PE=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=AE(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{RE(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=NE(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=NE(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=fE(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(ue.a)(null);const r=wE(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new ng.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=fE(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=fE(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=NE(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===NE(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,jE),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,jE)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,jE),t.addEventListener("mousedown",this._documentMousedownListener,jE),t.addEventListener("touchstart",this._documentTouchstartListener,jE),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,jE),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,jE),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,jE),t.removeEventListener("mousedown",this._documentMousedownListener,jE),t.removeEventListener("touchstart",this._documentTouchstartListener,jE),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.B),r.ec(yE),r.ec(o,8),r.ec(DE,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(r.B),Object(r.ec)(yE),Object(r.ec)(o,8),Object(r.ec)(DE,8))},token:t,providedIn:"root"}),t})();function NE(t){return t.composedPath?t.composedPath()[0]:t.target}const LE="cdk-high-contrast-black-on-white",FE="cdk-high-contrast-white-on-black",ME="cdk-high-contrast-active";let VE=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(ME),t.remove(LE),t.remove(FE);const e=this.getHighContrastMode();1===e?(t.add(ME),t.add(LE)):2===e&&(t.add(ME),t.add(FE))}}}return t.\u0275fac=function(e){return new(e||t)(r.ec(yE),r.ec(o))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(yE),Object(r.ec)(o))},token:t,providedIn:"root"}),t})(),UE=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(r.ec(VE))},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[bE,OE]]}),t})();const BE=new r.s("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.X)(o)}});let qE=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.o,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.ec(BE,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(BE,8))},token:t,providedIn:"root"}),t})(),zE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})();const HE=new r.R("11.2.13");function WE(t,e){if(1&t&&r.Sb(0,"mat-pseudo-checkbox",4),2&t){const t=r.lc();r.rc("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function GE(t,e){if(1&t&&(r.Xb(0,"span",5),r.Gc(1),r.Wb()),2&t){const t=r.lc();r.Eb(1),r.Ic("(",t.group.label,")")}}const $E=["*"],KE=new r.R("11.2.13"),XE=new r.s("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let QE,YE=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.Y)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&KE.full!==HE.full&&console.warn("The Angular Material version ("+KE.full+") does not match the Angular CDK version ("+HE.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.ec(VE),r.ec(XE,8),r.ec(o))},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[zE],zE]}),t})();function ZE(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=uE(t)}}}function JE(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function tS(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=uE(t)}}}function eS(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?lE(t):this.defaultTabIndex}}}function nS(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new ng.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{QE="undefined"!=typeof Intl}catch(IR){QE=!1}let rS=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),iS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),t})();function sS(t,e,n){const r=t.nativeElement.classList;n?r.add(e):r.remove(e)}let oS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[YE],YE]}),t})();class aS{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const cS={enterDuration:450,exitDuration:400},uS=vE({passive:!0}),lS=["mousedown","touchstart"],hS=["mouseup","mouseleave","touchend","touchcancel"];class dS{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=fE(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},cS),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,c=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=o-s+"px",u.style.top=a-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const l=new aS(this,u,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},c),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},cS),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=fE(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(lS))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(hS),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=AE(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!RE(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,uS)})})}_removeTriggerEvents(){this._triggerElement&&(lS.forEach(t=>{this._triggerElement.removeEventListener(t,this,uS)}),this._pointerUpEventsRegistered&&hS.forEach(t=>{this._triggerElement.removeEventListener(t,this,uS)}))}}const fS=new r.s("mat-ripple-global-options");let pS=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new dS(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.B),r.Rb(yE),r.Rb(fS,8),r.Rb(tE,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),mS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[YE,bE],YE]}),t})(),gS=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(tE,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&r.Jb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),yS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[YE]]}),t})();const bS=new r.s("MAT_OPTION_PARENT_COMPONENT");class vS{}const _S=ZE(vS);let wS=0,ES=(()=>{class t extends _S{constructor(t){var e;super(),this._labelId="mat-optgroup-label-"+wS++,this._inert=null!==(e=null==t?void 0:t.inertGroups)&&void 0!==e&&e}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(bS,8))},t.\u0275dir=r.Mb({type:t,inputs:{label:"label"},features:[r.Bb]}),t})();const SS=new r.s("MatOptgroup");let CS=0;class OS{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let xS=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+CS++,this.onSelectionChange=new r.o,this._stateChanges=new ng.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=uE(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||iE(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new OS(this,t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.h),r.Rb(void 0),r.Rb(ES))},t.\u0275dir=r.Mb({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),kS=(()=>{class t extends xS{constructor(t,e,n,r){super(t,e,n,r)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.h),r.Rb(bS,8),r.Rb(SS,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&r.hc("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(r.ac("id",e.id),r.Fb("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),r.Jb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[r.Bb],ngContentSelectors:$E,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,e){1&t&&(r.qc(),r.Ec(0,WE,1,2,"mat-pseudo-checkbox",0),r.Xb(1,"span",1),r.pc(2),r.Wb(),r.Ec(3,GE,2,1,"span",2),r.Sb(4,"div",3)),2&t&&(r.rc("ngIf",e.multiple),r.Eb(3),r.rc("ngIf",e.group&&e.group._inert),r.Eb(1),r.rc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[ut,pS,gS],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function TS(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),s=0;for(let e=0;e<t+1;e++)r[e].group&&r[e].group===i[s]&&s++;return s}return 0}let IS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[mS,Ct,YE,yS]]}),t})();const AS=["*",[["mat-card-footer"]]],RS=["*","mat-card-footer"],DS=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],jS=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let PS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),NS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),LS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),t})(),FS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),t})(),MS=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(tE,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:RS,decls:2,vars:0,template:function(t,e){1&t&&(r.qc(AS),r.pc(0),r.pc(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),VS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:jS,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(r.qc(DS),r.pc(0),r.Xb(1,"div",0),r.pc(2,1),r.Wb(),r.pc(3,2))},encapsulation:2,changeDetection:0}),t})(),US=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[YE],YE]}),t})();const BS=["primaryValueBar"];class qS{constructor(t){this._elementRef=t}}const zS=JE(qS,"primary"),HS=new r.s("mat-progress-bar-location",{providedIn:"root",factory:function(){const t=Object(r.X)(o),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}});let WS=0,GS=(()=>{class t extends zS{constructor(t,e,n,i){super(t),this._elementRef=t,this._ngZone=e,this._animationMode=n,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new r.o,this._animationEndSubscription=ug.a.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+WS++;const s=i?i.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${s}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===n}get value(){return this._value}set value(t){this._value=$S(lE(t)||0)}get bufferValue(){return this._bufferValue}set bufferValue(t){this._bufferValue=$S(t||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=this._primaryValueBar.nativeElement;this._animationEndSubscription=ry(t,"transitionend").pipe(Oe(e=>e.target===t)).subscribe(()=>{"determinate"!==this.mode&&"buffer"!==this.mode||this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.B),r.Rb(tE,8),r.Rb(HS,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-progress-bar"]],viewQuery:function(t,e){if(1&t&&r.Kc(BS,1),2&t){let t;r.yc(t=r.ic())&&(e._primaryValueBar=t.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(t,e){2&t&&(r.Fb("aria-valuenow","indeterminate"===e.mode||"query"===e.mode?null:e.value)("mode",e.mode),r.Jb("_mat-animation-noopable",e._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[r.Bb],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.kc(),r.Xb(1,"svg",1),r.Xb(2,"defs"),r.Xb(3,"pattern",2),r.Sb(4,"circle",3),r.Wb(),r.Wb(),r.Sb(5,"rect",4),r.Wb(),r.jc(),r.Sb(6,"div",5),r.Sb(7,"div",6,7),r.Sb(9,"div",8),r.Wb()),2&t&&(r.Eb(3),r.rc("id",e.progressbarId),r.Eb(2),r.Fb("fill",e._rectangleFillValue),r.Eb(1),r.rc("ngStyle",e._bufferTransform()),r.Eb(1),r.rc("ngStyle",e._primaryTransform()))},directives:[gt],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),t})();function $S(t,e=0,n=100){return Math.max(e,Math.min(n,t))}let KS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Ct,YE],YE]}),t})();const XS=["mat-button",""],QS=["*"],YS=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class ZS{constructor(t){this._elementRef=t}}const JS=JE(ZE(tS(ZS)));let tC=(()=>{class t extends JS{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of YS)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(PE),r.Rb(tE,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.Kc(pS,1),2&t){let t;r.yc(t=r.ic())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Fb("disabled",e.disabled||null),r.Jb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.Bb],attrs:XS,ngContentSelectors:QS,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.qc(),r.Xb(0,"span",0),r.pc(1),r.Wb(),r.Sb(2,"span",1),r.Sb(3,"span",2)),2&t&&(r.Eb(2),r.Jb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.rc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[pS],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),eC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[mS,YE],YE]}),t})();class nC{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ng.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let rC=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=uE(t)}get inset(){return this._inset}set inset(t){this._inset=uE(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Fb("aria-orientation",e.vertical?"vertical":"horizontal"),r.Jb("mat-divider-vertical",e.vertical)("mat-divider-horizontal",!e.vertical)("mat-divider-inset",e.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,e){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),t})(),iC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[YE],YE]}),t})();const sC=["*"],oC=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],aC=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"];class cC{}const uC=ZE(tS(cC));class lC{}const hC=tS(lC),dC=new r.s("MatList"),fC=new r.s("MatNavList");let pC=(()=>{class t extends uC{constructor(t){super(),this._elementRef=t,this._stateChanges=new ng.a,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[r.Db([{provide:dC,useExisting:t}]),r.Bb,r.Cb],ngContentSelectors:sC,decls:1,vars:0,template:function(t,e){1&t&&(r.qc(),r.pc(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})(),mC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),t})(),gC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),t})(),yC=(()=>{class t extends hC{constructor(t,e,n,r){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new ng.a,this._disabled=!1,this._isInteractiveList=!!(n||r&&"action-list"===r._getListType()),this._list=n||r;const i=this._getHostElement();"button"!==i.nodeName.toLowerCase()||i.hasAttribute("type")||i.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(xy(this._destroyed)).subscribe(()=>{e.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=uE(t)}ngAfterContentInit(){!function(t,e,n="mat"){t.changes.pipe(fe(t)).subscribe(({length:t})=>{sS(e,`${n}-2-line`,!1),sS(e,`${n}-3-line`,!1),sS(e,`${n}-multi-line`,!1),2===t||3===t?sS(e,`${n}-${t}-line`,!0):t>3&&sS(e,`${n}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.h),r.Rb(fC,8),r.Rb(dC,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,mC,1),r.Kb(n,gC,1),r.Kb(n,iS,1)),2&t){let t;r.yc(t=r.ic())&&(e._avatar=t.first),r.yc(t=r.ic())&&(e._icon=t.first),r.yc(t=r.ic())&&(e._lines=t)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,e){2&t&&r.Jb("mat-list-item-disabled",e.disabled)("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[r.Bb],ngContentSelectors:aC,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,e){1&t&&(r.qc(oC),r.Xb(0,"div",0),r.Sb(1,"div",1),r.pc(2),r.Xb(3,"div",2),r.pc(4,1),r.Wb(),r.pc(5,2),r.Wb()),2&t&&(r.Eb(1),r.rc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[pS],encapsulation:2,changeDetection:0}),t})(),bC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[oS,mS,YE,yS,Ct],oS,YE,yS,iC]}),t})();const vC=["underline"],_C=["connectionContainer"],wC=["inputContainer"],EC=["label"];function SC(t,e){1&t&&(r.Vb(0),r.Xb(1,"div",14),r.Sb(2,"div",15),r.Sb(3,"div",16),r.Sb(4,"div",17),r.Wb(),r.Xb(5,"div",18),r.Sb(6,"div",15),r.Sb(7,"div",16),r.Sb(8,"div",17),r.Wb(),r.Ub())}function CC(t,e){1&t&&(r.Xb(0,"div",19),r.pc(1,1),r.Wb())}function OC(t,e){if(1&t&&(r.Vb(0),r.pc(1,2),r.Xb(2,"span"),r.Gc(3),r.Wb(),r.Ub()),2&t){const t=r.lc(2);r.Eb(3),r.Hc(t._control.placeholder)}}function xC(t,e){1&t&&r.pc(0,3,["*ngSwitchCase","true"])}function kC(t,e){1&t&&(r.Xb(0,"span",23),r.Gc(1," *"),r.Wb())}function TC(t,e){if(1&t){const t=r.Yb();r.Xb(0,"label",20,21),r.hc("cdkObserveContent",function(){return r.Ac(t),r.lc().updateOutlineGap()}),r.Ec(2,OC,4,1,"ng-container",12),r.Ec(3,xC,1,0,"ng-content",12),r.Ec(4,kC,2,0,"span",22),r.Wb()}if(2&t){const t=r.lc();r.Jb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.rc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.Fb("for",t._control.id)("aria-owns",t._control.id),r.Eb(2),r.rc("ngSwitchCase",!1),r.Eb(1),r.rc("ngSwitchCase",!0),r.Eb(1),r.rc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function IC(t,e){1&t&&(r.Xb(0,"div",24),r.pc(1,4),r.Wb())}function AC(t,e){if(1&t&&(r.Xb(0,"div",25,26),r.Sb(2,"span",27),r.Wb()),2&t){const t=r.lc();r.Eb(2),r.Jb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function RC(t,e){if(1&t&&(r.Xb(0,"div"),r.pc(1,5),r.Wb()),2&t){const t=r.lc();r.rc("@transitionMessages",t._subscriptAnimationState)}}function DC(t,e){if(1&t&&(r.Xb(0,"div",31),r.Gc(1),r.Wb()),2&t){const t=r.lc(2);r.rc("id",t._hintLabelId),r.Eb(1),r.Hc(t.hintLabel)}}function jC(t,e){if(1&t&&(r.Xb(0,"div",28),r.Ec(1,DC,2,2,"div",29),r.pc(2,6),r.Sb(3,"div",30),r.pc(4,7),r.Wb()),2&t){const t=r.lc();r.rc("@transitionMessages",t._subscriptAnimationState),r.Eb(1),r.rc("ngIf",t.hintLabel)}}const PC=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],NC=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],LC=new r.s("MatError"),FC={transitionMessages:vv("transitionMessages",[Sv("enter",Ev({opacity:1,transform:"translateY(0%)"})),Cv("void => enter",[Ev({opacity:0,transform:"translateY(-5px)"}),_v("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let MC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t}),t})();const VC=new r.s("MatHint");let UC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["mat-label"]]}),t})(),BC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["mat-placeholder"]]}),t})();const qC=new r.s("MatPrefix"),zC=new r.s("MatSuffix");let HC=0;class WC{constructor(t){this._elementRef=t}}const GC=JE(WC,"primary"),$C=new r.s("MAT_FORM_FIELD_DEFAULT_OPTIONS"),KC=new r.s("MatFormField");let XC=(()=>{class t extends GC{constructor(t,e,n,r,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ng.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+HC++,this._labelId="mat-form-field-label-"+HC++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=uE(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(fe(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(xy(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(xy(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(rg.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(fe(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(fe(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(xy(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,ry(this._label.nativeElement,"transitionend").pipe(bg(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let c=0;for(let t=0;t<o.length;t++)c+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=c>0?.75*c+10:0}for(let o=0;o<i.length;o++)i[o].style.width=`${e}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.h),r.Rb(r.l),r.Rb(qE,8),r.Rb($C,8),r.Rb(yE),r.Rb(r.B),r.Rb(tE,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,MC,1),r.Kb(n,MC,3),r.Kb(n,UC,1),r.Kb(n,UC,3),r.Kb(n,BC,1),r.Kb(n,LC,1),r.Kb(n,VC,1),r.Kb(n,qC,1),r.Kb(n,zC,1)),2&t){let t;r.yc(t=r.ic())&&(e._controlNonStatic=t.first),r.yc(t=r.ic())&&(e._controlStatic=t.first),r.yc(t=r.ic())&&(e._labelChildNonStatic=t.first),r.yc(t=r.ic())&&(e._labelChildStatic=t.first),r.yc(t=r.ic())&&(e._placeholderChild=t.first),r.yc(t=r.ic())&&(e._errorChildren=t),r.yc(t=r.ic())&&(e._hintChildren=t),r.yc(t=r.ic())&&(e._prefixChildren=t),r.yc(t=r.ic())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(r.Kc(vC,1),r.Kc(_C,3),r.Kc(wC,1),r.Kc(EC,1)),2&t){let t;r.yc(t=r.ic())&&(e.underlineRef=t.first),r.yc(t=r.ic())&&(e._connectionContainerRef=t.first),r.yc(t=r.ic())&&(e._inputContainerRef=t.first),r.yc(t=r.ic())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,e){2&t&&r.Jb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Db([{provide:KC,useExisting:t}]),r.Bb],ngContentSelectors:NC,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.qc(PC),r.Xb(0,"div",0),r.Xb(1,"div",1,2),r.hc("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),r.Ec(3,SC,9,0,"ng-container",3),r.Ec(4,CC,2,0,"div",4),r.Xb(5,"div",5,6),r.pc(7),r.Xb(8,"span",7),r.Ec(9,TC,5,16,"label",8),r.Wb(),r.Wb(),r.Ec(10,IC,2,0,"div",9),r.Wb(),r.Ec(11,AC,3,4,"div",10),r.Xb(12,"div",11),r.Ec(13,RC,2,1,"div",12),r.Ec(14,jC,5,2,"div",13),r.Wb(),r.Wb()),2&t&&(r.Eb(3),r.rc("ngIf","outline"==e.appearance),r.Eb(1),r.rc("ngIf",e._prefixChildren.length),r.Eb(5),r.rc("ngIf",e._hasFloatingLabel()),r.Eb(1),r.rc("ngIf",e._suffixChildren.length),r.Eb(1),r.rc("ngIf","outline"!=e.appearance),r.Eb(1),r.rc("ngSwitch",e._getDisplayedMessages()),r.Eb(1),r.rc("ngSwitchCase","error"),r.Eb(1),r.rc("ngSwitchCase","hint"))},directives:[ut,ft,pt,CE],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[FC.transitionMessages]},changeDetection:0}),t})(),QC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Ct,YE,OE],YE]}),t})();n("3N8a"),n("IjjT"),n("7Hc7");class YC{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new ZC(t,this.durationSelector))}}class ZC extends ig.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(ig.c)(n,new ig.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function JC(t,e=oe.a){return n=()=>oy(t,e),function(t){return t.lift(new YC(n))};var n}let tO=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new ng.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ae.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(JC(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(ue.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Oe(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=fE(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ry(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.B),r.ec(yE),r.ec(o,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(r.B),Object(r.ec)(yE),Object(r.ec)(o,8))},token:t,providedIn:"root"}),t})(),eO=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new ng.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(JC(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.ec(yE),r.ec(r.B),r.ec(o,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(yE),Object(r.ec)(r.B),Object(r.ec)(o,8))},token:t,providedIn:"root"}),t})(),nO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})(),rO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[zE,bE,nO],zE,nO]}),t})();class iO{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class sO extends iO{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class oO extends iO{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class aO extends iO{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class cO extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof sO?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof oO?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof aO?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let uO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})();class lO{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new hO(t,this.predicate,this.inclusive))}}class hO extends pe.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}const dO=_E();class fO{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=dE(-this._previousScrollPosition.left),t.style.top=dE(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),dO&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),dO&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class pO{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class mO{enable(){}disable(){}attach(){}}function gO(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function yO(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class bO{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();gO(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let vO=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new mO,this.close=t=>new pO(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new fO(this._viewportRuler,this._document),this.reposition=t=>new bO(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.ec(tO),r.ec(eO),r.ec(r.B),r.ec(o))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(tO),Object(r.ec)(eO),Object(r.ec)(r.B),Object(r.ec)(o))},token:t,providedIn:"root"}),t})();class _O{constructor(t){if(this.scrollStrategy=new mO,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class wO{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class EO{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let SO=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(o))},token:t,providedIn:"root"}),t})(),CO=(()=>{class t extends SO{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(o))},token:t,providedIn:"root"}),t})(),OO=(()=>{class t extends SO{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){if(super.add(t),!this._isAttached){const t=this._document.body;t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o),r.ec(yE))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(o),Object(r.ec)(yE))},token:t,providedIn:"root"}),t})();const xO=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let kO=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||xO){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),xO?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o),r.ec(yE))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(o),Object(r.ec)(yE))},token:t,providedIn:"root"}),t})();class TO{constructor(t,e,n,r,i,s,o,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new ng.a,this._attachments=new ng.a,this._detachments=new ng.a,this._locationChanges=ug.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new ng.a,this._outsidePointerEvents=new ng.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(bg(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=dE(this._config.width),t.height=dE(this._config.height),t.minWidth=dE(this._config.minWidth),t.minHeight=dE(this._config.minHeight),t.maxWidth=dE(this._config.maxWidth),t.maxHeight=dE(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;hE(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(xy(Object(rg.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const IO="cdk-overlay-connected-position-bounding-box",AO=/([A-Za-z%]+)$/;class RO{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ng.a,this._resizeSubscription=ug.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(IO),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),c=this._getOverlayFit(a,e,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&DO(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(IO),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=PO(e);let{x:s,y:o}=t,a=this._getOffset(r,"x"),c=this._getOffset(r,"y");a&&(s+=a),c&&(o+=c);let u=0-o,l=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,u,l),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=jO(this._overlayRef.getConfig().minHeight),o=jO(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=PO(e),i=this._viewportRect,s=Math.max(t.x+r.width-i.width,0),o=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),c=Math.max(i.left-n.left-t.x,0);let u=0,l=0;return u=r.width<=i.width?c||-s:t.x<this._viewportMargin?i.left-n.left-t.x:0,l=r.height<=i.height?a||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:u,y:l},{x:t.x+u,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new EO(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,c,u;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:s,left:c,bottom:o,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=dE(n.height),r.top=dE(n.top),r.bottom=dE(n.bottom),r.width=dE(n.width),r.left=dE(n.left),r.right=dE(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=dE(t)),i&&(r.maxWidth=dE(i))}this._lastBoundingBoxSize=n,DO(this._boundingBox.style,r)}_resetBoundingBoxStyles(){DO(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){DO(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();DO(n,this._getExactOverlayY(e,t,r)),DO(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=dE(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=dE(s.maxWidth):i&&(n.maxWidth="")),DO(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=dE(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=dE(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:yO(t,n),isOriginOutsideView:gO(t,n),isOverlayClipped:yO(e,n),isOverlayOutsideView:gO(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&hE(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function DO(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function jO(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(AO);return n&&"px"!==n?null:parseFloat(e)}return t||null}function PO(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class NO{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new RO(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new wO(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const LO="cdk-global-overlay-wrapper";class FO{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(LO),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(LO),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let MO=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new FO}connectedTo(t,e,n){return new NO(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new RO(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(eO),r.ec(o),r.ec(yE),r.ec(kO))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(eO),Object(r.ec)(o),Object(r.ec)(yE),Object(r.ec)(kO))},token:t,providedIn:"root"}),t})(),VO=0,UO=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=u,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new _O(t);return i.direction=i.direction||this._directionality.value,new TO(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+VO++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new cO(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(vO),r.ec(kO),r.ec(r.j),r.ec(MO),r.ec(CO),r.ec(r.t),r.ec(r.B),r.ec(o),r.ec(qE),r.ec(w),r.ec(OO))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const BO=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],qO=new r.s("cdk-connected-overlay-scroll-strategy");let zO=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),HO=(()=>{class t{constructor(t,e,n,i,s){this._overlay=t,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ug.a.EMPTY,this._attachSubscription=ug.a.EMPTY,this._detachSubscription=ug.a.EMPTY,this._positionSubscription=ug.a.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new r.o,this.positionChange=new r.o,this.attach=new r.o,this.detach=new r.o,this.overlayKeydown=new r.o,this.overlayOutsideClick=new r.o,this._templatePortal=new oO(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=uE(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=uE(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=uE(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=uE(t)}get push(){return this._push}set push(t){this._push=uE(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=BO);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||this.disableClose||iE(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new _O({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new lO(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(UO),r.Rb(r.N),r.Rb(r.S),r.Rb(qO),r.Rb(qE,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[r.Cb]}),t})();const WO={provide:qO,deps:[UO],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let GO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:[UO,WO],imports:[[zE,uO,rO],rO]}),t})();function $O(t){return new ae.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(ce.a)(n):Object(yg.b)()).subscribe(e)})}const KO=["trigger"],XO=["panel"];function QO(t,e){if(1&t&&(r.Xb(0,"span",8),r.Gc(1),r.Wb()),2&t){const t=r.lc();r.Eb(1),r.Hc(t.placeholder)}}function YO(t,e){if(1&t&&(r.Xb(0,"span",12),r.Gc(1),r.Wb()),2&t){const t=r.lc(2);r.Eb(1),r.Hc(t.triggerValue)}}function ZO(t,e){1&t&&r.pc(0,0,["*ngSwitchCase","true"])}function JO(t,e){if(1&t&&(r.Xb(0,"span",9),r.Ec(1,YO,2,1,"span",10),r.Ec(2,ZO,1,0,"ng-content",11),r.Wb()),2&t){const t=r.lc();r.rc("ngSwitch",!!t.customTrigger),r.Eb(2),r.rc("ngSwitchCase",!0)}}function tx(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",13),r.Xb(1,"div",14,15),r.hc("@transformPanel.done",function(e){return r.Ac(t),r.lc()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return r.Ac(t),r.lc()._handleKeydown(e)}),r.pc(3,1),r.Wb(),r.Wb()}if(2&t){const t=r.lc();r.rc("@transformPanelWrap",void 0),r.Eb(1),r.Hb("mat-select-panel ",t._getPanelTheme(),""),r.Dc("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),r.rc("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),r.Fb("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const ex=[[["mat-select-trigger"]],"*"],nx=["mat-select-trigger","*"],rx={transformPanelWrap:vv("transformPanelWrap",[Cv("* => void",xv("@transformPanel",[Ov()],{optional:!0}))]),transformPanel:vv("transformPanel",[Sv("void",Ev({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Sv("showing",Ev({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Sv("showing-multiple",Ev({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Cv("void => *",_v("120ms cubic-bezier(0, 0, 0.2, 1)")),Cv("* => void",_v("100ms 25ms linear",Ev({opacity:0})))])};let ix=0;const sx=256,ox=new r.s("mat-select-scroll-strategy"),ax=new r.s("MAT_SELECT_CONFIG"),cx={provide:ox,deps:[UO],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class ux{constructor(t,e){this.source=t,this.value=e}}class lx{constructor(t,e,n,r,i){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}}const hx=tS(eS(ZE(nS(lx)))),dx=new r.s("MatSelectTrigger");let fx=(()=>{class t extends hx{constructor(t,e,n,i,s,o,a,c,u,l,h,d,f,p){var m,g,y;super(s,i,a,c,l),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=o,this._parentFormField=u,this.ngControl=l,this._liveAnnouncer=f,this._defaultOptions=p,this._panelOpen=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+ix++,this._triggerAriaLabelledBy=null,this._destroy=new ng.a,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+ix++,this._panelDoneAnimatingStream=new ng.a,this._overlayPanelClass=(null===(m=this._defaultOptions)||void 0===m?void 0:m.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(y=null===(g=this._defaultOptions)||void 0===g?void 0:g.disableOptionCentering)&&void 0!==y&&y,this.ariaLabel="",this.optionSelectionChanges=$O(()=>{const t=this.options;return t?t.changes.pipe(fe(t),sg(()=>Object(rg.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(bg(1),sg(()=>this.optionSelectionChanges))}),this.openedChange=new r.o,this._openedStream=this.openedChange.pipe(Oe(t=>t),Object(be.a)(()=>{})),this._closedStream=this.openedChange.pipe(Oe(t=>!t),Object(be.a)(()=>{})),this.selectionChange=new r.o,this.valueChange=new r.o,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==p?void 0:p.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=p.typeaheadDebounceInterval),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=uE(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=uE(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=uE(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=lE(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new nC(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Ee(),xy(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(xy(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(fe(null),xy(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,r=13===e||32===e,i=this._keyManager;if(!i.isTyping()&&r&&!iE(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;i.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,r=40===n||38===n,i=e.isTyping();if(r&&t.altKey)t.preventDefault(),this.close();else if(i||13!==n&&32!==n||!e.activeItem||iE(t))if(!i&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&r&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(bg(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(t=>this._selectValue(t)),this._sortValues();else{const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{if(this._selectionModel.isSelected(e))return!1;try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new xE(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(xy(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(xy(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(rg.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(xy(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(rg.a)(...this.options.map(t=>t._stateChanges)).pipe(xy(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(eO),r.Rb(r.h),r.Rb(r.B),r.Rb(rS),r.Rb(r.l),r.Rb(qE,8),r.Rb(Eb,8),r.Rb(Ob,8),r.Rb(KC,8),r.Rb(Yy,10),r.fc("tabindex"),r.Rb(ox),r.Rb(IE),r.Rb(ax,8))},t.\u0275dir=r.Mb({type:t,viewQuery:function(t,e){if(1&t&&(r.Kc(KO,1),r.Kc(XO,1),r.Kc(HO,1)),2&t){let t;r.yc(t=r.ic())&&(e.trigger=t.first),r.yc(t=r.ic())&&(e.panel=t.first),r.yc(t=r.ic())&&(e.overlayDir=t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[r.Bb,r.Cb]}),t})(),px=(()=>{class t extends fx{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,e,n){const r=this._getItemHeight();return Math.min(Math.max(0,r*t-e+r/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(xy(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(bg(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const e=TS(t,this.options,this.optionGroups),n=this._getItemHeight();var r,i,s;this.panel.nativeElement.scrollTop=(i=n,(r=(t+e)*n)<(s=this.panel.nativeElement.scrollTop)?r:r+i>s+256?Math.max(0,r-256+i):s)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new ux(this,t)}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),r=this.multiple?56:32;let i;if(this.multiple)i=40;else if(this.disableOptionCentering)i=16;else{let t=this._selectionModel.selected[0]||this.options.first;i=t&&t.group?32:16}n||(i*=-1);const s=0-(t.left+i-(n?r:0)),o=t.right+i-e.width+(n?0:r);s>0?i+=s+8:o>0&&(i-=o+8),this.overlayDir.offsetX=Math.round(i),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const r=this._getItemHeight(),i=(r-this._triggerRect.height)/2,s=Math.floor(sx/r);let o;return this.disableOptionCentering?0:(o=0===this._scrollTop?t*r:this._scrollTop===n?(t-(this._getItemCount()-s))*r+(r-(this._getItemCount()*r-sx)%r):e-r/2,Math.round(-1*o-i))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,sx)-s-this._triggerRect.height;o>i?this._adjustPanelUp(o,i):s>r?this._adjustPanelDown(s,r,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const r=Math.round(t-e);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,sx),r=e*t-n;let i;i=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),i+=TS(i,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(i,s,r),this._offsetY=this._calculateOverlayOffsetY(i,s,r),this._checkOverlayWithinViewport(r)}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(e){return mx(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,dx,1),r.Kb(n,kS,1),r.Kb(n,SS,1)),2&t){let t;r.yc(t=r.ic())&&(e.customTrigger=t.first),r.yc(t=r.ic())&&(e.options=t),r.yc(t=r.ic())&&(e.optionGroups=t)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&r.hc("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(r.Fb("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),r.Jb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[r.Db([{provide:MC,useExisting:t},{provide:bS,useExisting:t}]),r.Bb],ngContentSelectors:nx,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(r.qc(ex),r.Xb(0,"div",0,1),r.hc("click",function(){return e.toggle()}),r.Xb(3,"div",2),r.Ec(4,QO,2,1,"span",3),r.Ec(5,JO,3,2,"span",4),r.Wb(),r.Xb(6,"div",5),r.Sb(7,"div",6),r.Wb(),r.Wb(),r.Ec(8,tx,4,14,"ng-template",7),r.hc("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=r.zc(1);r.Fb("aria-owns",e.panelOpen?e.id+"-panel":null),r.Eb(3),r.rc("ngSwitch",e.empty),r.Fb("id",e._valueId),r.Eb(1),r.rc("ngSwitchCase",!0),r.Eb(1),r.rc("ngSwitchCase",!1),r.Eb(3),r.rc("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[zO,ft,pt,HO,mt,st],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[rx.transformPanelWrap,rx.transformPanel]},changeDetection:0}),t})();const mx=r.Zb(px);let gx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:[cx],imports:[[Ct,GO,IS,YE],nO,QC,IS,YE]}),t})();function yx(t,e){if(1&t){const t=r.Yb();r.Xb(0,"mat-card"),r.Xb(1,"mat-card-title",4),r.Gc(2,"Empr\xe9stimo"),r.Wb(),r.Sb(3,"mat-progress-bar",5),r.Xb(4,"mat-card-content"),r.Xb(5,"div",6),r.Xb(6,"div",7),r.Gc(7," Vencimento: "),r.Wb(),r.Xb(8,"div",7),r.Gc(9),r.mc(10,"date"),r.Wb(),r.Xb(11,"div",8),r.Gc(12),r.Wb(),r.Wb(),r.Wb(),r.Xb(13,"mat-card-content"),r.Xb(14,"div",6),r.Xb(15,"div",7),r.Xb(16,"mat-card"),r.Xb(17,"div",7),r.Xb(18,"div",6),r.Xb(19,"button",9),r.Gc(20),r.Wb(),r.Wb(),r.Xb(21,"div",6),r.Xb(22,"button",10),r.hc("click",function(){r.Ac(t);const e=r.lc().$implicit;return r.lc().pagarUmaParcela(e)}),r.Gc(23," Pagar "),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(24,"div",7),r.Xb(25,"mat-card"),r.Xb(26,"div",7),r.Xb(27,"div",6),r.Xb(28,"button",9),r.Gc(29),r.Wb(),r.Wb(),r.Xb(30,"div",6),r.Xb(31,"button",10),r.hc("click",function(){r.Ac(t);const e=r.lc().$implicit;return r.lc().quitarEmprestimo(e)}),r.Gc(32," Quitar "),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=r.lc().$implicit;r.Eb(3),r.sc("value",t.parcelasPagas/t.numeroDeParcelas*100),r.Eb(6),r.Ic(" ",r.oc(10,6,t.parcelas[t.parcelasPagas].dataVencimento,"dd/MM/yyyy")," "),r.Eb(3),r.Jc(" (",t.parcelasPagas," / ",t.numeroDeParcelas,") "),r.Eb(8),r.Ic(" R$: ",t.parcelas[t.parcelasPagas].valorParcelas," "),r.Eb(9),r.Ic(" R$: ",((t.numeroDeParcelas-t.parcelasPagas)*t.parcelas[t.parcelasPagas].valorParcelas).toFixed(2)," ")}}function bx(t,e){if(1&t&&(r.Xb(0,"div",0),r.Ec(1,yx,33,9,"mat-card",3),r.Wb()),2&t){const t=e.$implicit;r.Eb(1),r.rc("ngIf",t.pendencia)}}function vx(t,e){if(1&t){const t=r.Yb();r.Xb(0,"mat-option",17),r.hc("click",function(){r.Ac(t);const n=e.$implicit,i=r.lc(2).$implicit;return r.lc().calcularValorTotal(n,i)}),r.Gc(1),r.Wb()}if(2&t){const t=e.$implicit;r.rc("value",t.value),r.Eb(1),r.Ic(" ",t.viewValue," ")}}function _x(t,e){if(1&t&&(r.Xb(0,"mat-list-item"),r.Gc(1),r.mc(2,"date"),r.Wb()),2&t){const t=r.lc(3);r.Eb(1),r.Ic("Data da Primeira Parcela: ",r.nc(2,1,t.vencimentoPrimeiraParcela),"")}}function wx(t,e){if(1&t&&(r.Xb(0,"mat-list-item"),r.Gc(1),r.Wb()),2&t){const t=r.lc(3);r.Eb(1),r.Ic("Valor Total: ",t.valorTotal,"")}}function Ex(t,e){if(1&t){const t=r.Yb();r.Xb(0,"mat-card"),r.Xb(1,"mat-card-title"),r.Gc(2),r.Wb(),r.Xb(3,"mat-card-subtitle"),r.Gc(4),r.Wb(),r.Xb(5,"mat-card-content"),r.Xb(6,"mat-list"),r.Xb(7,"mat-list-item"),r.Xb(8,"mat-form-field",14),r.Xb(9,"mat-label"),r.Gc(10,"Parcelas"),r.Wb(),r.Xb(11,"mat-select"),r.Ec(12,vx,2,2,"mat-option",15),r.Wb(),r.Wb(),r.Wb(),r.Ec(13,_x,3,3,"mat-list-item",3),r.Sb(14,"mat-divider"),r.Ec(15,wx,2,1,"mat-list-item",3),r.Sb(16,"mat-divider"),r.Wb(),r.Wb(),r.Xb(17,"mat-card-content",11),r.Xb(18,"button",16),r.hc("click",function(){return e.$implicit.close()}),r.Gc(19," Fechar "),r.Wb(),r.Xb(20,"button",12),r.hc("click",function(){r.Ac(t);const e=r.lc().$implicit;return r.lc().contratarEmprestimo(e)})("click",function(){return e.$implicit.close()}),r.Gc(21," Contratar "),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=r.lc().$implicit,e=r.lc();r.Eb(2),r.Ic("",t.valor," reais"),r.Eb(2),r.Ic("taxa ",t.taxa," a.m."),r.Eb(8),r.rc("ngForOf",e.parcelasEmprestimoOferecido),r.Eb(1),r.rc("ngIf",e.vencimentoPrimeiraParcela),r.Eb(2),r.rc("ngIf",e.valorTotal)}}function Sx(t,e){if(1&t){const t=r.Yb();r.Xb(0,"mat-card",0),r.Xb(1,"mat-card-title"),r.Gc(2),r.Wb(),r.Xb(3,"mat-card-subtitle"),r.Gc(4),r.Wb(),r.Xb(5,"mat-card-content",11),r.Xb(6,"button",12),r.hc("click",function(){r.Ac(t);const n=e.$implicit,i=r.zc(9);return r.lc().modalInformacoesEmprestimo(i,n)}),r.Gc(7," Saiba mais "),r.Wb(),r.Wb(),r.Ec(8,Ex,22,5,"ng-template",null,13,r.Fc),r.Wb()}if(2&t){const t=e.$implicit;r.Eb(2),r.Ic("",t.valor," reais"),r.Eb(2),r.Ic("taxa ",t.taxa," a.m.")}}let Cx=(()=>{class t{constructor(t,e){this.fsdb=t,this.modalService=e,this.numMaximoDeParcelas=24,this.vencimentoPrimeiraParcela=null,this.today=Date.now()}ngOnInit(){return Object(se.b)(this,void 0,void 0,function*(){this.emprestimosUsuario=this.fsdb.getEmprestimosDoUsuario(),this.emprestimos=this.fsdb.emprestimosDisponiveis(),this.usuario=yield this.fsdb.getFakeUser()})}modalInformacoesEmprestimo(t,e){this.vencimentoPrimeiraParcela=null,this.parcelasEmprestimoOferecido=[];for(let n=0;n<this.numMaximoDeParcelas;n++)this.parcelasEmprestimoOferecido[n]={value:n+1,viewValue:n+1+" x "+parseFloat((e.valor*Math.pow(1+e.taxa/100,n+1)/(n+1)).toFixed(2)),valorParcelas:parseFloat((e.valor*Math.pow(1+e.taxa/100,n+1)/(n+1)).toFixed(2))};this.valorTotal=0,this.modalService.open(t)}contratarEmprestimo(t){if(this.usuario.score>=t.scoreMinimo){t.parcelas=[],new Date;let e=new Date;for(let n=0;n<this.parcelaEscolhida.value;n++)t.parcelas[n]={valorParcelas:this.parcelaEscolhida.valorParcelas,dataVencimento:e.setMonth(e.getMonth()+1),dataPagamento:null},console.log(t.parcelas[n]);t.dataDaContrata\u00e7\u00e3o=this.today,t.parcelasPagas=0,t.numeroDeParcelas=this.parcelaEscolhida.value,t.valorTotal=this.valorTotal,t.pendencia=!0,this.fsdb.salvarEmprestimo(t)}else alert("Seu Score \xe9 abaixo do recomendado, tente outro empr\xe9stimo")}calcularValorTotal(t,e){let n=new Date;n.setMonth(n.getMonth()+1),this.vencimentoPrimeiraParcela=n,this.parcelaEscolhida=t,this.valorTotal=parseFloat((t.value*parseFloat((e.valor*Math.pow(1+e.taxa/100,t.value)/t.value).toFixed(2))).toFixed(2))}pagarUmaParcela(t){t.parcelas[t.parcelasPagas].dataPagamento=Date.now(),t.parcelasPagas++,t.parcelasPagas==t.numeroDeParcelas&&(t.pendencia=!1),this.fsdb.atualizarEmprestimo(t,"Parcela paga com sucesso!")}quitarEmprestimo(t){if(1==confirm("Deseja quitar o emprestimo?")){for(let e=0;e<t.parcelas.length;e++)t.parcelas[e].dataPagamento=Date.now();t.parcelasPagas=t.numeroDeParcelas,t.pendencia=!1,this.fsdb.atualizarEmprestimo(t,"Emprestimo quitado com sucesso!")}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(ty),r.Rb(iv))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-emprestimos"]],decls:8,vars:6,consts:[[1,"m-3"],["class","m-3",4,"ngFor","ngForOf"],["class","m-3 ",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"h5"],["mode","determinate",3,"value"],[1,"row"],[1,"col"],["align","right",1,"col"],["mat-button","","color","accent"],["mat-raised-button","","color","primary",1,"btn-block",3,"click"],["align","right"],["mat-raised-button","","color","accent",3,"click"],["informacoesEmprestimo",""],["appearance","outline"],[3,"value","click",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"m-3",3,"click"],[3,"value","click"]],template:function(t,e){1&t&&(r.Xb(0,"mat-card",0),r.Xb(1,"mat-card-content"),r.Xb(2,"mat-card-title"),r.Gc(3,"Empr\xe9stimos"),r.Wb(),r.Wb(),r.Wb(),r.Ec(4,bx,2,1,"div",1),r.mc(5,"async"),r.Ec(6,Sx,10,2,"mat-card",2),r.mc(7,"async")),2&t&&(r.Eb(4),r.rc("ngForOf",r.nc(5,2,e.emprestimosUsuario)),r.Eb(2),r.rc("ngForOf",r.nc(7,4,e.emprestimos)))},directives:[MS,PS,NS,at,ut,GS,tC,LS,pC,yC,XC,UC,px,rC,kS],pipes:[Et,St],styles:[""]}),t})();var Ox=n("EQ5u");function xx(t){return function(e){const n=new kx(t),r=e.lift(n);return n.caught=r}}class kx{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Tx(t,this.selector,this.caught))}}class Tx extends ig.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new ig.a(this);this.add(r);const i=Object(ig.c)(n,r);i!==r&&this.add(i)}}}function Ix(t,e){return Object(jy.a)(t,e,1)}function Ax(t){return function(e){return 0===t?Object(yg.b)():e.lift(new Rx(t))}}class Rx{constructor(t){if(this.total=t,this.total<0)throw new gg}call(t,e){return e.subscribe(new Dx(t,this.total))}}class Dx extends pe.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var jx=n("x+ZX");class Px{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Nx(t,this.callback))}}class Nx extends pe.a{constructor(t,e){super(t),this.add(new ug.a(e))}}class Lx{constructor(t,e){this.id=t,this.url=e}}class Fx extends Lx{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mx extends Lx{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vx extends Lx{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ux extends Lx{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bx extends Lx{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qx extends Lx{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zx extends Lx{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hx extends Lx{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wx extends Lx{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gx{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $x{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kx{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xx{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qx{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yx{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zx{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Jx="primary";class tk{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ek(t){return new tk(t)}function nk(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function rk(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ik(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!sk(t[i],e[i]))return!1;return!0}function sk(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function ok(t){return Array.prototype.concat.apply([],t)}function ak(t){return t.length>0?t[t.length-1]:null}function ck(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function uk(t){return Object(r.ub)(t)?t:Object(r.vb)(t)?Object(ce.a)(Promise.resolve(t)):Object(ue.a)(t)}function lk(t,e,n){return n?function(t,e){return ik(t,e)}(t.queryParams,e.queryParams)&&hk(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>sk(t[n],e[n]))}(t.queryParams,e.queryParams)&&dk(t.root,e.root)}function hk(t,e){if(!yk(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!hk(t.children[n],e.children[n]))return!1}return!0}function dk(t,e){return fk(t,e,e.segments)}function fk(t,e,n){if(t.segments.length>n.length)return!!yk(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!yk(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!dk(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!yk(t.segments,r)&&!!t.children.primary&&fk(t.children.primary,e,i)}}class pk{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ek(this.queryParams)),this._queryParamMap}toString(){return _k.serialize(this)}}class mk{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ck(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wk(this)}}class gk{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ek(this.parameters)),this._parameterMap}toString(){return Tk(this)}}function yk(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class bk{}class vk{parse(t){const e=new jk(t);return new pk(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Ek(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Ck(e)}=${Ck(t)}`).join("&"):`${Ck(e)}=${Ck(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const _k=new vk;function wk(t){return t.segments.map(t=>Tk(t)).join("/")}function Ek(t,e){if(!t.hasChildren())return wk(t);if(e){const e=t.children.primary?Ek(t.children.primary,!1):"",n=[];return ck(t.children,(t,e)=>{e!==Jx&&n.push(`${e}:${Ek(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return ck(t.children,(t,r)=>{r===Jx&&(n=n.concat(e(t,r)))}),ck(t.children,(t,r)=>{r!==Jx&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Jx?[Ek(t.children.primary,!1)]:[`${n}:${Ek(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${wk(t)}/${e[0]}`:`${wk(t)}/(${e.join("//")})`}}function Sk(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ck(t){return Sk(t).replace(/%3B/gi,";")}function Ok(t){return Sk(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xk(t){return decodeURIComponent(t)}function kk(t){return xk(t.replace(/\+/g,"%20"))}function Tk(t){return`${Ok(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Ok(t)}=${Ok(e[t])}`).join("")}`;var e}const Ik=/^[^\/()?;=#]+/;function Ak(t){const e=t.match(Ik);return e?e[0]:""}const Rk=/^[^=?&#]+/,Dk=/^[^?&#]+/;class jk{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mk([],{}):new mk([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new mk(t,e)),n}parseSegment(){const t=Ak(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new gk(xk(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ak(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Ak(this.remaining);t&&(n=t,this.capture(n))}t[xk(e)]=xk(n)}parseQueryParam(t){const e=function(t){const e=t.match(Rk);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Dk);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=kk(e),i=kk(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ak(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Jx);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new mk([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Pk{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Nk(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Nk(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Lk(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Lk(t,this._root).map(t=>t.value)}}function Nk(t,e){if(t===e.value)return e;for(const n of e.children){const e=Nk(t,n);if(e)return e}return null}function Lk(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Lk(t,n);if(r.length)return r.unshift(e),r}return[]}class Fk{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Mk(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Vk extends Pk{constructor(t,e){super(t),this.snapshot=e,Wk(this,t)}toString(){return this.snapshot.toString()}}function Uk(t,e){const n=function(t,e){const n=new zk([],{},{},"",{},Jx,e,null,t.root,-1,{});return new Hk("",new Fk(n,[]))}(t,e),r=new my([new gk("",{})]),i=new my({}),s=new my({}),o=new my({}),a=new my(""),c=new Bk(r,i,o,a,s,Jx,e,n.root);return c.snapshot=n.root,new Vk(new Fk(c,[]),n)}class Bk{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(be.a)(t=>ek(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(be.a)(t=>ek(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qk(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class zk{constructor(t,e,n,r,i,s,o,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ek(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ek(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hk extends Pk{constructor(t,e){super(e),this.url=t,Wk(this,e)}toString(){return Gk(this._root)}}function Wk(t,e){e.value._routerState=t,e.children.forEach(e=>Wk(t,e))}function Gk(t){const e=t.children.length>0?` { ${t.children.map(Gk).join(", ")} } `:"";return`${t.value}${e}`}function $k(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ik(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ik(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ik(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ik(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Kk(t,e){return ik(t.params,e.params)&&function(t,e){return yk(t,e)&&t.every((t,n)=>ik(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Kk(t.parent,e.parent))}function Xk(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Xk(t,e,r);return Xk(t,e)})}(t,e,n);return new Fk(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Qk(e,t),t}}const n=new Bk(new my((r=e.value).url),new my(r.params),new my(r.queryParams),new my(r.fragment),new my(r.data),r.outlet,r.component,r),i=e.children.map(e=>Xk(t,e));return new Fk(n,i)}var r}function Qk(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Qk(t.children[n],e.children[n])}function Yk(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Zk(t){return"object"==typeof t&&null!=t&&t.outlets}function Jk(t,e,n,r,i){let s={};return r&&ck(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new pk(n.root===t?e:tT(n.root,t,e),s,i)}function tT(t,e,n){const r={};return ck(t.children,(t,i)=>{r[i]=t===e?n:tT(t,e,n)}),new mk(t.segments,r)}class eT{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Yk(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Zk);if(r&&r!==ak(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nT{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function rT(t,e,n){if(t||(t=new mk([],{})),0===t.segments.length&&t.hasChildren())return iT(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Zk(o))break;const a=`${o}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!cT(a,c,e))return s;r+=2}else{if(!cT(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new mk(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new mk(t.segments.slice(r.pathIndex),t.children),iT(e,0,i)}return r.match&&0===i.length?new mk(t.segments,{}):r.match&&!t.hasChildren()?sT(t,e,n):r.match?iT(t,0,i):sT(t,e,n)}function iT(t,e,n){if(0===n.length)return new mk(t.segments,{});{const r=function(t){return Zk(t[0])?t[0].outlets:{[Jx]:t}}(n),i={};return ck(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=rT(t.children[r],e,n))}),ck(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new mk(t.segments,i)}}function sT(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Zk(s)){const t=oT(s.outlets);return new mk(r,t)}if(0===i&&Yk(n[0])){r.push(new gk(t.segments[e].path,aT(n[0]))),i++;continue}const o=Zk(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Yk(a)?(r.push(new gk(o,aT(a))),i+=2):(r.push(new gk(o,{})),i++)}return new mk(r,{})}function oT(t){const e={};return ck(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=sT(new mk([],{}),0,t))}),e}function aT(t){const e={};return ck(t,(t,n)=>e[n]=`${t}`),e}function cT(t,e,n){return t==n.path&&ik(e,n.parameters)}class uT{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),$k(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Mk(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),ck(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Mk(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Mk(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Yx(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Xx(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if($k(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),lT(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function lT(t){$k(t.value),t.children.forEach(lT)}class hT{constructor(t,e){this.routes=t,this.module=e}}function dT(t){return"function"==typeof t}function fT(t){return t instanceof pk}const pT=Symbol("INITIAL_VALUE");function mT(){return sg(t=>function(...t){let e,n;return Object(de.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(ey.a)(t[0])&&(t=t[0]),Object(cy.a)(t,n).lift(new yy(e))}(t.map(t=>t.pipe(bg(1),fe(pT)))).pipe(ve((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==pT)return t;if(r===pT&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||fT(r))return r}return t},t)},pT),Oe(t=>t!==pT),Object(be.a)(t=>fT(t)?t:!0===t),bg(1)))}let gT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Sb(0,"router-outlet")},directives:function(){return[cI]},encapsulation:2}),t})();function yT(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];bT(r,vT(e,r))}}function bT(t,e){t.children&&yT(t.children,e)}function vT(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function _T(t){const e=t.children&&t.children.map(_T),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Jx&&(n.component=gT),n}function wT(t){return t.outlet||Jx}function ET(t,e){const n=t.filter(t=>wT(t)===e);return n.push(...t.filter(t=>wT(t)!==e)),n}const ST={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function CT(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},ST):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||rk)(n,t,e);if(!i)return Object.assign({},ST);const s={};ck(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function OT(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>xT(t,e,n)&&wT(n)!==Jx)}(t,n,r)){const i=new mk(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&wT(s)!==Jx){const n=new mk([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[wT(s)]=n}return i}(t,e,r,new mk(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>xT(t,e,n))}(t,n,r)){const s=new mk(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(xT(t,n,a)&&!i[wT(a)]){const n=new mk([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[wT(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new mk(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function xT(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function kT(t,e,n,r){return!!(wT(t)===r||r!==Jx&&xT(e,n,t))&&("**"===t.path||CT(e,t,n).matched)}function TT(t,e,n){return 0===e.length&&!t.children[n]}class IT{constructor(t){this.segmentGroup=t||null}}class AT{constructor(t){this.urlTree=t}}function RT(t){return new ae.a(e=>e.error(new IT(t)))}function DT(t){return new ae.a(e=>e.error(new AT(t)))}function jT(t){return new ae.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class PT{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.z)}apply(){const t=OT(this.urlTree.root,[],[],this.config).segmentGroup,e=new mk(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Jx).pipe(Object(be.a)(t=>this.createUrlTree(NT(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xx(t=>{if(t instanceof AT)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof IT)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Jx).pipe(Object(be.a)(e=>this.createUrlTree(NT(e),t.queryParams,t.fragment))).pipe(xx(t=>{if(t instanceof IT)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new mk([],{[Jx]:t}):t;return new pk(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(be.a)(t=>new mk([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(ce.a)(r).pipe(Ix(r=>{const i=n.children[r],s=ET(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(be.a)(t=>({segment:t,outlet:r})))}),ve((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Oe((e,n)=>t(e,n,r)):Tg.a,Ax(1),n?wg(e):Cg(()=>new mg))}())}expandSegment(t,e,n,r,i,s){return Object(ce.a)(n).pipe(Ix(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(xx(t=>{if(t instanceof IT)return Object(ue.a)(null);throw t}))),Ig(t=>!!t),xx((t,n)=>{if(t instanceof mg||"EmptyError"===t.name){if(TT(e,r,i))return Object(ue.a)(new mk([],{}));throw new IT(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return kT(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):RT(e):RT(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?DT(i):this.lineralizeSegments(n,i).pipe(Object(jy.a)(n=>{const i=new mk(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:u}=CT(e,r,i);if(!o)return RT(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?DT(l):this.lineralizeSegments(r,l).pipe(Object(jy.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(ue.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(be.a)(t=>(n._loadedConfig=t,new mk(r,{})))):Object(ue.a)(new mk(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=CT(e,n,r);if(!s)return RT(e);const c=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(jy.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:u}=OT(e,o,c,s),l=new mk(a.segments,a.children);if(0===u.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object(be.a)(t=>new mk(o,t)));if(0===s.length&&0===u.length)return Object(ue.a)(new mk(o,{}));const h=wT(n)===i;return this.expandSegment(r,l,s,u,h?Jx:i,!0).pipe(Object(be.a)(t=>new mk(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(ue.a)(new hT(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(ue.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(jy.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(be.a)(t=>(e._loadedConfig=t,t))):function(t){return new ae.a(e=>e.error(nk(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(ue.a)(new hT([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(ue.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&dT(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!dT(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return uk(s)});return Object(ue.a)(i).pipe(mT(),Object(Iy.a)(t=>{if(!fT(t))return;const e=nk(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(be.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(ue.a)(n);if(r.numberOfChildren>1||!r.children.primary)return jT(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new pk(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return ck(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return ck(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new mk(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function NT(t){const e={};for(const n of Object.keys(t.children)){const r=NT(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new mk(t.segments.concat(e.segments),e.children)}return t}(new mk(t.segments,e))}class LT{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class FT{constructor(t,e){this.component=t,this.route=e}}function MT(t,e,n){const r=t._root;return UT(r,e?e._root:null,n,[r.value])}function VT(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function UT(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Mk(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!yk(t.url,e.url);case"pathParamsOrQueryParamsChange":return!yk(t.url,e.url)||!ik(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kk(t,e)||!ik(t.queryParams,e.queryParams);case"paramsChange":default:return!Kk(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new LT(r)):(s.data=o.data,s._resolvedData=o._resolvedData),UT(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new FT(a.outlet.component,o))}else o&&BT(e,a,i),i.canActivateChecks.push(new LT(r)),UT(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),ck(s,(t,e)=>BT(t,n.getContext(e),i)),i}function BT(t,e,n){const r=Mk(t),i=t.value;ck(r,(t,r)=>{BT(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new FT(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class qT{}function zT(t){return new ae.a(e=>e.error(t))}class HT{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=OT(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Jx);if(null===e)return null;const n=new zk([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Jx,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Fk(n,e),i=new Hk(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=qk(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=ET(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=GT(n);return r.sort((t,e)=>t.value.outlet===Jx?-1:e.value.outlet===Jx?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return TT(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!kT(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?ak(n).parameters:{};i=new zk(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,XT(t),wT(t),t.component,t,$T(e),KT(e)+n.length,QT(t))}else{const r=CT(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new zk(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,XT(t),wT(t),t.component,t,$T(e),KT(e)+s.length,QT(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=OT(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new Fk(i,t)]}if(0===a.length&&0===u.length)return[new Fk(i,[])];const l=wT(t)===r,h=this.processSegment(a,c,u,l?Jx:r);return null===h?null:[new Fk(i,h)]}}function WT(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function GT(t){const e=[],n=new Set;for(const r of t){if(!WT(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=GT(r.children);e.push(new Fk(r.value,t))}return e.filter(t=>!n.has(t))}function $T(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function KT(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function XT(t){return t.data||{}}function QT(t){return t.resolve||{}}function YT(t){return sg(e=>{const n=t(e);return n?Object(ce.a)(n).pipe(Object(be.a)(()=>e)):Object(ue.a)(e)})}class ZT extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const JT=new r.s("ROUTES");class tI{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(be.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new hT(ok(i.injector.get(JT,void 0,r.r.Self|r.r.Optional)).map(_T),i)}),xx(t=>{throw e._loader$=void 0,t}));return e._loader$=new Ox.a(n,()=>new ng.a).pipe(Object(jx.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(ce.a)(this.loader.load(t)):uk(t()).pipe(Object(jy.a)(t=>t instanceof r.x?Object(ue.a)(t):Object(ce.a)(this.compiler.compileModuleAsync(t))))}}class eI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new nI,this.attachRef=null}}class nI{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new eI,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class rI{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function iI(t){throw t}function sI(t,e,n){return e.parse("/")}function oI(t,e){return Object(ue.a)(null)}let aI=(()=>{class t{constructor(t,e,n,i,s,o,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new ng.a,this.errorHandler=iI,this.malformedUriErrorHandler=sI,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:oI,afterPreactivation:oI},this.urlHandlingStrategy=new rI,this.routeReuseStrategy=new ZT,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.z),this.console=s.get(r.bb);const u=s.get(r.B);this.isNgZoneEnabled=u instanceof r.B&&r.B.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new pk(new mk([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new tI(o,a,t=>this.triggerEvent(new Gx(t)),t=>this.triggerEvent(new $x(t))),this.routerState=Uk(this.currentUrlTree,this.rootComponentType),this.transitions=new my({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Oe(t=>0!==t.id),Object(be.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),sg(t=>{let n=!1,r=!1;return Object(ue.a)(t).pipe(Object(Iy.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),sg(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(ue.a)(t).pipe(sg(t=>{const n=this.transitions.getValue();return e.next(new Fx(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?yg.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,sg(t=>function(t,e,n,r,i){return new PT(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(be.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Iy.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(jy.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new HT(t,e,n,r,i,s).recognize();return null===o?zT(new qT):Object(ue.a)(o)}catch(Ym){return zT(Ym)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(be.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Iy.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Bx(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Fx(n,this.serializeUrl(r),i,s);e.next(a);const c=Uk(r,this.rootComponentType).snapshot;return Object(ue.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),yg.a}),YT(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Iy.a)(t=>{const e=new qx(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(be.a)(t=>Object.assign(Object.assign({},t),{guards:MT(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(jy.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(ue.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(ce.a)(t).pipe(Object(jy.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(ue.a)(!0);const o=s.map(s=>{const o=VT(s,e,i);let a;if(function(t){return t&&dT(t.canDeactivate)}(o))a=uk(o.canDeactivate(t,e,n,r));else{if(!dT(o))throw new Error("Invalid CanDeactivate guard");a=uk(o(t,e,n,r))}return a.pipe(Ig())});return Object(ue.a)(o).pipe(mT())}(t.component,t.route,n,e,r)),Ig(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(jy.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(ce.a)(e).pipe(Ix(e=>he(function(t,e){return null!==t&&e&&e(new Kx(t)),Object(ue.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Qx(t)),Object(ue.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>$O(()=>{const i=e.guards.map(i=>{const s=VT(i,e.node,n);let o;if(function(t){return t&&dT(t.canActivateChild)}(s))o=uk(s.canActivateChild(r,t));else{if(!dT(s))throw new Error("Invalid CanActivateChild guard");o=uk(s(r,t))}return o.pipe(Ig())});return Object(ue.a)(i).pipe(mT())}));return Object(ue.a)(i).pipe(mT())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(ue.a)(!0);const i=r.map(r=>$O(()=>{const i=VT(r,e,n);let s;if(function(t){return t&&dT(t.canActivate)}(i))s=uk(i.canActivate(e,t));else{if(!dT(i))throw new Error("Invalid CanActivate guard");s=uk(i(e,t))}return s.pipe(Ig())}));return Object(ue.a)(i).pipe(mT())}(t,e.route,n))),Ig(t=>!0!==t,!0))}(r,s,t,e):Object(ue.a)(n)),Object(be.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Iy.a)(t=>{if(fT(t.guardsResult)){const e=nk(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new zx(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Oe(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Vx(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),YT(t=>{if(t.guards.canActivateChecks.length)return Object(ue.a)(t).pipe(Object(Iy.a)(t=>{const e=new Hx(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),sg(t=>{let n=!1;return Object(ue.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(jy.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(ue.a)(t);let s=0;return Object(ce.a)(n).pipe(Ix(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(ue.a)({});const s={};return Object(ce.a)(i).pipe(Object(jy.a)(i=>function(t,e,n,r){const i=VT(t,e,r);return uk(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Iy.a)(t=>{s[i]=t}))),Ax(1),Object(jy.a)(()=>Object.keys(s).length===i.length?Object(ue.a)(s):yg.a))}(t._resolve,t,e,r).pipe(Object(be.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),qk(t,n).resolve),null)))}(t.route,e,r,i)),Object(Iy.a)(()=>s++),Ax(1),Object(jy.a)(e=>s===n.length?Object(ue.a)(t):yg.a))})),Object(Iy.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Vx(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Iy.a)(t=>{const e=new Wx(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),YT(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(be.a)(t=>{const e=function(t,e,n){const r=Xk(t,e._root,n?n._root:void 0);return new Vk(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Iy.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(be.a)(t=>(new uT(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(Iy.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Vx(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Px(i))),xx(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=fT(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Vx(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ux(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(wa){t.reject(wa)}}var i;return yg.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){yT(t),this.config=t.map(_T),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:i;let u=null;switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,i){if(0===n.length)return Jk(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new eT(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return ck(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new eT(n,e,r)}(n);if(s.toRoot())return Jk(e.root,new mk([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new nT(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new nT(t,t===e.root,0)}const r=Yk(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new nT(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?iT(o.segmentGroup,o.index,s.commands):rT(o.segmentGroup,o.index,s.commands);return Jk(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=fT(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Ym){e=this.malformedUriErrorHandler(Ym,this.urlSerializer,t)}return e}isActive(t,e){if(fT(t))return lk(this.currentUrlTree,t,e);const n=this.parseUrl(t);return lk(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Mx(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let c,u,l;i?(c=i.resolve,u=i.reject,l=i.promise):l=new Promise((t,e)=>{c=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.P),r.ec(bk),r.ec(nI),r.ec(w),r.ec(r.t),r.ec(r.y),r.ec(r.i),r.ec(void 0))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),cI=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.o,this.deactivateEvents=new r.o,this.name=i||Jx,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new uI(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(nI),r.Rb(r.S),r.Rb(r.j),r.fc("name"),r.Rb(r.h))},t.\u0275dir=r.Mb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class uI{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Bk?this.route:t===nI?this.childContexts:this.parent.get(t,e)}}class lI{}class hI{preload(t,e){return Object(ue.a)(null)}}let dI=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new tI(e,n,e=>t.triggerEvent(new Gx(e)),e=>t.triggerEvent(new $x(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Oe(t=>t instanceof Mx),Ix(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.z);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(ce.a)(n).pipe(Object(le.a)(),Object(be.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(ue.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(jy.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.ec(aI),r.ec(r.y),r.ec(r.i),r.ec(r.t),r.ec(lI))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),fI=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Fx?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Mx&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Zx&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Zx(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.ec(aI),r.ec(xt),r.ec(void 0))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const pI=new r.s("ROUTER_CONFIGURATION"),mI=new r.s("ROUTER_FORROOT_GUARD"),gI=[w,{provide:bk,useClass:vk},{provide:aI,useFactory:function(t,e,n,r,i,o,a,c={},u,l){const h=new aI(null,t,e,n,r,i,o,ok(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(c,h),c.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[bk,nI,w,r.t,r.y,r.i,JT,pI,[class{},new r.C],[class{},new r.C]]},nI,{provide:Bk,useFactory:function(t){return t.routerState.root},deps:[aI]},{provide:r.y,useClass:r.M},dI,hI,class{preload(t,e){return e().pipe(xx(()=>Object(ue.a)(null)))}},{provide:pI,useValue:{enableTracing:!1}}];function yI(){return new r.A("Router",aI)}let bI=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[gI,EI(e),{provide:mI,useFactory:wI,deps:[[aI,new r.C,new r.L]]},{provide:pI,useValue:n||{}},{provide:g,useFactory:_I,deps:[a,[new r.q(b),new r.C],pI]},{provide:fI,useFactory:vI,deps:[aI,xt,pI]},{provide:lI,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:hI},{provide:r.A,multi:!0,useFactory:yI},[SI,{provide:r.d,multi:!0,useFactory:CI,deps:[SI]},{provide:xI,useFactory:OI,deps:[SI]},{provide:r.b,multi:!0,useExisting:xI}]]}}static forChild(e){return{ngModule:t,providers:[EI(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.ec(mI,8),r.ec(aI,8))},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})();function vI(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new fI(t,e,n)}function _I(t,e,n={}){return n.useHash?new _(t,e):new v(t,e)}function wI(t){return"guarded"}function EI(t){return[{provide:r.a,multi:!0,useValue:t},{provide:JT,multi:!0,useValue:t}]}let SI=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new ng.a}appInitializer(){return this.injector.get(u,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(aI),r=this.injector.get(pI);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(ue.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(pI),n=this.injector.get(dI),i=this.injector.get(fI),s=this.injector.get(aI),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.t))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();function CI(t){return t.appInitializer.bind(t)}function OI(t){return t.bootstrapListener.bind(t)}const xI=new r.s("Router Initializer");function kI(t,e){if(1&t&&(r.kc(),r.Sb(0,"circle",3)),2&t){const t=r.lc();r.Dc("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),r.Fb("r",t._getCircleRadius())}}function TI(t,e){if(1&t&&(r.kc(),r.Sb(0,"circle",3)),2&t){const t=r.lc();r.Dc("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),r.Fb("r",t._getCircleRadius())}}function II(t,e){if(1&t&&(r.kc(),r.Sb(0,"circle",3)),2&t){const t=r.lc();r.Dc("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),r.Fb("r",t._getCircleRadius())}}function AI(t,e){if(1&t&&(r.kc(),r.Sb(0,"circle",3)),2&t){const t=r.lc();r.Dc("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),r.Fb("r",t._getCircleRadius())}}const RI=".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n";class DI{constructor(t){this._elementRef=t}}const jI=JE(DI,"primary"),PI=new r.s("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let NI=(()=>{class t extends jI{constructor(e,n,r,i,s){super(e),this._elementRef=e,this._document=r,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const o=t._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),o.has(r.head)||o.set(r.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===i&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=lE(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=lE(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,lE(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=wE(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,n=this._diameter,r=t._diameters;let i=r.get(e);if(!i||!i.has(n)){const t=this._document.createElement("style");t.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),t.textContent=this._getAnimationText(),e.appendChild(t),i||(i=new Set,r.set(e,i)),i.add(n)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(yE),r.Rb(o,8),r.Rb(tE,8),r.Rb(PI))},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(r.Fb("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),r.Dc("width",e.diameter,"px")("height",e.diameter,"px"),r.Jb("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[r.Bb],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(r.kc(),r.Xb(0,"svg",0),r.Ec(1,kI,1,9,"circle",1),r.Ec(2,TI,1,7,"circle",2),r.Wb()),2&t&&(r.Dc("width",e.diameter,"px")("height",e.diameter,"px"),r.rc("ngSwitch","indeterminate"===e.mode),r.Fb("viewBox",e._getViewBox()),r.Eb(1),r.rc("ngSwitchCase",!0),r.Eb(1),r.rc("ngSwitchCase",!1))},directives:[ft,pt],styles:[RI],encapsulation:2,changeDetection:0}),t._diameters=new WeakMap,t})(),LI=(()=>{class t extends NI{constructor(t,e,n,r,i){super(t,e,n,r,i),this.mode="indeterminate"}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(yE),r.Rb(o,8),r.Rb(tE,8),r.Rb(PI))},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Dc("width",e.diameter,"px")("height",e.diameter,"px"),r.Jb("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[r.Bb],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(r.kc(),r.Xb(0,"svg",0),r.Ec(1,II,1,9,"circle",1),r.Ec(2,AI,1,7,"circle",2),r.Wb()),2&t&&(r.Dc("width",e.diameter,"px")("height",e.diameter,"px"),r.rc("ngSwitch","indeterminate"===e.mode),r.Fb("viewBox",e._getViewBox()),r.Eb(1),r.rc("ngSwitchCase",!0),r.Eb(1),r.rc("ngSwitchCase",!1))},directives:[ft,pt],styles:[RI],encapsulation:2,changeDetection:0}),t})(),FI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[YE,Ct],YE]}),t})();function MI(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div"),r.Xb(1,"mat-card",2),r.Xb(2,"mat-card-header"),r.Sb(3,"div",3),r.Xb(4,"mat-card-title"),r.Gc(5),r.Wb(),r.Xb(6,"mat-card-subtitle"),r.Gc(7),r.Wb(),r.Wb(),r.Wb(),r.Xb(8,"div",2),r.Xb(9,"button",4),r.hc("click",function(){return r.Ac(t),r.lc().goEmprestimos()}),r.Gc(10,"Empr\xe9stimos"),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=r.lc();r.Eb(5),r.Ic(" Ol\xe1, ",t.usuario.nome,"."),r.Eb(2),r.Ic("Score: ",t.usuario.score,"")}}function VI(t,e){1&t&&r.Sb(0,"mat-spinner")}const UI=[{path:"",redirectTo:"/main",pathMatch:"full"},{path:"main",component:(()=>{class t{constructor(t,e){this.fsdb=t,this.router=e}ngOnInit(){return Object(se.b)(this,void 0,void 0,function*(){this.usuario=yield this.fsdb.getFakeUser(),console.log(this.usuario)})}goEmprestimos(){this.router.navigate(["emprestimos"])}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(ty),r.Rb(aI))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-main"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[1,"m-3"],["mat-card-avatar","",1,"example-header-image"],["mat-raised-button","","color","accent",3,"click"]],template:function(t,e){if(1&t&&(r.Ec(0,MI,11,2,"div",0),r.Ec(1,VI,1,0,"ng-template",null,1,r.Fc)),2&t){const t=r.zc(2);r.rc("ngIf",e.usuario)("ngIfElse",t)}},directives:[ut,MS,VS,FS,NS,LS,tC,LI],styles:[".example-header-image[_ngcontent-%COMP%]{background-image:url(https://www.serasa.com.br/lno/static-webfiles/limpa-nome/packages/navbar/limpa-nome.svg);background-size:cover}"]}),t})()},{path:"emprestimos",component:Cx}];let BI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[bI.forRoot(UI)],bI]}),t})(),qI=(()=>{class t{constructor(){this.title="desafioSerasa"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Xb(0,"div"),r.Sb(1,"router-outlet"),r.Wb())},directives:[cI],styles:[""]}),t})();const zI={apiKey:"AIzaSyD2dZ8gHTfxwJYA8xz5hQWDOMfEjcOclTc",authDomain:"desafioserasa.firebaseapp.com",projectId:"desafioserasa",storageBucket:"desafioserasa.appspot.com",messagingSenderId:"596621828594",appId:"1:596621828594:web:5ead3cc06785d3adeb4b6b"};var HI="firebasestorage.googleapis.com",WI=function(t){function e(n,r){var i=t.call(this,GI(n),"Firebase Storage: "+r+" ("+GI(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Object(se.c)(e,t),e.prototype._codeEquals=function(t){return GI(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(De.c);function GI(t){return"storage/"+t}function $I(){return new WI("unknown","An unknown error occurred, please check the error payload for server response.")}function KI(){return new WI("canceled","User canceled the upload/download.")}function XI(){return new WI("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function QI(t){return new WI("invalid-argument",t)}function YI(){return new WI("app-deleted","The Firebase app was deleted.")}function ZI(t){return new WI("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function JI(t,e){return new WI("invalid-format","String does not match format '"+t+"': "+e)}function tA(t){throw new WI("internal-error","Internal error: "+t)}var eA={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},nA=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function rA(t,e){switch(t){case eA.RAW:return new nA(iA(e));case eA.BASE64:case eA.BASE64URL:return new nA(sA(t,e));case eA.DATA_URL:return new nA((n=new oA(e)).base64?sA(eA.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(Ym){throw JI(eA.DATA_URL,"Malformed data URL.")}return iA(e)}(n.rest),new oA(e).contentType)}var n;throw $I()}function iA(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,s=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&s)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function sA(t,e){switch(t){case eA.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw JI(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case eA.BASE64URL:var i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw JI(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(Ym){throw JI(t,"Invalid character found")}for(var a=new Uint8Array(o.length),c=0;c<o.length;c++)a[c]=o.charCodeAt(c);return a}var oA=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw JI(eA.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),aA={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cA(t){switch(t){case"running":case"pausing":case"canceling":return aA.RUNNING;case"paused":return aA.PAUSED;case"success":return aA.SUCCESS;case"canceled":return aA.CANCELED;case"error":default:return aA.ERROR}}var uA=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),lA=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=uA.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=uA.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=uA.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw tA("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw tA("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw tA("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Ym){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw tA("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),hA=function(){function t(){}return t.prototype.createXhrIo=function(){return new lA},t}(),dA=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(Ym){return new t(e,"")}if(""===r.path)return r;throw new WI("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)",s=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),c=[{regex:s,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+(n===HI?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<c.length;u++){var l=c[u],h=l.regex.exec(e);if(h){var d=h[l.indices.path];d||(d=""),r=new t(h[l.indices.bucket],d),l.postModify(r);break}}if(null==r)throw function(t){return new WI("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),fA=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function pA(t){return"string"==typeof t||t instanceof String}function mA(t){return gA()&&t instanceof Blob}function gA(){return"undefined"!=typeof Blob}function yA(t,e,n,r){if(r<e)throw QI("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw QI("Invalid value for '"+t+"'. Expected "+n+" or less.")}function bA(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function vA(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var _A=function(){function t(t,e,n,r,i,s,o,a,c,u,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,s=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());void 0!==a?i(a):i()}catch(Ym){s(Ym)}else null!==o?((r=$I()).serverResponse=o.getResponseText(),s(t.errorCallback_?t.errorCallback_(o,r):r)):s(r=n.canceled?t.appDelete_?YI():KI():new WI("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new wA(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,s=null,o=!1,a=0;function c(){return 2===a}var u=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u||(u=!0,n.apply(null,t))}function h(e){s=setTimeout(function(){s=null,function(e,n){if(n)e(!1,new wA(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===uA.NO_ERROR,s=n.getStatus();if(r&&!t.isRetryStatusCode_(s)){var o=-1!==t.successCodes_.indexOf(s);e(!0,new wA(o,n))}else{var a=n.getErrorCode()===uA.ABORT;e(!1,new wA(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,c())},e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)l.call.apply(l,Object(se.f)([null,t],e));else{var r;c()||o?l.call.apply(l,Object(se.f)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,u||(null!==s?(t||(a=2),clearTimeout(s),h(0)):t||(a=1)))}return h(0),setTimeout(function(){o=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),wA=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function EA(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function SA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=EA();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(gA())return new Blob(t);throw new WI("unsupported-environment","This browser doesn't seem to support creating Blobs")}var CA=function(){function t(t,e){var n=0,r="";mA(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(mA(this.data_)){var r=(s=e,o=n,(i=this.data_).webkitSlice?i.webkitSlice(s,o):i.mozSlice?i.mozSlice(s,o):i.slice?i.slice(s,o):null);return null===r?null:new t(r)}var i,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(gA()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(SA.apply(null,r))}var i=e.map(function(t){return pA(t)?rA(eA.RAW,t).data:t.data_}),s=0;i.forEach(function(t){s+=t.byteLength});var o=new Uint8Array(s),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]}),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}();function OA(t){var e,n;try{e=JSON.parse(t)}catch(Ym){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function xA(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function kA(t,e){return e}var TA=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||kA}}(),IA=null;function AA(){if(IA)return IA;var t=[];t.push(new TA("bucket")),t.push(new TA("generation")),t.push(new TA("metageneration")),t.push(new TA("name","fullPath",!0));var e=new TA("name");e.xform=function(t,e){return function(t){return!pA(t)||t.length<2?t:xA(t)}(e)},t.push(e);var n=new TA("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new TA("timeCreated")),t.push(new TA("updated")),t.push(new TA("md5Hash",null,!0)),t.push(new TA("cacheControl",null,!0)),t.push(new TA("contentDisposition",null,!0)),t.push(new TA("contentEncoding",null,!0)),t.push(new TA("contentLanguage",null,!0)),t.push(new TA("contentType",null,!0)),t.push(new TA("metadata","customMetadata",!0)),IA=t}function RA(t,e,n){var r=OA(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,s=0;s<i;s++){var o=n[s];r[o.local]=o.xform(r,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new dA(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function DA(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var jA=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function PA(t){if(!t)throw $I()}function NA(t,e){return function(n,r){var i=RA(t,r,e);return PA(null!==i),i}}function LA(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new WI("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new WI("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new WI("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new WI("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function FA(t){var e=LA(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new WI("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function MA(t,e,n){var r=bA(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,s=new jA(r,"GET",NA(t,n),i);return s.errorHandler=FA(e),s}function VA(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var UA=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function BA(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(Ym){PA(!1)}return PA(!!n&&-1!==(e||["active"]).indexOf(n)),n}var qA=262144,zA=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function HA(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var WA=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=AA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o=VA(e,r,i),a={name:o.fullPath},c=bA(s,t.host),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=DA(o,n),h=new jA(c,"POST",function(t){var e;BA(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(Ym){PA(!1)}return PA(pA(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=u,h.body=l,h.errorHandler=LA(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n,r){var i=function(t,e,n,r){var i=new jA(n,"POST",function(t){var e=BA(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Ym){PA(!1)}n||PA(!1);var i=Number(n);return PA(!isNaN(i)),new UA(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=LA(e),i}(t._ref.storage,t._ref._location,e,t._blob),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=qA*this._chunkMultiplier,n=new UA(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,s){var o;try{o=function(t,e,n,r,i,s,o,a){var c=new UA(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new WI("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=c.total-c.current,l=u;i>0&&(l=Math.min(l,i));var h=c.current,d={"X-Goog-Upload-Command":l===u?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},f=r.slice(h,h+l);if(null===f)throw XI();var p=new jA(n,"POST",function(t,n){var i,o=BA(t,["active","final"]),a=c.current+l,u=r.size();return i="final"===o?NA(e,s)(t,n):null,new UA(a,u,"final"===o,i)},e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=LA(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(Ym){return t._error=Ym,void t._transition("error")}var a=t._ref.storage._makeRequest(o,i,s);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){qA*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,n){var r=MA(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;var c=VA(e,r,i),u=DA(c,n),l=CA.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw XI();var h={name:c.fullPath},d=bA(s,t.host),f=t.maxUploadRetryTime,p=new jA(d,"POST",NA(t,n),f);return p.urlParams=h,p.headers=o,p.body=l.uploadData(),p.errorHandler=LA(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=KI(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=cA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,s=new zA(e,n,r);return this._addObserver(s),function(){i._removeObserver(s)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(cA(this._state)){case aA.SUCCESS:HA(this._resolve.bind(null,this.snapshot))();break;case aA.CANCELED:case aA.ERROR:HA(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(cA(this._state)){case aA.RUNNING:case aA.PAUSED:t.next&&HA(t.next.bind(t,this.snapshot))();break;case aA.SUCCESS:t.complete&&HA(t.complete.bind(t))();break;case aA.CANCELED:case aA.ERROR:t.error&&HA(t.error.bind(t,this._error))();break;default:t.error&&HA(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),GA=function(){function t(t,e){this._service=t,this._location=e instanceof dA?e:dA.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new dA(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return xA(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new dA(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw ZI(t)},t}();function $A(t){var e={prefixes:[],items:[]};return KA(t,e).then(function(){return e})}function KA(t,e,n){return Object(se.b)(this,void 0,void 0,function(){var r,i,s;return Object(se.d)(this,function(o){switch(o.label){case 0:return[4,XA(t,{pageToken:n})];case 1:return r=o.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(s=e.items).push.apply(s,r.items),null==r.nextPageToken?[3,3]:[4,KA(t,e,r.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function XA(t,e){return Object(se.b)(this,void 0,void 0,function(){var n,r;return Object(se.d)(this,function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&yA("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var o=bA(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,c=new jA(o,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=OA(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,s=n.prefixes;i<s.length;i++){var o=s[i].replace(/\/$/,""),a=t._makeStorageReference(new dA(e,o));r.prefixes.push(a)}if(n.items)for(var c=0,u=n.items;c<u.length;c++)a=t._makeStorageReference(new dA(e,u[c].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return PA(null!==i),i}}(t,e.bucket),a);return c.urlParams=s,c.errorHandler=LA(e),c}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function QA(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new dA(t._location.bucket,n);return new GA(t.storage,r)}function YA(t){return/^[A-Za-z]+:\/\//.test(t)}function ZA(t,e){if(t instanceof eR){var n=t;if(null==n._bucket)throw new WI("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new GA(n,n._bucket);return null!=e?ZA(r,e):r}if(void 0!==e){if(e.includes(".."))throw QI('`path` param cannot contain ".."');return QA(t,e)}return t}function JA(t,e){if(e&&YA(e)){if(t instanceof eR)return new GA(t,e);throw QI("To use ref(service, url), the first argument must be a Storage instance.")}return ZA(t,e)}function tR(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:dA.makeFromBucketSpec(n,t)}var eR=function(){function t(t,e,n,r,i,s){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=HI,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?dA.makeFromBucketSpec(i,this._host):tR(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?dA.makeFromBucketSpec(this._url,t):tR(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){yA("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){yA("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(se.b)(this,void 0,void 0,function(){var t,e;return Object(se.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return Object(se.b)(this,void 0,void 0,function(){var t;return Object(se.d)(this,function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new GA(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new fA(YI());var i=function(t,e,n,r,i,s){var o=vA(t.urlParams),a=t.url+o,c=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(c,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new _A(a,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},t.prototype.makeRequestWithTokens=function(t){return Object(se.b)(this,void 0,void 0,function(){var e;return Object(se.d)(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}})})},t}();function nR(t,e){return JA(t=Object(De.i)(t),e)}var rR,iR,sR=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),oR=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new sR(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new sR(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,s=void 0;return e&&(s="function"==typeof e?function(t){return e(new sR(t,i,i._ref))}:{next:e.next?function(t){return e.next(new sR(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,n||void 0,r||void 0)},t}(),aR=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new cR(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new cR(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),cR=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return QA(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new oR(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new WA(t,new CA(e),n)}(t=Object(De.i)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=eA.RAW),this._throwIfRoot("putString");var r=rA(e,t),i=Object(se.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new oR(new WA(this._delegate,new CA(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,$A(t=Object(De.i)(t))).then(function(t){return new aR(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return XA(t=Object(De.i)(t),e)}(this._delegate,t||void 0).then(function(t){return new aR(t,e.storage)})},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(se.b)(this,void 0,void 0,function(){var e;return Object(se.d)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=MA(t.storage,t._location,AA()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object(De.i)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(se.b)(this,void 0,void 0,function(){var n;return Object(se.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=bA(e.fullServerUrl(),t.host),s=DA(n,r),o=t.maxOperationRetryTime,a=new jA(i,"PATCH",NA(t,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=FA(e),a}(t.storage,t._location,e,AA()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}(t=Object(De.i)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(se.b)(this,void 0,void 0,function(){var e;return Object(se.d)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=bA(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,s=new jA(r,"GET",function(t,e){return function(n,r){var i=RA(t,r,e);return PA(null!==i),function(t,e,n){var r=OA(e);if(null===r)return null;if(!pA(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var s=encodeURIComponent;return i.split(",").map(function(e){var r=t.fullPath;return bA("/b/"+s(t.bucket)+"/o/"+s(r),n)+vA({alt:"media",token:e})})[0]}(i,r,t.host)}}(t,n),i);return s.errorHandler=FA(e),s}(t.storage,t._location,AA()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(t){if(null===t)throw new WI("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=Object(De.i)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(se.b)(this,void 0,void 0,function(){var e;return Object(se.d)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=bA(e.fullServerUrl(),t.host),r=new jA(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=FA(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object(De.i)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw ZI(t)},t}(),uR=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(YA(t))throw QI("ref() expected a child path but got a URL, use refFromURL instead.");return new cR(nR(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!YA(t))throw QI("refFromURL() expected a full URL but got a child path, use ref() instead.");try{dA.makeFromUrl(t,this._delegate.host)}catch(Ym){throw QI("refFromUrl() expected a valid full URL but got an invalid one.")}return new cR(nR(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function lR(t){const e=function(t){return new ae.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(sE(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(be.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function hR(t,e,n){return{getDownloadURL:()=>Object(ue.a)(void 0).pipe(Object(Te.b)(e.outsideAngular),sg(()=>t.getDownloadURL()),n),getMetadata:()=>Object(ue.a)(void 0).pipe(Object(Te.b)(e.outsideAngular),sg(()=>t.getMetadata()),n),delete:()=>Object(ce.a)(t.delete()),child:r=>hR(t.child(r),e,n),updateMetadata:e=>Object(ce.a)(t.updateMetadata(e)),put:(e,n)=>lR(t.put(e,n)),putString:(e,n,r)=>lR(t.putString(e,n,r)),listAll:()=>Object(ce.a)(t.listAll())}}iR={TaskState:aA,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:eA,Storage:eR,Reference:cR},(rR=Re.a).INTERNAL.registerComponent(new tg.a("storage",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new uR(r,new eR(r,i,s,new hA,n,Re.a.SDK_VERSION))},"PUBLIC").setServiceProps(iR).setMultipleInstances(!0)),rR.registerVersion("@firebase/storage","0.5.3");const dR=new r.s("angularfire2.storageBucket"),fR=new r.s("angularfire2.storage.maxUploadRetryTime"),pR=new r.s("angularfire2.storage.maxOperationRetryTime");let mR=(()=>{class t{constructor(t,e,n,r,i,s,o){this.schedulers=new Ie.d(i),this.keepUnstableUntilFirst=Object(Ie.h)(this.schedulers);const a=Object(Ie.g)(t,i,e);this.storage=Object(Ie.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return s&&t.setMaxUploadRetryTime(s),o&&t.setMaxOperationRetryTime(o),t},[s,o])}ref(t){return hR(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return hR(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return hR(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(Ie.c),r.ec(Ie.b,8),r.ec(dR,8),r.ec(r.D),r.ec(r.B),r.ec(fR,8),r.ec(pR,8))},t.\u0275prov=r.Nb({factory:function(){return new t(r.ec(Ie.c),r.ec(Ie.b,8),r.ec(dR,8),r.ec(r.D),r.ec(r.B),r.ec(fR,8),r.ec(pR,8))},token:t,providedIn:"any"}),t})(),gR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})(),yR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:[mR],imports:[gR]}),t})(),bR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Ct,YE],YE]}),t})(),vR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[bE]]}),t})(),_R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:[rS],imports:[[vR,QC,YE],vR,QC]}),t})(),wR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})(),ER=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[wR,mS,YE,OE],wR,YE]}),t})(),SR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[YE,mS],YE]}),t})(),CR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[rO]]}),t})(),OR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[CR,YE],YE]}),t})();n("z6cu");let xR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[YE],YE]}),t})(),kR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[UE,YE],YE]}),t})(),TR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t,bootstrap:[qI]}),t.\u0275inj=r.Ob({providers:[],imports:[[ie,BI,Ie.a.initializeApp(zI),yR,rE,bR,QC,_R,eC,FI,US,iC,ER,SR,gx,OR,xR,KS,kR,bC,gv]]}),t})();Object(r.V)(),ne().bootstrapModule(TR).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);